"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6546],{53389:function(e,n,t){t.d(n,{UK:function(){return r.UK},qL:function(){return r.qL},x7:function(){return N},rO:function(){return R.rO},HW:function(){return R.HW},mX:function(){return R.mX},cq:function(){return R.cq},MQ:function(){return R.MQ},TK:function(){return A.Z},JY:function(){return R.JY},wq:function(){return R.wq},ou:function(){return R.ou},JE:function(){return R.JE},Fe:function(){return R.Fe},Ti:function(){return R.Ti},cX:function(){return w.Z},i7:function(){return R.i7},bL:function(){return R.bL},sL:function(){return R.sL},oF:function(){return _.ZP},lz:function(){return R.lz}});var r=t(27262),o=t(19485),i=t(9279),a=t(31518),u=t(2593);const c=e=>{let{bentobox:n,tokenAddress:t,amount:r,account:u,chainId:c,share:d}=e;const s=(0,o.getAddress)(t);return{data:n.interface.encodeFunctionData("withdraw",[s===a.df[c]?i.d:s,u,u,r,d?d.toString():0])}},d=e=>{let{bentobox:n,tokenAddress:t,rebalance:r}=e;return{data:n.interface.encodeFunctionData("harvest",[t,r,0])}},s=e=>{let{bentobox:n,actions:t=[],revertOnFail:r}=e;const o=t.filter(Boolean);if(0===o.length)throw new Error("No valid actions");return 1===o.length?o[0]:o.length>1?n.interface.encodeFunctionData("batch",[o,r]):void 0};var l=t(59499),f=t(69807),v=t(46440),g=t(44554),p=t(12614),b=t(68411),C=t(67294);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var N=e=>{const{account:n,chainId:t,library:r}=(0,p.aQ)(),l=(0,b.h7)(),h=(0,R.rO)(!0),N=(0,C.useCallback)((async(e,o,i)=>{if(t&&n&&h&&r)try{const a=await r.getSigner().sendTransaction({from:n,to:h.address,data:s({bentobox:h,actions:[c({bentobox:h,tokenAddress:e,account:n,amount:o,chainId:t}).data,d({bentobox:h,tokenAddress:e,rebalance:!0}).data,c({bentobox:h,tokenAddress:e,account:n,amount:i.sub(o),chainId:t}).data],revertOnFail:!1})});if(null!==a&&void 0!==a&&a.hash)return l(a,{summary:"Withdraw from Bentobox"})}catch(a){return console.error("Bentobox withdraw error:",a),a}}),[n,l,h,t,r]),A=(0,C.useCallback)((async(c,d,v,g)=>{if(!v||!t||!n||!h||!r)return;const p=[];let b="";try{const C=await h.balanceOf(c.wrapped.address,"0x000000000000000000000000000000000000dead"),m=(a.QA.equal(a.QA.BigInt(0),d.base)&&a.QA.equal(a.QA.BigInt(0),d.elastic)?v:u.O$.from((0,f.T)(d,a.QA.BigInt(v)).toString())).sub(C.isZero()?1e3:0);g&&e&&(p.push((e=>{let{bentobox:n,account:t,masterContract:r,permit:o}=e;const{v:i,r:a,s:u}=o;return{data:n.interface.encodeFunctionData("setMasterContractApproval",[t,r,!0,i,a,u])}})({bentobox:h,masterContract:e,permit:g,account:n}).data),b+="Approve Master Contract and");const{data:N,value:R}=(e=>{let{bentobox:n,tokenAddress:t,share:r,amount:c,account:d,chainId:s}=e;const l=(0,o.getAddress)(t);return l===a.df[s]?{data:n.interface.encodeFunctionData("deposit",[i.d,d,d,0,r]),value:c}:{data:n.interface.encodeFunctionData("deposit",[l,d,d,0,r]),value:u.O$.from(0)}})({bentobox:h,tokenAddress:c.wrapped.address,account:n,amount:v,share:m,chainId:t});p.push(N),b+="Deposit to Bentobox",C.isZero()&&p.push((e=>{let{bentobox:n,tokenAddress:t,fromAddress:r,toAddress:o,share:i}=e;return{data:n.interface.encodeFunctionData("transfer",[t,r,o,i])}})({bentobox:h,fromAddress:n,tokenAddress:c.wrapped.address,toAddress:"0x000000000000000000000000000000000000dead",share:u.O$.from(1)}).data);const A=await r.getSigner().sendTransaction({from:n,to:h.address,data:s({bentobox:h,actions:p,revertOnFail:!0}),value:R});return null!==A&&void 0!==A&&A.hash&&(l(A,{summary:b}),await A.wait()),A}catch(C){return console.error("Bentobox deposit error:",C),C}}),[n,l,h,t,r,e]),w=(0,C.useCallback)((async(e,o,i)=>{if(!o||!t||!n||!h||!r)return;const a=(0,g.uN)(e,v.RB,r),u=await a.balanceOf(null===h||void 0===h?void 0:h.address);if(o.gt(u))return N(e,u,o);try{const a=await r.getSigner().sendTransaction(m({from:n,to:h.address},c({bentobox:h,tokenAddress:e,account:n,amount:o,chainId:t,share:i})));if(null!==a&&void 0!==a&&a.hash)return l(a,{summary:"Withdraw from Bentobox"})}catch(d){return console.error("Bentobox withdraw error:",d),d}}),[n,l,h,t,r,N]),_=(0,C.useCallback)((async function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&h&&r&&n)try{const t=await r.getSigner().sendTransaction(m({from:n,to:h.address},d({bentobox:h,tokenAddress:e,rebalance:o})));if(null!==t&&void 0!==t&&t.hash)return l(t,{summary:o?"Harvest & Rebalance":"Harvest"})}catch(i){return console.error("bentobox harvest error:",i),i}}),[n,l,h,t,r]);return{deposit:A,withdraw:w,harvest:_,withdrawWithHarvest:N}},R=(t(89638),t(37601),t(54907));t(89735),t(1082);var A=t(76294),w=t(80113),_=t(90573)},92037:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(2886),o=t(54907);function i(){var e,n;const t=(0,o.h$)();return null===(e=(0,r.Wk)(t,"getCurrentBlockTimestamp"))||void 0===e||null===(n=e.result)||void 0===n?void 0:n[0]}},76294:function(e,n,t){var r=t(74221),o=t(67294);r.Z.IFuseOptions;n.Z=function(e){let{data:n,options:t}=e;const{0:i,1:a}=(0,o.useState)(""),u=(0,o.useCallback)((()=>a("")),[]);return(0,o.useMemo)((()=>{const e=function(e){let{fuse:n,data:t,term:r}=e;const o=n.search(r);return r?o.map((e=>e.item)):t}({fuse:new r.Z(n||[],t),data:n,term:i});return{result:e,search:a,term:i,reset:u}}),[n,t,u,i])}},80113:function(e,n,t){var r=t(2593),o=t(31518),i=t(67294);function a(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";try{return n.replace("[",t).replace("]","").split(t).reduce(((e,n)=>e[n]),e)}catch(r){return}}n.Z=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{0:t,1:u}=(0,i.useState)(n),c=(0,i.useMemo)((()=>{if(e&&e.length>0){const n=[...e];return null!==t&&n.sort(((e,n)=>{const i=a(e,t.key),u=a(n,t.key);if("number"===typeof i&&"number"===typeof u){if(i===1/0)return"ascending"===t.direction?-1:1;if(u===1/0)return"ascending"===t.direction?1:-1;if(i<u)return"ascending"===t.direction?-1:1;if(i>u)return"ascending"===t.direction?1:-1}if(i instanceof r.O$&&u instanceof r.O$){if(i.lt(u))return"ascending"===t.direction?-1:1;if(i.gt(u))return"ascending"===t.direction?1:-1}if(i instanceof o.QA&&u instanceof o.QA){if(o.QA.lessThan(i,u))return"ascending"===t.direction?-1:1;if(o.QA.greaterThan(i,u))return"ascending"===t.direction?1:-1}if(i instanceof o.ih&&u instanceof o.ih){if(i.lessThan(u))return"ascending"===t.direction?-1:1;if(i.greaterThan(u))return"ascending"===t.direction?1:-1}return i?u?0:-1:1})),n}return[]}),[e,t]),d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ascending";t&&t.key===e&&"ascending"===t.direction?n="descending":t&&t.key===e&&"descending"===t.direction&&(n="ascending"),u({key:e,direction:n})};return{items:c,requestSort:d,sortConfig:t}}},62603:function(e,n,t){t.d(n,{A:function(){return c},Y:function(){return u}});var r=t(8198),o=t(31518),i=t(89638),a=t(2886);const u=e=>{var n;return(0,a._Y)(null!==(n=null===e||void 0===e?void 0:e.map((e=>null!==e&&void 0!==e&&e.isToken?e.address:void 0)))&&void 0!==n?n:[],new r.vU(i),"totalSupply").map(((n,t)=>{var r,i,a;return i=null===(r=n.result)||void 0===r?void 0:r[0],null!==(a=null===e||void 0===e?void 0:e[t])&&void 0!==a&&a.isToken&&i?o.ih.fromRawAmount(a,i.toString()):void 0})).reduce(((n,t,r)=>(t&&null!==e&&void 0!==e&&e[r]&&(n[e[r].wrapped.address]=t),n)),{})},c=e=>{const n=u([e]);return e?n[e.wrapped.address]:void 0}},66367:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(16339),o=t(67294),i=t(92037);function a(){const e=(0,r.C)((e=>e.user.userDeadline)),n=(0,i.Z)();return(0,o.useMemo)((()=>{if(n&&e)return n.add(e)}),[n,e])}},26168:function(e,n,t){t.d(n,{OA:function(){return b},OY:function(){return p},Qw:function(){return C}});var r=t(14744),o=t(31518),i=t(60708),a=t(62603),u=t(97503),c=t(12614),d=t(16339),s=t(22986),l=t(67294),f=t(25617),v=t(30380);const g=o.QA.BigInt(0);function p(){return(0,f.v9)((e=>e.mint))}function b(e){const n=(0,d.T)();return{onFieldAInput:(0,l.useCallback)((t=>{n((0,v.LC)({field:v.gN.CURRENCY_A,typedValue:t,noLiquidity:!0===e}))}),[n,e]),onFieldBInput:(0,l.useCallback)((t=>{n((0,v.LC)({field:v.gN.CURRENCY_B,typedValue:t,noLiquidity:!0===e}))}),[n,e])}}function C(e,n){var t,d;const{i18n:f}=(0,r.mV)(),{account:b}=(0,c.aQ)(),{independentField:C,typedValue:h,otherTypedValue:m}=p(),N=C===v.gN.CURRENCY_A?v.gN.CURRENCY_B:v.gN.CURRENCY_A,R=(0,l.useMemo)((()=>({[v.gN.CURRENCY_A]:null!==e&&void 0!==e?e:void 0,[v.gN.CURRENCY_B]:null!==n&&void 0!==n?n:void 0})),[e,n]),[A,w]=(0,u.Oo)(R[v.gN.CURRENCY_A],R[v.gN.CURRENCY_B]),_=(0,a.A)(null===w||void 0===w?void 0:w.liquidityToken),y=A===u._G.NOT_EXISTS||Boolean(_&&o.QA.equal(_.quotient,g))||Boolean(A===u._G.EXISTS&&w&&o.QA.equal(w.reserve0.quotient,g)&&o.QA.equal(w.reserve1.quotient,g)),E=(0,s.K5)(null!==b&&void 0!==b?b:void 0,[R[v.gN.CURRENCY_A],R[v.gN.CURRENCY_B]]),O={[v.gN.CURRENCY_A]:E[0],[v.gN.CURRENCY_B]:E[1]},Y=(0,i.e)(h,R[C]),k=(0,l.useMemo)((()=>{if(y)return m&&R[N]?(0,i.e)(m,R[N]):void 0;if(Y){const t=null===Y||void 0===Y?void 0:Y.wrapped,[r,i]=[null===e||void 0===e?void 0:e.wrapped,null===n||void 0===n?void 0:n.wrapped];if(r&&i&&t&&w){const a=N===v.gN.CURRENCY_B?n:e,u=N===v.gN.CURRENCY_B?w.priceOf(r).quote(t):w.priceOf(i).quote(t);return null!==a&&void 0!==a&&a.isNative?o.ih.fromRawAmount(a,u.quotient):u}}else;}),[y,m,R,N,Y,e,n,w]),U=(0,l.useMemo)((()=>({[v.gN.CURRENCY_A]:C===v.gN.CURRENCY_A?Y:k,[v.gN.CURRENCY_B]:C===v.gN.CURRENCY_A?k:Y})),[k,Y,C]),B=(0,l.useMemo)((()=>{if(!y){const n=null===e||void 0===e?void 0:e.wrapped;return w&&n?w.priceOf(n):void 0}{const{[v.gN.CURRENCY_A]:e,[v.gN.CURRENCY_B]:n}=U;if(null!==e&&void 0!==e&&e.greaterThan(0)&&null!==n&&void 0!==n&&n.greaterThan(0)){const t=n.divide(e);return new o.tA(e.currency,n.currency,t.denominator,t.numerator)}}}),[e,y,w,U]),x=(0,l.useMemo)((()=>{const{[v.gN.CURRENCY_A]:e,[v.gN.CURRENCY_B]:n}=U,[t,r]=[null===e||void 0===e?void 0:e.wrapped,null===n||void 0===n?void 0:n.wrapped];if(w&&_&&t&&r)try{return w.getLiquidityMinted(_,t,r)}catch(T){return void console.error(T)}}),[U,w,_]),q=(0,l.useMemo)((()=>x&&_?new o.gG(x.quotient,_.add(x).quotient):void 0),[x,_]);let T;var I,F;(b||(T=f._(f._("Connect Wallet"))),A===u._G.INVALID)&&(T=null!==(I=T)&&void 0!==I?I:f._(f._("Invalid pair")));U[v.gN.CURRENCY_A]&&U[v.gN.CURRENCY_B]||(T=null!==(F=T)&&void 0!==F?F:f._(f._("Enter an amount")));const{[v.gN.CURRENCY_A]:Q,[v.gN.CURRENCY_B]:S}=U;var M,D;Q&&null!==O&&void 0!==O&&null!==(t=O[v.gN.CURRENCY_A])&&void 0!==t&&t.lessThan(Q)&&(T=f._(f._("Insufficient {0} balance",{0:null===(M=R[v.gN.CURRENCY_A])||void 0===M?void 0:M.symbol})));S&&null!==O&&void 0!==O&&null!==(d=O[v.gN.CURRENCY_B])&&void 0!==d&&d.lessThan(S)&&(T=f._(f._("Insufficient {0} balance",{0:null===(D=R[v.gN.CURRENCY_B])||void 0===D?void 0:D.symbol})));return{dependentField:N,currencies:R,pair:w,pairState:A,currencyBalances:O,parsedAmounts:U,price:B,noLiquidity:y,liquidityMinted:x,poolTokenPercentage:q,error:T}}},25159:function(e,n,t){var r=t(67294);const o=r.forwardRef((function(e,n){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),r.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))}));n.Z=o}}]);