(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8106],{29246:function(e,i,t){var r=t(98612),a=t(37005);e.exports=function(e){return a(e)&&r(e)}},40690:function(e,i,t){var r=t(34963),a=t(90148),s=t(40371),n=t(22545),l=t(29246),o=Math.max;e.exports=function(e){if(!e||!e.length)return[];var i=0;return e=r(e,(function(e){if(l(e))return i=o(e.length,i),!0})),n(i,(function(i){return a(e,s(i))}))}},4788:function(e,i,t){var r=t(5976)(t(40690));e.exports=r},64958:function(e,i,t){"use strict";var r=t(59499),a=t(4730),s=t(41664),n=t.n(s),l=t(11163),o=t(67294),d=t(85893);const c=["children","exact","activeClassName"];function u(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?u(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}i.Z=e=>{let{children:i,exact:t=!1,activeClassName:r="text-high-emphesis"}=e,s=(0,a.Z)(e,c);const{asPath:u,pathname:h,route:v,query:x,basePath:p}=(0,l.useRouter)(),f=o.Children.only(i),g=f.props.className||"",y=(t?(s.as||s.href.pathname||s.href)===u:u.startsWith(s.as||s.href.pathname||s.href))?"".concat(g," ").concat(r).trim():g;return(0,d.jsx)(n(),m(m({href:s.href},s),{},{children:o.cloneElement(f,{className:y||null})}))}},99596:function(e,i,t){"use strict";t.d(i,{Z:function(){return m}});var r=t(14744),a=t(67294),s=t(45697),n=t.n(s);function l(){return l=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(this,arguments)}function o(e,i){if(null==e)return{};var t,r,a=function(e,i){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],i.indexOf(t)>=0||(a[t]=e[t]);return a}(e,i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],i.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=(0,a.forwardRef)((function(e,i){var t=e.color,r=void 0===t?"currentColor":t,s=e.size,n=void 0===s?24:s,d=o(e,["color","size"]);return a.createElement("svg",l({ref:i,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),a.createElement("circle",{cx:"11",cy:"11",r:"8"}),a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));d.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},d.displayName="Search";var c=d,u=t(85893);var m=e=>{let{term:i,search:t}=e;const{i18n:a}=(0,r.mV)();return(0,u.jsx)("div",{className:"flex flex-grow items-center gap-4 w-full sm:w-auto",children:(0,u.jsxs)("div",{className:"focus-within:ring-2 ring-blue flex flex-grow gap-2 items-center rounded border border-dark-800 bg-dark-900 bg-opacity-50 py-2 px-3 w-full sm:w-auto",children:[(0,u.jsx)(c,{strokeWidth:3,width:20,height:20}),(0,u.jsx)("input",{className:"bg-transparent text-high-emphesis w-full placeholder:text-low-emphesis",placeholder:a._(a._("Search by token or pair")),onChange:e=>t(e.target.value),value:i})]})})}},56585:function(e,i,t){"use strict";t.d(i,{T:function(){return a.Z},i:function(){return r.i}});var r=t(37601),a=t(74703)},89046:function(e,i,t){"use strict";t.d(i,{G0:function(){return l},RR:function(){return n},_O:function(){return s},k9:function(){return a},vu:function(){return o},zm:function(){return d}});var r=t(44554);const a={ConstantProduct:{label:"Classic",label_long:"Classic Pool",color:"default",description:"Most common, traditional 50/50 value split between assets",long_description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Dignissim bibendum in ut amet, sit fames. Iaculis ultrices sit fermentum commodo nisl eget etiam fusce ac. Risus enim sollicitudin phasellus nibh. Neque turpis amet at scelerisque vitae nibh magna. Aliquet ut natoque quisque eget pellentesque id. Convallis enim.",image:{url:"/images/trident/a-b-pool.png",width:121,height:95}},Weighted:{label:"Index",label_long:"Index Pool",color:"yellow",description:"Two asset pools, with the value split skewed higher towards one.",long_description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Dignissim bibendum in ut amet, sit fames. Iaculis ultrices sit fermentum commodo nisl eget etiam fusce ac. Risus enim sollicitudin phasellus nibh. Neque turpis amet at scelerisque vitae nibh magna. Aliquet ut natoque quisque eget pellentesque id. Convallis enim.",image:{url:"/images/trident/index-pool-scale.png",width:151,height:95}},ConcentratedLiquidity:{label:"Concentrated",label_long:"Concentrated Range",color:"purple",description:"Same value makeup of a classic pool, but for a specific price range",long_description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Dignissim bibendum in ut amet, sit fames. Iaculis ultrices sit fermentum commodo nisl eget etiam fusce ac. Risus enim sollicitudin phasellus nibh. Neque turpis amet at scelerisque vitae nibh magna. Aliquet ut natoque quisque eget pellentesque id. Convallis enim.",image:{url:"/images/trident/a-b-pool.png",width:151,height:95}},Hybrid:{label:"Stable",label_long:"Stable Pool",color:"blue",description:"3 to 32 assets, with tokens deposited in equal values",long_description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Dignissim bibendum in ut amet, sit fames. Iaculis ultrices sit fermentum commodo nisl eget etiam fusce ac. Risus enim sollicitudin phasellus nibh. Neque turpis amet at scelerisque vitae nibh magna. Aliquet ut natoque quisque eget pellentesque id. Convallis enim.",image:{url:"/images/trident/a-b-pool.png",width:121,height:95}}},s="overflow-x-auto border border-dark-900 rounded shadow-md bg-[rgba(0,0,0,0.12)]",n="w-full border-collapse",l=(e,i)=>(0,r.AK)("text-secondary text-sm py-3",0===e?"pl-4 text-left":"text-right",e===i-1?"pr-4":""),o="hover:bg-dark-900/40 hover:cursor-pointer",d=(e,i)=>(0,r.AK)("py-3 border-t border-dark-900 flex items-center",0===e?"pl-4 justify-start":"justify-end",e===i-1?"pr-4":"")},61647:function(e,i,t){"use strict";t.d(i,{C:function(){return o}});var r=t(31518),a=t(2886),s=t(67294),n=t(54907);const l=e=>{const i=(0,s.useMemo)((()=>e.map((e=>[null===e||void 0===e?void 0:e.wrapped.address]))),[e]),t=(0,n.rO)(),l=(0,a.es)(t,"totals",i),o=(0,s.useMemo)((()=>l.some((e=>e.loading))),[l]);return(0,s.useMemo)((()=>({rebases:e.reduce(((e,i,t)=>{const a=l[t];return i&&(null!==a&&void 0!==a&&a.result?e[i.wrapped.address]={token:i.wrapped,base:r.QA.BigInt(a.result.base.toString()),elastic:r.QA.BigInt(a.result.elastic.toString())}:e[i.wrapped.address]=void 0),e}),{}),loading:o})),[o,l,e])},o=e=>{const i=(0,s.useMemo)((()=>[e]),[e]),{rebases:t,loading:r}=l(i);return(0,s.useMemo)((()=>e&&!r?{rebase:t[null===e||void 0===e?void 0:e.wrapped.address],loading:r}:{rebase:void 0,loading:r}),[r,t,e])};i.Z=l},29266:function(e,i,t){"use strict";t.d(i,{M:function(){return a}});var r=t(67294);function a(e){const{0:i,1:t}=(0,r.useState)(10);return(0,r.useEffect)((()=>t(15)),[e.length]),[i,t]}},12096:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return ei}});var r=t(14744),a=t(71862),s=t(99596),n=t(56785),l=t(81570),o=t(10822),d=t(61782),c=t(15097),u=t(70028),m=t(54962),h=t(95203),v=t(56135),x=t(44554),p=t(16339),f=t(67294),g=t(41664),y=t.n(g),j=t(64958),b=t(85893);var _=e=>{let{farm:i}=e;const{i18n:t}=(0,r.mV)();return(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-2",children:[(0,b.jsx)(u.S.Header,{header:t._(t._("How to participate?"))}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(n.Z,{variant:"xs",weight:700,className:"text-white",children:t._(t._("Step One"))}),i.pair.type===l.FJ.SWAP&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(n.Z,{variant:"xs",children:[t._(t._("Provide liquidity to the"))," ",(0,b.jsx)(j.Z,{href:"/add/".concat(i.pair.token0.id,"/").concat(i.pair.token1.id),children:(0,b.jsxs)("a",{className:"text-sm text-blue",children:[i.pair.token0.symbol,"/",i.pair.token1.symbol]})})," ",t._(t._("pool (or"))," ",(0,b.jsx)(j.Z,{href:"/migrate",children:(0,b.jsx)("a",{className:"text-sm text-blue",children:"migrate liquidity"})}),t._(t._(") to receive BSP tokens."))]})}),i.pair.type===l.FJ.TRIDENT&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(n.Z,{variant:"xs",children:[t._(t._("Provide liquidity to the"))," ",(0,b.jsx)(y(),{href:{pathname:"/trident/pool",query:{tokens:[(0,x.yP)(i.chainId,i.pair.token0.id),(0,x.yP)(i.chainId,i.pair.token1.id)],fee:i.pair.swapFee,twap:i.pair.twapEnabled}},passHref:!0,children:(0,b.jsxs)("a",{className:"text-sm text-blue",children:[i.pair.token0.symbol,"/",i.pair.token1.symbol]})})," ",t._(t._("to receive SCPLP."))]})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(n.Z,{variant:"xs",weight:700,className:"text-white",children:t._(t._("Step Two"))}),(0,b.jsxs)(n.Z,{variant:"xs",children:[t._(t._("Approve and then deposit your"))," ",i.pair.type===l.FJ.KASHI?"KMP":i.pair.type===l.FJ.SWAP?"BSP":"SCPLP"," ",t._(t._("tokens into the farm to start earning rewards."))]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(n.Z,{variant:"xs",weight:700,className:"text-white",children:t._(t._("Step Three"))}),i.pair.type===l.FJ.SWAP||i.pair.type===l.FJ.TRIDENT&&(0,b.jsxs)(n.Z,{variant:"xs",children:[t._(t._("Harvest rewards and unstake your"))," ",i.pair.type===l.FJ.SWAP?"BSP":"SCPLP"," ",t._(t._("tokens at any time. You can then remove your liquidity to receive your base investment tokens back in your wallet."))]}),i.pair.type===l.FJ.KASHI&&(0,b.jsxs)(n.Z,{variant:"xs",children:[t._(t._("Harvest rewards and unstake your KMP tokens at any time. You can then withdraw your lent"))," ",i.pair.token0.symbol," ",t._(t._("into your wallet or BentoBox."))]})]})]})},N=t(19485),w=t(31518),C=t(41626),k=t(62483),A=t(94633),E=t(12614),R=t(68411),S=t(11163),P=t(8682),I=t(42746),Z=t(21046),T=t(54907);function O(e){const{account:i}=(0,E.aQ)(),t=(0,T.Z9)(),r=(0,I.zh)(e);return{deposit:(0,f.useCallback)((async(t,a)=>{try{let s;return s=e===l.WJ.MASTERCHEF?await(null===r||void 0===r?void 0:r.deposit(t,a)):await(null===r||void 0===r?void 0:r.deposit(t,a,i)),s}catch(s){return console.error(s),s}}),[i,e,r]),withdraw:(0,f.useCallback)((async(t,a)=>{try{let s;return s=e===l.WJ.MASTERCHEF?await(null===r||void 0===r?void 0:r.withdraw(t,a)):e===l.WJ.MINICHEF?await(null===r||void 0===r?void 0:r.withdrawAndHarvest(t,a,i)):await(null===r||void 0===r?void 0:r.withdraw(t,a,i)),s}catch(s){return console.error(s),s}}),[i,e,r]),harvest:(0,f.useCallback)((async a=>{try{let o;if(e===l.WJ.MASTERCHEF)o=await(null===r||void 0===r?void 0:r.deposit(a,Z._Y));else if(e===l.WJ.MASTERCHEF_V2){const e=await(null===r||void 0===r?void 0:r.pendingSushi(a,i)),l=await(null===t||void 0===t?void 0:t.balanceOf(null===r||void 0===r?void 0:r.address));var s,n;if(e.gt(l))o=await(null===r||void 0===r?void 0:r.batch([null===r||void 0===r||null===(s=r.interface)||void 0===s?void 0:s.encodeFunctionData("harvestFromMasterChef"),null===r||void 0===r||null===(n=r.interface)||void 0===n?void 0:n.encodeFunctionData("harvest",[a,i])],!0));else o=await(null===r||void 0===r?void 0:r.harvest(a,i))}else e===l.WJ.MINICHEF&&(o=await(null===r||void 0===r?void 0:r.harvest(a,i)));return o}catch(o){return console.error(o),o}}),[i,e,r,t])}}var F=t(2593),U=t(37601),q=t(69328),M=t(28108);var Y=e=>{var i,t;const{0:r,1:a}=(0,f.useState)("0"),{chainId:s,account:n,library:o}=(0,M.a)(),d=(0,q.ZP)(),c=(0,T.eH)(null===e||void 0===e||null===(i=e.rewarder)||void 0===i?void 0:i.id),u=(0,T.fQ)(null===e||void 0===e||null===(t=e.rewarder)||void 0===t?void 0:t.id),m=(0,f.useMemo)((()=>({[w.a_.ETHEREUM]:c,[w.a_.MATIC]:u,[w.a_.XDAI]:u,[w.a_.HARMONY]:u,[w.a_.ARBITRUM]:c,[w.a_.CELO]:u,[w.a_.MOONRIVER]:u,[w.a_.FUSE]:u,[w.a_.FANTOM]:u,[w.a_.MOONBEAM]:u,[w.a_.KAVA]:u,[w.a_.METIS]:u})),[u,c]);return(0,f.useEffect)((()=>{n&&c&&e&&o&&(e.chef===l.WJ.MASTERCHEF_V2||e.chef===l.WJ.MINICHEF)&&async function(){try{var i;const t=await(null===(i=m[s])||void 0===i?void 0:i.pendingTokens(e.id,n,"0")),r=e.rewardToken?U.i.from(F.O$.from(null===t||void 0===t?void 0:t.rewardAmounts[0]),F.O$.from(10).pow(e.rewardToken.decimals||18)).toString(e.rewardToken.decimals||18):U.i.from(F.O$.from(null===t||void 0===t?void 0:t.rewardAmounts[0]),F.O$.from(10).pow(18)).toString(18);a(r)}catch(t){console.error(t)}}()}),[n,d,c,u,e,o,m,s]),r};const B=e=>{let{value:i,symbol:t}=e;return(0,b.jsxs)(n.Z,{weight:700,className:"text-high-emphesis",children:[i," ",(0,b.jsx)(n.Z,{component:"span",className:"text-secondary",children:t})]})};var D=e=>{var i,t,s,o,d,c,m,h,v,p,g,y,j,_,Z,T,F,U,q;let{farm:M}=e;const{i18n:D}=(0,r.mV)(),{account:K,chainId:H}=(0,E.aQ)(),{harvest:L}=O(M.chef),W=(0,S.useRouter)(),V=(0,R.h7)(),J=(0,P.tT)(K,M.pair.id),{0:z,1:G}=(0,f.useState)(!1),X=(0,k.U8)(M.pair.token0.id),Q=(0,k.U8)(M.pair.token1.id),$=(0,f.useMemo)((()=>{var e;return H?new w.WU(H,(0,N.getAddress)(M.pair.id),M.pair.type===l.FJ.KASHI?Number(M.pair.asset.decimals):18,(null!==(e=M.pair.symbol)&&void 0!==e?e:M.pair.type===l.FJ.KASHI)?"KMP":M.pair.type===l.FJ.SWAP?"BSP":"SCPLP",M.pair.name):void 0}),[H,M]),ee=(0,I.Pc)(M,$),ie=(0,f.useMemo)((()=>J?w.ih.fromRawAmount(J.asset.token,null!==ee&&void 0!==ee&&ee.greaterThan(0)?w.QA.divide(w.QA.multiply(ee.quotient,J.currentAllAssets),J.totalAsset.base):"0"):void 0),[J,ee]),te=(0,I.K5)(M),re=Y(M),ae=(0,A.ZP)(J?J.asset.token:void 0),se=ie&&ae?ae.quote(ie):void 0,ne=Number(null!==(i=null===ee||void 0===ee?void 0:ee.toExact())&&void 0!==i?i:0)*(M.pair.reserveUSD/M.pair.totalSupply),le=Number(null!==(t=null===ee||void 0===ee?void 0:ee.toExact())&&void 0!==t?t:0)*(M.pair.liquidityUSD/(M.pair.liquidity/1e18)),oe=H&&[w.a_.FUSE].includes(H),de=oe?(null!==(p=null===M||void 0===M||null===(g=M.rewards)||void 0===g||null===(y=g[0])||void 0===y?void 0:y.rewardPrice)&&void 0!==p?p:0)*Number(null!==re&&void 0!==re?re:0):(null!==(s=null===M||void 0===M||null===(o=M.rewards)||void 0===o||null===(d=o[0])||void 0===d?void 0:d.rewardPrice)&&void 0!==s?s:0)*Number(null!==(c=null===te||void 0===te?void 0:te.toExact())&&void 0!==c?c:0)+(null!==(m=null===M||void 0===M||null===(h=M.rewards)||void 0===h||null===(v=h[1])||void 0===v?void 0:v.rewardPrice)&&void 0!==m?m:0)*Number(null!==re&&void 0!==re?re:0);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.S.BorderedContent,{className:"flex flex-col gap-2 bg-dark-1000/40",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(n.Z,{variant:"xs",weight:700,className:"text-secondary",children:D._(D._("Your Deposits"))}),(0,b.jsxs)(n.Z,{variant:"xs",className:"flex gap-1 text-secondary",children:[(0,x.uf)(null!==(j=null===ee||void 0===ee?void 0:ee.toSignificant(6))&&void 0!==j?j:0)," ",M.pair.token0.symbol,"-",M.pair.token1.symbol,(0,b.jsx)(n.Z,{variant:"xs",weight:700,className:"text-high-emphesis",component:"span",children:(0,x.uf)(null!==(_=M.pair.type===l.FJ.KASHI?null===se||void 0===se?void 0:se.toSignificant(6):M.pair.type===l.FJ.SWAP?ne:le)&&void 0!==_?_:0,!0)})]})]}),[l.FJ.KASHI,l.FJ.SWAP,l.FJ.TRIDENT].includes(M.pair.type)&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[X&&(0,b.jsx)(C.X,{currency:X,size:18}),M.pair.type===l.FJ.KASHI&&(0,b.jsx)(B,{symbol:null===X||void 0===X?void 0:X.symbol,value:null===ie||void 0===ie?void 0:ie.toSignificant(6)}),M.pair.type===l.FJ.SWAP&&(0,b.jsx)(B,{value:(0,x.uf)(M.pair.reserve0*Number(null!==(Z=null===ee||void 0===ee?void 0:ee.toExact())&&void 0!==Z?Z:0)/M.pair.totalSupply),symbol:null===X||void 0===X?void 0:X.symbol}),M.pair.type===l.FJ.TRIDENT&&(0,b.jsx)(B,{value:(0,x.uf)(M.pair.reserve0*Number(null!==(T=null===ee||void 0===ee?void 0:ee.toExact())&&void 0!==T?T:0)/M.pair.liquidity),symbol:null===X||void 0===X?void 0:X.symbol})]}),M.pair.type===l.FJ.SWAP&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[Q&&(0,b.jsx)(C.X,{currency:Q,size:18}),(0,b.jsx)(B,{value:(0,x.uf)(M.pair.reserve1*Number(null!==(F=null===ee||void 0===ee?void 0:ee.toExact())&&void 0!==F?F:0)/M.pair.totalSupply),symbol:null===Q||void 0===Q?void 0:Q.symbol})]}),M.pair.type===l.FJ.TRIDENT&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[Q&&(0,b.jsx)(C.X,{currency:Q,size:18}),(0,b.jsx)(B,{value:(0,x.uf)(M.pair.reserve1*Number(null!==(U=null===ee||void 0===ee?void 0:ee.toExact())&&void 0!==U?U:0)/M.pair.liquidity),symbol:null===Q||void 0===Q?void 0:Q.symbol})]})]}),(0,b.jsxs)(u.S.BorderedContent,{className:"flex flex-col gap-2 bg-dark-1000/40",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(n.Z,{variant:"xs",weight:700,className:"text-secondary",children:D._(D._("Your Rewards"))}),(0,b.jsx)(n.Z,{variant:"xs",weight:700,className:"text-high-emphesis",component:"span",children:(0,x.uf)(de,!0)})]}),null===M||void 0===M||null===(q=M.rewards)||void 0===q?void 0:q.map(((e,i)=>{var t;return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(C.X,{currency:e.currency,size:18}),oe?(0,b.jsx)(B,{value:(0,x.uf)(re),symbol:e.currency.symbol}):(0,b.jsxs)(b.Fragment,{children:[0===i&&(0,b.jsx)(B,{value:(0,x.uf)(null!==(t=null===te||void 0===te?void 0:te.toSignificant(6))&&void 0!==t?t:0),symbol:e.currency.symbol}),1===i&&(0,b.jsx)(B,{value:(0,x.uf)(re),symbol:e.currency.symbol})]})]},i)}))]}),M.pair.type===l.FJ.KASHI&&(0,b.jsx)(a.ZP,{fullWidth:!0,color:"blue",variant:"empty",size:"sm",className:"!italic",onClick:()=>W.push("/kashi/".concat(M.pair.id)),children:D._(D._("View details on Kashi"))}),(0,b.jsx)(a.ZP,{loading:z,fullWidth:!0,color:"blue",disabled:z||!(te&&te.greaterThan(w.xE)||re&&Number(re)>0),onClick:async function(){G(!0);try{const e=await L(M.id);V(e,{summary:D._(D._("Harvest {0}/{1}",{0:M.pair.token0.name,1:M.pair.token1.name}))})}catch(e){console.error(e)}G(!1)},children:D._(D._("Harvest Rewards"))})]})},K=t(25159);var H=f.forwardRef((function(e,i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:i},e),f.createElement("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))})),L=t(32601),W=t(97436),V=t(573),J=t(63192),z=t(27262),G=t(22986);const X={[l.WJ.MASTERCHEF]:{[w.a_.ETHEREUM]:w.HW[w.a_.ETHEREUM]},[l.WJ.MASTERCHEF_V2]:{[w.a_.ETHEREUM]:w.C1[w.a_.ETHEREUM]},[l.WJ.MINICHEF]:{[w.a_.MATIC]:w.uu[w.a_.MATIC],[w.a_.XDAI]:w.uu[w.a_.XDAI],[w.a_.HARMONY]:w.uu[w.a_.HARMONY],[w.a_.ARBITRUM]:w.uu[w.a_.ARBITRUM],[w.a_.CELO]:w.uu[w.a_.CELO],[w.a_.MOONRIVER]:w.uu[w.a_.MOONRIVER],[w.a_.FUSE]:w.uu[w.a_.FUSE],[w.a_.FANTOM]:w.uu[w.a_.FANTOM],[w.a_.KAVA]:w.uu[w.a_.KAVA],[w.a_.METIS]:w.uu[w.a_.METIS]}};var Q=e=>{let{farm:i}=e;const t=(0,p.T)(),{account:r,chainId:s}=(0,E.aQ)(),{setContent:o}=Te(),{0:d,1:c}=(0,f.useState)(!0),{0:m,1:h}=(0,f.useState)(),{0:g,1:y}=(0,f.useState)(),{deposit:j,withdraw:_}=O(i.chef),C=(0,R.h7)(),k=new w.WU(s||1,(0,N.getAddress)(i.pair.id),i.pair.type===l.FJ.KASHI?Number(i.pair.asset.decimals):18,i.pair.type===l.FJ.KASHI?"KMP":"BSP"),A=(0,G._h)(null!==r&&void 0!==r?r:void 0,k),S=(0,I.Pc)(i,k),P=(0,x.eo)(m,k),Z=(0,x.eo)(g,k),[T,U]=(0,z.qL)(P,X[i.chef][s]),q=P?null!==A&&void 0!==A&&A.lessThan(P)?"Insufficient balance":void 0:"Enter an amount",M=!q,Y=Z?null!==S&&void 0!==S&&S.lessThan(Z)?"Insufficient balance":void 0:"Enter an amount",B=!Y;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.S.BorderedContent,{className:"flex flex-col gap-4 bg-dark-1000/40",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(n.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:d?L.ag._(L.ag._("Stake liquidity")):L.ag._(L.ag._("Unstake liquidity"))}),(0,b.jsx)(V.Z,{size:"sm",checked:d,onChange:()=>c(!d),checkedIcon:(0,b.jsx)(K.Z,{className:"text-dark-1000"}),uncheckedIcon:(0,b.jsx)(H,{className:"text-dark-1000"})})]}),(0,b.jsx)(n.Z,{variant:"sm",className:"text-secondary",children:L.ag._(L.ag._("Use one of the buttons to set a percentage or enter a value manually using the input field"))})]}),(0,b.jsx)("div",{className:"flex justify-end gap-2",children:["25","50","75","100"].map(((e,i)=>(0,b.jsx)(a.ZP,{variant:"outlined",size:"xs",color:d?"blue":"pink",onClick:()=>{d?A&&h(A.multiply(e).divide(100).toExact()):S&&y(S.multiply(e).divide(100).toExact())},className:(0,x.AK)("text-md border border-opacity-50",d?"focus:ring-blue border-blue":"focus:ring-pink border-pink"),children:"100"===e?"MAX":e+"%"},i)))}),(0,b.jsx)(W.Z,{currencyLogo:!1,currency:k,value:d?m:g,onChange:d?h:y,balance:d?void 0:S,showMax:!1})]}),d?r?!M||T!==z.UK.NOT_APPROVED&&T!==z.UK.PENDING?(0,b.jsx)(a.ZP,{fullWidth:!0,color:!M&&P?"red":"blue",onClick:async()=>{try{const e=await j(i.id,F.O$.from(null===P||void 0===P?void 0:P.quotient.toString()));null!==e&&void 0!==e&&e.hash&&(o((0,b.jsx)(u.S.SubmittedModalContent,{txHash:null===e||void 0===e?void 0:e.hash,header:L.ag._(L.ag._("Success!")),subheader:L.ag._(L.ag._("Success! Transaction successfully submitted")),onDismiss:()=>t((0,v.Xp)(!1))})),C(e,{summary:"Deposit ".concat(i.pair.token0.name,"/").concat(i.pair.token1.name)}))}catch(e){console.error(e)}},disabled:!M,children:q||L.ag._(L.ag._("Confirm Deposit"))}):(0,b.jsx)(a.ZP,{fullWidth:!0,loading:T===z.UK.PENDING,color:"gradient",onClick:U,disabled:T!==z.UK.NOT_APPROVED,children:L.ag._(L.ag._("Approve"))}):(0,b.jsx)(J.Z,{size:"lg",color:"blue",fullWidth:!0}):r?(0,b.jsx)(a.ZP,{fullWidth:!0,color:!B&&Z?"red":"blue",onClick:async()=>{try{const e=await _(i.id,F.O$.from(null===Z||void 0===Z?void 0:Z.quotient.toString()));null!==e&&void 0!==e&&e.hash&&(o((0,b.jsx)(u.S.SubmittedModalContent,{txHash:null===e||void 0===e?void 0:e.hash,header:L.ag._(L.ag._("Success!")),subheader:L.ag._(L.ag._("Success! Transaction successfully submitted")),onDismiss:()=>t((0,v.Xp)(!1))})),C(e,{summary:"Withdraw ".concat(i.pair.token0.name,"/").concat(i.pair.token1.name)}))}catch(e){console.error(e)}},disabled:!B,children:Y||L.ag._(L.ag._("Confirm Withdraw"))}):(0,b.jsx)(J.Z,{color:"blue",className:"w-full"})]})},$=t(94492),ee=t(56585),ie=t(60708),te=t(53389),re=t(15423),ae=t(42388);var se=e=>{let{market:i,header:t}=e;const{i18n:s}=(0,r.mV)(),{account:l,chainId:o,library:d}=(0,E.aQ)(),{0:c,1:m}=(0,f.useState)(!1),h=i.asset.token,{0:v,1:x}=(0,f.useState)(""),p=(0,f.useMemo)((()=>o&&o in w.df?w.df[o]===h.address:void 0),[h.address,o]),g=(0,G.Vi)(p?[null!==l&&void 0!==l?l:void 0]:[]),y=(0,re.C)(null!==l&&void 0!==l?l:void 0,h,!0),j=(0,re.C)(null!==l&&void 0!==l?l:void 0,h,!1),_=(0,f.useMemo)((()=>l?c?j:p?g[l]:y:void 0),[l,j,y,g,p,c]),N=(0,ie.e)(v,h),[C,k,A,S,P]=(0,ae.ZP)(),[I,Z]=(0,z.qL)(N,o?w.OI[o]:void 0),T=(0,R.h7)(),O=(0,te.rO)(),U=(0,f.useMemo)((()=>o&&w.MO[o]),[o]),q=(0,f.useCallback)((async()=>{if(!l||!d||!o||!U||!O||!N)return void console.error("Dependencies unavailable");const e=new ee.T(i,l,d,o);A&&e.approve({account:l,masterContract:U,v:A.v,r:A.r,s:A.s});const t=await O.balanceOf(i.asset.token.address,"0x000000000000000000000000000000000000dead");e.addAsset(F.O$.from(N.quotient.toString()),c,t.isZero());const r=await e.cook();return r.success?(T(r.tx,{summary:s._(s._("Deposit {0} {1}",{0:N.toSignificant(6),1:N.currency.symbol}))}),r.tx):void 0}),[l,T,O,o,s,A,d,i,U,N,c]),M=N?_&&N.greaterThan(_)?"Insufficient balance":void 0:"Enter an amount",Y=!M;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.S.BorderedContent,{className:"flex flex-col bg-dark-1000/40",children:[t,(0,b.jsx)(W.Z,{title:"",value:v,currency:h,onChange:e=>x(e||""),headerRight:(0,b.jsx)(W.Z.WalletSwitch,{onChange:()=>m(!c),checked:!c,id:"switch-spend-from-wallet-a"}),spendFromWallet:!c,id:"add-liquidity-input-tokenb"})]}),k&&(0,b.jsx)(u.S.BorderedContent,{className:"flex flex-col gap-4 border !border-red/40 bg-dark-1000/40",children:(0,b.jsx)(n.Z,{variant:"sm",children:s._(s._("Something went wrong during signing of the approval. This is expected for hardware wallets, such as Trezor and Ledger. Click again and the fallback method will be used"))})}),l?!Y||A||C!==ae.kG.NOT_APPROVED&&C!==ae.kG.PENDING?!Y||c||I!==z.UK.NOT_APPROVED&&I!==z.UK.PENDING?(0,b.jsx)(a.ZP,{onClick:q,disabled:!Y,color:!Y&&N?"red":"blue",children:M||s._(s._("Confirm Deposit"))}):(0,b.jsx)(a.ZP,{loading:I===z.UK.PENDING,onClick:Z,disabled:I!==z.UK.NOT_APPROVED,children:"".concat(s._(s._("Approve"))," ").concat(h.symbol)}):(0,b.jsx)(a.ZP,{loading:C===ae.kG.PENDING,onClick:S,disabled:C!==ae.kG.NOT_APPROVED,children:s._(s._("Approve Kashi"))}):(0,b.jsx)(J.Z,{fullWidth:!0})]})},ne=t(69807);var le=e=>{var i,t;let{market:s,header:l}=e;const{i18n:o}=(0,r.mV)(),{account:d,library:c,chainId:m}=(0,E.aQ)(),h=(0,R.h7)(),v=(0,te.rO)(),p=m&&w.MO[m],{0:g,1:y}=(0,f.useState)(!1),{0:j,1:_}=(0,f.useState)(!1),N=(0,x.Bv)(s.asset.token),{0:C,1:k}=(0,f.useState)(""),[A,S,P,I,Z]=(0,ae.ZP)(),T=(0,w.LT)(null!==(i=null===s||void 0===s?void 0:s.maxAssetAvailable)&&void 0!==i?i:w.xE,null!==(t=null===s||void 0===s?void 0:s.currentUserAssetAmount)&&void 0!==t?t:w.xE),O=(0,x.eo)(C,N),U=(0,f.useMemo)((()=>w.ih.fromRawAmount(s.asset.token,s.currentUserAssetAmount)),[s.asset.token,s.currentUserAssetAmount]),q=(0,f.useMemo)((()=>w.ih.fromRawAmount(s.asset.token,(0,w.LT)(s.maxAssetAvailable,s.currentUserAssetAmount))),[s.asset.token,s.currentUserAssetAmount,s.maxAssetAvailable]),M=(0,f.useCallback)((async()=>{if(!d||!c||!m||!p||!v||!O)return void console.error("Dependencies unavailable");const e=new ee.T(s,d,c,m);P&&e.approve({account:d,masterContract:p,v:P.v,r:P.r,s:P.s});const i=j?(0,w.LT)(s.userAssetFraction,s.maxAssetAvailableFraction):(0,ne.T)({base:s.currentTotalAsset.base,elastic:s.currentAllAssets},O.quotient);e.removeAsset(F.O$.from(i.toString()),g);const t=await e.cook();return t.success?(h(t.tx,{summary:o._(o._("Withdraw {0} {1}",{0:O.toSignificant(6),1:O.currency.symbol}))}),t.tx):void 0}),[d,h,v,m,o,P,c,s,p,O,j,g]),Y=O?O.greaterThan(U)?"Insufficient balance":O.greaterThan(q)?"Not enough assets available":void 0:"Enter an amount",B=!Y;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.S.BorderedContent,{className:"flex flex-col bg-dark-1000/40",children:[l,(0,b.jsx)("div",{children:(0,b.jsx)(W.Z,{title:"",value:C,currency:N,onChange:e=>k(e||""),headerRight:(0,b.jsx)(W.Z.WalletSwitch,{onChange:()=>y(!g),checked:!g,id:"switch-spend-from-wallet-a",label:"Send to:"}),spendFromWallet:!g,balance:q,id:"add-liquidity-input-tokenb"})})]}),S&&(0,b.jsx)(u.S.BorderedContent,{className:"flex flex-col gap-4 border !border-red/40 bg-dark-1000/40",children:(0,b.jsx)(n.Z,{variant:"sm",children:o._(o._("Something went wrong during signing of the approval. This is expected for hardware wallets, such as Trezor and Ledger. Click again and the fallback method will be used"))})}),w.QA.equal(T,w.xE)&&(0,b.jsx)(u.S.BorderedContent,{className:"flex flex-col gap-4 border !border-blue/40 bg-dark-1000/40",children:(0,b.jsx)(n.Z,{variant:"sm",children:o._(o._("If your KMP is staked, you cannot withdraw your lent tokens. You must unstake first."))})}),d?!B||P||A!==ae.kG.NOT_APPROVED&&A!==ae.kG.PENDING?(0,b.jsx)(a.ZP,{fullWidth:!0,color:!B&&O?"red":"blue",onClick:M,disabled:!B,children:Y||o._(o._("Confirm Withdraw"))}):(0,b.jsx)(a.ZP,{fullWidth:!0,loading:A===ae.kG.PENDING,onClick:I,disabled:A!==ae.kG.NOT_APPROVED,children:o._(o._("Approve Kashi"))}):(0,b.jsx)(J.Z,{fullWidth:!0})]})};var oe=e=>{let{farm:i}=e;const{account:t}=(0,E.aQ)(),{i18n:a}=(0,r.mV)(),s=(0,P.tT)(t,i.pair.id),{0:l,1:o}=(0,f.useState)(!0),d=(0,f.useMemo)((()=>(0,b.jsx)("div",{className:"flex flex-col gap-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(n.Z,{weight:700,className:"text-high-emphesis",children:l?a._(a._("Deposit")):a._(a._("Withdraw"))}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(V.Z,{size:"sm",checked:l,onChange:()=>o(!l),checkedIcon:(0,b.jsx)(K.Z,{className:"text-dark-1000"}),uncheckedIcon:(0,b.jsx)(H,{className:"text-dark-1000"})}),(0,b.jsx)($.Z,{className:"w-[unset] h-[unset]"})]})]})})),[a,l]);return s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:(0,x.AK)(l?"flex flex-col flex-grow gap-4":"hidden"),children:(0,b.jsx)(se,{market:s,header:d})}),(0,b.jsx)("div",{className:(0,x.AK)(l?"hidden":"flex flex-col flex-grow gap-4"),children:(0,b.jsx)(le,{market:s,header:d})})]}):null},de=t(59499),ce=t(16682),ue=t(27801),me=t(46430);var he=e=>{let{noLiquidity:i,liquidityMinted:t,poolShare:s,parsedAmounts:l,execute:o,txHash:d}=e;const{i18n:c}=(0,r.mV)(),m=(0,p.T)(),{setContent:h}=Te();return d?(0,b.jsx)(u.S.SubmittedModalContent,{txHash:d,header:c._(c._("Success!")),subheader:c._(c._("Success! Deposit Submitted")),onDismiss:()=>m((0,v.Xp)(!1))}):(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(me.Z.Header,{header:i?c._(c._("Confirm create pool")):c._(c._("Confirm add liquidity")),onBack:()=>h(void 0),onClose:()=>m((0,v.Xp)(!1))}),(0,b.jsx)(n.Z,{variant:"sm",children:c._(c._("Output is estimated. If the price changes by more than 0.5% your transaction will revert."))}),(0,b.jsxs)(me.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,b.jsx)(n.Z,{weight:700,variant:"sm",className:"text-secondary",children:c._(c._("You are depositing:"))}),(0,b.jsx)(ue.Z,{items:Object.values(l).map(((e,i)=>(0,b.jsx)(ue.Z.CurrencyAmountItem,{amount:e},i)))})]}),(0,b.jsxs)(me.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,b.jsx)(n.Z,{weight:700,variant:"sm",className:"text-secondary",children:c._(c._("You'll receive (at least):"))}),(0,b.jsxs)(n.Z,{weight:700,variant:"lg",className:"text-high-emphesis",children:[null===t||void 0===t?void 0:t.toSignificant(6)," BSP"]})]}),(0,b.jsxs)("div",{className:"flex justify-between px-2 py-1",children:[(0,b.jsx)(n.Z,{variant:"sm",className:"text-secondary",children:c._(c._("Share of Pool"))}),(0,b.jsxs)(n.Z,{variant:"sm",weight:700,className:"text-right text-high-emphesis",children:[null!==s&&void 0!==s&&s.greaterThan(0)?null===s||void 0===s?void 0:s.toSignificant(6):"0.000","%"]})]}),(0,b.jsx)("div",{className:"flex flex-grow"}),(0,b.jsx)(a.ZP,{id:"btn-modal-confirm-deposit",color:"blue",onClick:o,children:c._(c._("Confirm Deposit"))})]})},ve=t(66367),xe=t(53344),pe=t(30380),fe=t(26168),ge=t(37643),ye=t(627);function je(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,r)}return t}function be(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?je(Object(t),!0).forEach((function(i){(0,de.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var _e=e=>{var i,t,s,n,l,o,d,c;let{currencyA:m,currencyB:h,header:v}=e;const{i18n:g}=(0,r.mV)(),{setContent:y}=Te(),{account:j,chainId:_,library:N}=(0,E.aQ)(),{0:C,1:k}=(0,f.useState)(_!==w.a_.CELO),[A]=(0,ye.DG)(),S=(0,ve.Z)(),{0:P,1:I}=(0,f.useState)(!1),Z=(0,p.C)(ge.tE),O=(0,T.Ti)(),U=(0,R.h7)();_&&C&&m&&(0,w.PT)(m,w.FX[_])&&(m=w.B5[_]),_&&C&&h&&(0,w.PT)(h,w.FX[_])&&(h=w.B5[_]);const q=(null===(i=m)||void 0===i?void 0:i.isNative)||(null===(t=h)||void 0===t?void 0:t.isNative),M=Boolean(_&&(m&&(0,w.PT)(m,w.FX[_])||h&&(0,w.PT)(h,w.FX[_]))),{independentField:Y,typedValue:B,otherTypedValue:D}=(0,fe.OY)(),{dependentField:H,currencies:L,parsedAmounts:V,noLiquidity:G,liquidityMinted:X,poolTokenPercentage:Q,error:$}=(0,fe.Qw)(null!==(s=m)&&void 0!==s?s:void 0,null!==(n=h)&&void 0!==n?n:void 0),{onFieldAInput:ee,onFieldBInput:ie}=(0,fe.OA)(G),te=!$,re={[Y]:B,[H]:G?D:null!==(l=null===(o=V[H])||void 0===o?void 0:o.toSignificant(6))&&void 0!==l?l:""},[ae,se]=(0,z.qL)(V[pe.gN.CURRENCY_A],null===O||void 0===O?void 0:O.address),[ne,le]=(0,z.qL)(V[pe.gN.CURRENCY_B],null===O||void 0===O?void 0:O.address),oe=X?(0,x.uc)(X,G?ce.fI:Z)[0]:void 0,de=null!==X&&void 0!==X&&X.currency&&oe?w.ih.fromRawAmount(X.currency,oe):void 0;async function ue(){if(!_||!N||!j||!O)return;const{[pe.gN.CURRENCY_A]:e,[pe.gN.CURRENCY_B]:i}=V;if(!e||!i||!m||!h||!S)return;const t={[pe.gN.CURRENCY_A]:(0,x.uc)(e,G?ce.fI:Z)[0],[pe.gN.CURRENCY_B]:(0,x.uc)(i,G?ce.fI:Z)[0]};let r,a,s,n;if(m.isNative||h.isNative){var l,o,d;const c=h.isNative;r=O.estimateGas.addLiquidityETH,a=O.addLiquidityETH,s=[null!==(l=null===(o=c?m:h)||void 0===o||null===(d=o.wrapped)||void 0===d?void 0:d.address)&&void 0!==l?l:"",(c?e:i).quotient.toString(),t[c?pe.gN.CURRENCY_A:pe.gN.CURRENCY_B].toString(),t[c?pe.gN.CURRENCY_B:pe.gN.CURRENCY_A].toString(),j,S.toHexString()],n=F.O$.from((c?i:e).quotient.toString())}else{var c,u,v,p,f,w;r=O.estimateGas.addLiquidity,a=O.addLiquidity,s=[null!==(c=null===(u=m)||void 0===u||null===(v=u.wrapped)||void 0===v?void 0:v.address)&&void 0!==c?c:"",null!==(p=null===(f=h)||void 0===f||null===(w=f.wrapped)||void 0===w?void 0:w.address)&&void 0!==p?p:"",e.quotient.toString(),i.quotient.toString(),t[pe.gN.CURRENCY_A].toString(),t[pe.gN.CURRENCY_B].toString(),j,S.toHexString()],n=null}I(!0),await r(...s,n?{value:n}:{}).then((e=>a(...s,be(be({},n?{value:n}:{}),{},{gasLimit:(0,x.Wt)(e)})).then((e=>{var i,t,r,a,s,n;I(!1),y((0,b.jsx)(he,{noLiquidity:G,liquidityMinted:X,poolShare:Q,parsedAmounts:V,execute:ue,txHash:e.hash})),U(e,{summary:g._(g._("Add {0} {1} and {2} {3}",{0:null===(i=V[pe.gN.CURRENCY_A])||void 0===i?void 0:i.toSignificant(3),1:null===(t=L[pe.gN.CURRENCY_A])||void 0===t?void 0:t.symbol,2:null===(r=V[pe.gN.CURRENCY_B])||void 0===r?void 0:r.toSignificant(3),3:null===(a=L[pe.gN.CURRENCY_B])||void 0===a?void 0:a.symbol}))}),gtag("event","Add",{event_category:"Liquidity",event_label:[null===(s=L[pe.gN.CURRENCY_A])||void 0===s?void 0:s.symbol,null===(n=L[pe.gN.CURRENCY_B])||void 0===n?void 0:n.symbol].join("/")})})))).catch((e=>{I(!1),(null===e||void 0===e?void 0:e.code)!==xe.PM&&console.error(e)}))}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.S.BorderedContent,{className:"flex flex-col gap-4 bg-dark-1000/40",children:[v,(0,b.jsx)(W.Z,{size:"sm",id:"add-liquidity-input-tokena",value:re[pe.gN.CURRENCY_A],currency:m,onChange:ee}),(0,b.jsx)("div",{className:"z-10 flex justify-center -mt-6 -mb-6",children:(0,b.jsx)("div",{className:"p-1.5 rounded-full bg-dark-800 border border-dark-800 shadow-md border-dark-700",children:(0,b.jsx)(K.Z,{width:14,className:"text-high-emphesis"})})}),(0,b.jsx)(W.Z,{size:"sm",id:"add-liquidity-input-tokena",value:re[pe.gN.CURRENCY_B],currency:h,onChange:ie,className:"!mt-0"}),(q||M)&&_!=w.a_.CELO&&(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsxs)(a.ZP,{size:"xs",variant:"empty",color:"blue",className:"rounded-none",onClick:()=>k(!C),children:[g._(g._("Use"))," ",C&&"W",w.B5[_].symbol," instead of ",!C&&"W",w.B5[_].symbol]})})]}),j?!te||ae!==z.UK.NOT_APPROVED&&ae!==z.UK.PENDING&&ne!==z.UK.NOT_APPROVED&&ne!==z.UK.PENDING?(0,b.jsx)(a.ZP,{color:!te&&V[pe.gN.CURRENCY_A]&&V[pe.gN.CURRENCY_B]?"red":"blue",onClick:()=>{A?ue():y((0,b.jsx)(he,{noLiquidity:G,liquidityMinted:de,poolShare:Q,parsedAmounts:V,execute:ue}))},disabled:!te||P,fullWidth:!0,children:null!==$&&void 0!==$?$:g._(g._("Confirm Adding Liquidity"))}):(0,b.jsxs)("div",{className:"flex gap-4",children:[ae!==z.UK.APPROVED&&(0,b.jsx)(a.ZP,{fullWidth:!0,loading:ae===z.UK.PENDING,onClick:se,disabled:ae===z.UK.PENDING,style:{width:ne!==z.UK.APPROVED?"48%":"100%"},children:g._(g._("Approve {0}",{0:null===(d=L[pe.gN.CURRENCY_A])||void 0===d?void 0:d.symbol}))}),ne!==z.UK.APPROVED&&(0,b.jsx)(a.ZP,{fullWidth:!0,loading:ne===z.UK.PENDING,onClick:le,disabled:ne===z.UK.PENDING,children:g._(g._("Approve {0}",{0:null===(c=L[pe.gN.CURRENCY_B])||void 0===c?void 0:c.symbol}))})]}):(0,b.jsx)(J.Z,{fullWidth:!0})]})};var Ne=e=>{let{liquidityAmount:i,parsedAmounts:t,execute:s,txHash:l}=e;const{i18n:o}=(0,r.mV)(),d=(0,p.T)(),{setContent:c}=Te();return l?(0,b.jsx)(u.S.SubmittedModalContent,{txHash:l,header:o._(o._("Success!")),subheader:o._(o._("Success! Withdrawal Submitted")),onDismiss:()=>d((0,v.Xp)(!1))}):(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(me.Z.Header,{header:o._(o._("Confirm remove liquidity")),onBack:()=>c(void 0),onClose:()=>d((0,v.Xp)(!1))}),(0,b.jsx)(n.Z,{variant:"sm",children:o._(o._("Output is estimated. If the price changes by more than 0.5% your transaction will revert."))}),(0,b.jsxs)(me.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,b.jsx)(n.Z,{weight:700,variant:"sm",className:"text-secondary",children:o._(o._("You are removing:"))}),(0,b.jsx)(ue.Z,{items:[(0,b.jsx)(ue.Z.CurrencyAmountItem,{hideCurrencyLogo:!0,hideUSDC:!0,amount:i},0)]})]}),(0,b.jsxs)(me.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,b.jsx)(n.Z,{weight:700,variant:"sm",className:"text-secondary",children:o._(o._("You'll receive (at least):"))}),(0,b.jsx)(ue.Z,{items:t.map(((e,i)=>(0,b.jsx)(ue.Z.CurrencyAmountItem,{amount:e},i)))})]}),(0,b.jsx)(a.ZP,{id:"btn-modal-confirm-withdrawal",color:"blue",onClick:s,children:o._(o._("Confirm Withdrawal"))})]})},we=t(44232),Ce=t(68211),ke=t(1025);const Ae=new w.gG(5,100);var Ee=e=>{var i,t,s,l,o,d,c;let{currencyA:m,currencyB:h,header:v}=e;const{i18n:g}=(0,r.mV)(),{account:y,chainId:j,library:_}=(0,E.aQ)(),{setContent:N}=Te(),{0:C,1:k}=(0,f.useState)(!1),{0:A,1:S}=(0,f.useState)(!1);A&&m&&(0,w.PT)(m,w.FX[j])&&(m=w.B5[j]),A&&h&&(0,w.PT)(h,w.FX[j])&&(h=w.B5[j]);const{0:P,1:I}=(0,f.useMemo)((()=>{var e,i;return[null===(e=m)||void 0===e?void 0:e.wrapped,null===(i=h)||void 0===i?void 0:i.wrapped]}),[m,h]),{typedValue:Z}=(0,ke.Xi)(),{pair:O,parsedAmounts:U,error:q,userLiquidity:M}=(0,ke.Vx)(null!==(i=m)&&void 0!==i?i:void 0,null!==(t=h)&&void 0!==t?t:void 0),{onUserInput:Y}=(0,ke.GF)(),B=!q,D=(0,ve.Z)(),K=(0,p.C)((0,ge.yr)(Ae)),H=(0,T.t0)(null===O||void 0===O||null===(s=O.liquidityToken)||void 0===s?void 0:s.address),L=(0,T.Ti)(),{gatherPermitSignature:V,signatureData:G}=(0,we.pO)(U[Ce.g.LIQUIDITY],null===L||void 0===L?void 0:L.address),[X,Q]=(0,z.qL)(U[Ce.g.LIQUIDITY],null===L||void 0===L?void 0:L.address);const $=(0,f.useCallback)(((e,i)=>Y(e,i)),[Y]),ee=(0,f.useCallback)((e=>$(Ce.g.LIQUIDITY,e)),[$]),{[Ce.g.CURRENCY_A]:ie,[Ce.g.CURRENCY_B]:te}=U,re=ie&&te?{[Ce.g.CURRENCY_A]:(0,x.uc)(ie,K)[0],[Ce.g.CURRENCY_B]:(0,x.uc)(te,K)[0]}:void 0,ae={[Ce.g.CURRENCY_A]:null!==re&&void 0!==re&&re[Ce.g.CURRENCY_A]&&ie?w.ih.fromRawAmount(m.isNative?w.B5[j||1]:ie.currency,re[Ce.g.CURRENCY_A]):void 0,[Ce.g.CURRENCY_B]:null!==re&&void 0!==re&&re[Ce.g.CURRENCY_B]&&te?w.ih.fromRawAmount(h.isNative?w.B5[j||1]:te.currency,re[Ce.g.CURRENCY_B]):void 0},se=(0,R.h7)();async function ne(){if(!j||!_||!y||!D||!L)throw new Error("missing dependencies");const{[Ce.g.CURRENCY_A]:e,[Ce.g.CURRENCY_B]:i}=U;if(!e||!i)throw new Error("missing currency amounts");if(!m||!h)throw new Error("missing tokens");const t=U[Ce.g.LIQUIDITY];if(!t)throw new Error("missing liquidity amount");const r=h.isNative,a=m.isNative||r;if(!P||!I)throw new Error("could not wrap");let s,n;if(X===z.UK.APPROVED)a?(s=["removeLiquidityETH","removeLiquidityETHSupportingFeeOnTransferTokens"],n=[r?P.address:I.address,t.quotient.toString(),re[r?Ce.g.CURRENCY_A:Ce.g.CURRENCY_B].toString(),re[r?Ce.g.CURRENCY_B:Ce.g.CURRENCY_A].toString(),y,D.toHexString()]):(s=["removeLiquidity"],n=[P.address,I.address,t.quotient.toString(),re[Ce.g.CURRENCY_A].toString(),re[Ce.g.CURRENCY_B].toString(),y,D.toHexString()]);else{if(null===G)throw new Error("Attempting to confirm without approval or a signature. Please contact support.");a?(s=["removeLiquidityETHWithPermit","removeLiquidityETHWithPermitSupportingFeeOnTransferTokens"],n=[r?P.address:I.address,t.quotient.toString(),re[r?Ce.g.CURRENCY_A:Ce.g.CURRENCY_B].toString(),re[r?Ce.g.CURRENCY_B:Ce.g.CURRENCY_A].toString(),y,G.deadline,!1,G.v,G.r,G.s]):(s=["removeLiquidityWithPermit"],n=[P.address,I.address,t.quotient.toString(),re[Ce.g.CURRENCY_A].toString(),re[Ce.g.CURRENCY_B].toString(),y,G.deadline,!1,G.v,G.r,G.s])}const l=await Promise.all(s.map((e=>L.estimateGas[e](...n).then(x.Wt).catch((i=>{console.error("estimateGas failed",e,n,i)}))))),o=l.findIndex((e=>F.O$.isBigNumber(e)));if(-1===o)console.error("This transaction would fail. Please contact support.");else{const e=s[o],i=l[o];k(!0),await L[e](...n,{gasLimit:i}).then((e=>{var i,t,r,a,s,n;k(!1),se(e,{summary:g._("Remove {0} {1} and {2} {3}",{0:null===(i=U[Ce.g.CURRENCY_A])||void 0===i?void 0:i.toSignificant(3),1:null===(t=m)||void 0===t?void 0:t.symbol,2:null===(r=U[Ce.g.CURRENCY_B])||void 0===r?void 0:r.toSignificant(3),3:null===(a=h)||void 0===a?void 0:a.symbol})}),N((0,b.jsx)(Ne,{liquidityAmount:U[Ce.g.LIQUIDITY],parsedAmounts:[U[Ce.g.CURRENCY_A],U[Ce.g.CURRENCY_B]],execute:ne,txHash:e.hash})),gtag("event","Remove",{event_category:"Liquidity",event_label:[null===(s=m)||void 0===s?void 0:s.symbol,null===(n=h)||void 0===n?void 0:n.symbol].join("/")})})).catch((e=>{var i,t;k(!1),console.error(e),gtag("event","Remove Failed",{event_category:"Liquidity",event_label:[null===(i=m)||void 0===i?void 0:i.symbol,null===(t=h)||void 0===t?void 0:t.symbol].join("/")})}))}}const le=(null===(l=m)||void 0===l?void 0:l.isNative)||(null===(o=h)||void 0===o?void 0:o.isNative),oe=Boolean(j&&w.FX[j]&&((null===(d=m)||void 0===d?void 0:d.equals(w.FX[j]))||(null===(c=h)||void 0===c?void 0:c.equals(w.FX[j]))));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.S.BorderedContent,{className:"flex flex-col gap-4 bg-dark-1000/40",children:[v,(0,b.jsx)(W.Z,{currencyLogo:!1,currency:null===O||void 0===O?void 0:O.liquidityToken,value:Z,onChange:ee}),(0,b.jsxs)("div",{className:"flex justify-between mx-2 mt-2",children:[(0,b.jsx)(n.Z,{weight:700,variant:"sm",className:"text-secondary",children:g._(g._("You'll receive (at least):"))}),(le||oe)&&(0,b.jsxs)(a.ZP,{size:"xs",variant:"empty",color:"blue",className:"rounded-none",onClick:()=>S(!A),children:[g._(g._("Receive"))," ",A&&"W",w.B5[j].symbol]})]}),(0,b.jsx)(ue.Z,{items:Object.values(ae).map(((e,i)=>(0,b.jsx)(ue.Z.CurrencyAmountItem,{amount:e},i)))})]}),!(null!==M&&void 0!==M&&M.equalTo(w.xE))&&(0,b.jsx)(n.Z,{variant:"xs",className:"italic text-center",children:g._(g._("If your BSP is staked, you cannot remove your liquidity. You must unstake first."))}),y?B&&X!==z.UK.APPROVED&&null===G?(0,b.jsx)(a.ZP,{fullWidth:!0,loading:X===z.UK.PENDING,onClick:async function(){if(!H||!O||!_||!D)throw new Error("missing dependencies");if(!U[Ce.g.LIQUIDITY])throw new Error("missing liquidity amount");if(j!==w.a_.HARMONY&&V)try{await V()}catch(q){(null===q||void 0===q?void 0:q.code)!==xe.PM&&await Q()}else await Q()},disabled:X!==z.UK.NOT_APPROVED||null!==G,children:g._(g._("Approve"))}):(0,b.jsx)(a.ZP,{fullWidth:!0,loading:C,color:!B&&U[Ce.g.CURRENCY_A]&&U[Ce.g.CURRENCY_B]?"red":"blue",onClick:()=>{N((0,b.jsx)(Ne,{liquidityAmount:U[Ce.g.LIQUIDITY],parsedAmounts:Object.values(ae),execute:ne}))},disabled:!B||null===G&&X!==z.UK.APPROVED,children:q||g._(g._("Confirm Withdrawal"))}):(0,b.jsx)(J.Z,{fullWidth:!0})]})};var Re=e=>{let{farm:i}=e;const{i18n:t}=(0,r.mV)(),{0:a,1:s}=(0,f.useState)(!0),l=(0,k.U8)(i.pair.token0.id),o=(0,k.U8)(i.pair.token1.id),d=(0,f.useMemo)((()=>(0,b.jsx)("div",{className:"flex flex-col gap-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(n.Z,{weight:700,className:"text-high-emphesis",children:a?t._(t._("Add liquidity")):t._(t._("Remove liquidity"))}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(V.Z,{size:"sm",checked:a,onChange:()=>s(!a),checkedIcon:(0,b.jsx)(K.Z,{className:"text-dark-1000"}),uncheckedIcon:(0,b.jsx)(H,{className:"text-dark-1000"})}),(0,b.jsx)($.Z,{className:"w-[unset] h-[unset]"})]})]})})),[t,a]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:(0,x.AK)(a?"flex flex-col flex-grow gap-4":"hidden"),children:(0,b.jsx)(_e,{currencyA:l,currencyB:o,header:d})}),(0,b.jsx)("div",{className:(0,x.AK)(a?"hidden":"flex flex-col flex-grow gap-4"),children:(0,b.jsx)(Ee,{currencyA:l,currencyB:o,header:d})})]})};var Se=f.forwardRef((function(e,i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:i},e),f.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),f.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))}));var Pe=e=>{let{farm:i}=e;const{i18n:t}=(0,r.mV)(),{0:a,1:s}=(0,f.useState)(!0),n=(0,k.U8)(i.pair.token0.id),l=(0,k.U8)(i.pair.token1.id);return(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,b.jsx)(C.B,{currencies:n&&l?[n,l]:[],size:36,dense:!0}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-lg font-bold text-primary",children:[i.pair.token0.symbol,"/",i.pair.token1.symbol," ",i.pair.swapFee/100,"%"]}),(0,b.jsx)("div",{className:"text-sm text-secondary",children:"Trident Farm"})]})]}),(0,b.jsxs)("a",{target:"_blank",href:"/trident/add/".concat((0,x.yP)(i.chainId,i.pair.token0.id),"/").concat((0,x.yP)(i.chainId,i.pair.token1.id),"?fee=").concat(i.pair.swapFee,"&twap=").concat(i.pair.twapEnabled),className:"flex items-center justify-between px-8 py-4 text-lg font-bold border rounded text-primary border-dark-700 hover:bg-dark-700",rel:"noreferrer",children:["Add Liquidity ",(0,b.jsx)(Se,{width:20,height:20})]}),(0,b.jsxs)("a",{target:"_blank",href:"/trident/remove/".concat((0,x.yP)(i.chainId,i.pair.token0.id),"/").concat((0,x.yP)(i.chainId,i.pair.token1.id),"?fee=").concat(i.pair.swapFee,"&twap=").concat(i.pair.twapEnabled),className:"flex items-center justify-between px-8 py-4 text-lg font-bold border rounded text-primary border-dark-700 hover:bg-dark-700",rel:"noreferrer",children:["Remove Liquidity ",(0,b.jsx)(Se,{width:20,height:20})]})]})};const Ie="flex flex-col flex-grow gap-4",Ze=(0,f.createContext)(void 0),Te=()=>{const e=(0,f.useContext)(Ze);if(!e)throw new Error("Hook can only be used inside Farm List Item Details Context");return e};var Oe=e=>{let{farm:i,onDismiss:t}=e;const{i18n:a}=(0,r.mV)(),{view:s}=(0,p.C)(v.MB),n=(0,p.T)(),{0:o,1:d}=(0,f.useState)();return(0,b.jsx)(Ze.Provider,{value:(0,f.useMemo)((()=>({content:o,setContent:d})),[o,d]),children:(0,b.jsxs)("div",{className:(0,x.AK)(""),children:[(0,b.jsx)("div",{className:(0,x.AK)(Ie,o?"":"hidden"),children:o}),(0,b.jsxs)("div",{className:(0,x.AK)(Ie,o?"hidden":""),children:[(0,b.jsx)(u.S.Header,{header:(0,b.jsxs)("div",{className:"flex gap-0.5 items-center",children:[s===l.nI.Liquidity?a._(a._("Manage liquidity")):s===l.nI.Position?a._(a._("Your position and rewards")):a._(a._("Stake or unstake your liquidity")),(0,b.jsx)(m.Z,{className:"!bg-dark-800 !shadow-xl p-2",text:(0,b.jsx)(_,{farm:i})})]}),onClose:t}),(0,b.jsxs)(h.Z,{size:"sm",value:s,onChange:e=>n((0,v.l)(e)),variant:"filled",children:[(0,b.jsx)(h.Z.Button,{value:l.nI.Liquidity,children:i.pair.type===l.FJ.KASHI?a._(a._("Lending")):a._(a._("Liquidity"))}),(0,b.jsx)(h.Z.Button,{value:l.nI.Staking,children:a._(a._("Staking"))}),(0,b.jsx)(h.Z.Button,{value:l.nI.Position,children:a._(a._("Rewards"))})]}),(0,b.jsx)("div",{className:(0,x.AK)(Ie,s===l.nI.Position?"block":"hidden"),children:(0,b.jsx)(D,{farm:i})}),(0,b.jsx)("div",{className:(0,x.AK)(Ie,s===l.nI.Liquidity?"block":"hidden"),children:i.pair.type===l.FJ.KASHI?(0,b.jsx)(oe,{farm:i}):i.pair.type===l.FJ.SWAP?(0,b.jsx)(Re,{farm:i}):(0,b.jsx)(Pe,{farm:i})}),(0,b.jsx)("div",{className:(0,x.AK)(Ie,s===l.nI.Staking?"block":"hidden"),children:(0,b.jsx)(Q,{farm:i})})]})]})})},Fe=t(89046),Ue=t(29266),qe=t(80113),Me=t(58533);var Ye=e=>{var i,t,a,s,o,d,c;let{farm:u,onClick:h}=e;const{i18n:v}=(0,r.mV)(),p=null!==(i=(0,k.U8)(u.pair.token0.id))&&void 0!==i?i:void 0,f=null!==(t=(0,k.U8)(u.pair.token1.id))&&void 0!==t?t:void 0;return(0,b.jsxs)("div",{className:(0,x.AK)(Fe.vu,"grid grid-cols-4"),onClick:h,children:[(0,b.jsxs)("div",{className:(0,x.AK)("flex gap-2",(0,Fe.zm)(0,4)),children:[p&&f&&(0,b.jsx)(C.B,{currencies:[p,f],dense:!0,size:32}),(0,b.jsxs)("div",{className:"flex flex-col items-start",children:[(0,b.jsxs)(n.Z,{weight:700,className:"flex gap-1 text-high-emphesis",children:[null===p||void 0===p?void 0:p.symbol,(0,b.jsx)("span",{className:"text-low-emphesis",children:"/"}),null===f||void 0===f?void 0:f.symbol,(null===u||void 0===u||null===(a=u.pair)||void 0===a?void 0:a.type)===l.FJ.TRIDENT&&(0,b.jsxs)("span",{className:"text-low-emphesis",children:["(",u.pair.swapFee/100,"%)"]})]}),(null===u||void 0===u||null===(s=u.pair)||void 0===s?void 0:s.type)===l.FJ.SWAP&&(0,b.jsx)(n.Z,{variant:"xs",className:"text-low-emphesis",children:v._(v._("SushiSwap Farm"))}),(null===u||void 0===u||null===(o=u.pair)||void 0===o?void 0:o.type)===l.FJ.KASHI&&(0,b.jsx)(n.Z,{variant:"xs",className:"text-low-emphesis",children:v._(v._("Kashi Farm"))}),(null===u||void 0===u||null===(d=u.pair)||void 0===d?void 0:d.type)===l.FJ.TRIDENT&&(0,b.jsx)(n.Z,{variant:"xs",className:"text-low-emphesis",children:v._(v._("Trident Farm"))})]})]}),(0,b.jsx)("div",{className:(0,Fe.zm)(1,4),children:(0,b.jsx)(n.Z,{weight:700,className:"text-high-emphesis",children:(0,x.uf)(u.tvl,!0)})}),(0,b.jsx)("div",{className:(0,x.AK)("flex flex-col !items-end !justify-center",(0,Fe.zm)(2,4)),children:null===u||void 0===u||null===(c=u.rewards)||void 0===c?void 0:c.map(((e,i)=>(0,b.jsxs)(n.Z,{variant:"sm",weight:700,className:"flex gap-1.5 text-high-emphesis justify-center items-center",component:"span",children:[(0,x.uf)(e.rewardPerDay),(0,b.jsx)(C.X,{currency:e.currency,size:16})]},i)))}),(0,b.jsxs)("div",{className:(0,x.AK)("flex flex-col !items-end",(0,Fe.zm)(3,4)),children:[(0,b.jsxs)(n.Z,{weight:700,className:"flex gap-0.5 items-center text-high-emphesis",children:[0!==(null===u||void 0===u?void 0:u.tvl)?(null===u||void 0===u?void 0:u.roiPerYear)>1e4?">10,000%":(0,x.T3)(100*(null===u||void 0===u?void 0:u.roiPerYear)):"Infinite",!(null===u||void 0===u||!u.feeApyPerYear)&&(0,b.jsx)(m.Z,{text:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("div",{children:["Reward APR:"," ",0!==(null===u||void 0===u?void 0:u.tvl)?(null===u||void 0===u?void 0:u.rewardAprPerYear)>1e4?">10,000%":(0,x.T3)(100*(null===u||void 0===u?void 0:u.rewardAprPerYear)):"Infinite"]}),(0,b.jsxs)("div",{children:["Fee APR: ",(null===u||void 0===u?void 0:u.feeApyPerYear)<1e4?(0,x.T3)(100*(null===u||void 0===u?void 0:u.feeApyPerYear)):">10,000%"]})]})})]}),(0,b.jsx)(n.Z,{variant:"xs",className:"text-low-emphesis",children:v._(v._("annualized"))})]})]})};const Be=e=>{let{id:i,active:t,direction:r}=e;return i&&r&&t?"ascending"===r?(0,b.jsx)(o.Z,{width:12,height:12}):"descending"===r?(0,b.jsx)(d.Z,{width:12,height:12}):(0,b.jsx)(b.Fragment,{}):(0,b.jsx)(b.Fragment,{})};var De=e=>{let{farms:i,term:t}=e;const{items:a,requestSort:s,sortConfig:o}=(0,qe.Z)(i,{key:"roiPerYear",direction:"descending"}),{chainId:d}=(0,E.aQ)(),m=(0,I.$J)(d),{i18n:h}=(0,r.mV)(),[g,y]=(0,Ue.M)(a),{0:j,1:_}=(0,f.useState)(),N=(0,p.T)(),{open:w}=(0,p.C)(v.MB),C=(0,f.useCallback)((()=>{_(void 0),N((0,v.l)(void 0))}),[N]),k=m.map((e=>e.id));return a.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:(0,x.AK)(Fe._O),children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 min-w-[768px]",children:[(0,b.jsxs)("div",{className:(0,x.AK)("flex gap-1 items-center cursor-pointer",(0,Fe.G0)(0,4)),onClick:()=>s("pair.token0.symbol"),children:[(0,b.jsx)(n.Z,{variant:"sm",weight:700,children:h._(h._("Pool"))}),(0,b.jsx)(Be,{id:o.key,direction:o.direction,active:"symbol"===o.key})]}),(0,b.jsxs)("div",{className:(0,x.AK)("flex gap-1 items-center cursor-pointer justify-end",(0,Fe.G0)(1,4)),onClick:()=>s("tvl"),children:[(0,b.jsx)(n.Z,{variant:"sm",weight:700,children:h._(h._("TVL"))}),(0,b.jsx)(Be,{id:o.key,direction:o.direction,active:"tvl"===o.key})]}),(0,b.jsx)("div",{className:(0,x.AK)((0,Fe.G0)(2,4)),children:(0,b.jsx)(n.Z,{variant:"sm",weight:700,children:h._(h._("Rewards"))})}),(0,b.jsxs)("div",{className:(0,x.AK)("flex gap-1 items-center cursor-pointer justify-end",(0,Fe.G0)(3,4)),onClick:()=>s("roiPerYear"),children:[(0,b.jsx)(n.Z,{variant:"sm",weight:700,children:h._(h._("APR"))}),(0,b.jsx)(Be,{id:o.key,direction:o.direction,active:"roiPerYear"===o.key})]})]}),(0,b.jsx)("div",{className:"divide-y divide-dark-900  min-w-[768px]",children:(0,b.jsx)(Me.Z,{dataLength:g,next:()=>y(g+5),hasMore:!0,loader:null,children:a.slice(0,g).map(((e,i)=>(0,b.jsx)(Ye,{farm:e,onClick:()=>{_(e),N((0,v.QZ)({view:k.includes(e.id)?l.nI.Position:l.nI.Liquidity,open:!0}))}},i)))})})]}),(0,b.jsx)(u.S.Controlled,{isOpen:w,onDismiss:()=>N((0,v.Xp)(!1)),afterLeave:C,children:j&&(0,b.jsx)(Oe,{farm:j,onDismiss:()=>N((0,v.Xp)(!1))})})]}):(0,b.jsx)("div",{className:"w-full py-6 text-center",children:t?(0,b.jsx)("span",{children:"No Results."}):(0,b.jsx)(c.Z,{children:"Loading"})})},Ke=t(56727),He=t(13342),Le=t(90849);const We=e=>{let{href:i,label:t,onClick:r}=e;const a=(0,S.useRouter)();return r?(0,b.jsx)(Ke.v2.Item,{children:e=>{let{active:i}=e;return(0,b.jsx)(n.Z,{variant:"sm",weight:700,onClick:r,className:i?"text-white":"text-primary",children:t})}}):i?(0,b.jsx)(Ke.v2.Item,{onClick:()=>a.push(i),children:e=>{let{active:i}=e;return(0,b.jsx)(n.Z,{variant:"sm",weight:700,onClick:r,className:i?"text-white":"text-primary",children:t})}}):(0,b.jsx)(b.Fragment,{})};var Ve;!function(e){e.All="All Farms",e.Portfolio="Your Farms",e.Kashi="Kashi Farms",e.SteamX="SteamX Farms",e.Old="Old Farms",e.Trident="Trident Farms"}(Ve||(Ve={}));const Je={portfolio:Ve.Portfolio,farm:Ve.All,kashi:Ve.Kashi,old:Ve.Old,sushi:Ve.SteamX,trident:Ve.Trident};var ze=e=>{var i;let{account:t,chainId:a}=e;const{i18n:s}=(0,r.mV)(),l=null===(i=(0,S.useRouter)().query)||void 0===i?void 0:i.filter,o=(0,Le.mq)(),{0:d,1:c}=(0,f.useState)(Je[l]||Ve.All),u=(0,f.useMemo)((()=>{const e={[Ve.All]:(0,b.jsx)(We,{href:"/farm",label:s._(s._("All Farms"))}),[Ve.Portfolio]:t?(0,b.jsx)(We,{href:"/farm?account=".concat(t,"&filter=portfolio"),label:s._(s._("Your Farms"))}):(0,b.jsx)(We,{onClick:o,label:s._(s._("Your Farms"))}),[Ve.Kashi]:a&&[w.a_.ETHEREUM,w.a_.ARBITRUM].includes(a)?(0,b.jsx)(We,{href:"/farm?filter=kashi",label:s._(s._("Kashi Farms"))}):void 0,[Ve.SteamX]:a&&[w.a_.ETHEREUM,w.a_.ARBITRUM].includes(a)?(0,b.jsx)(We,{href:"/farm?filter=sushi",label:s._(s._("SushiSwap Farms"))}):void 0,[Ve.Old]:(0,b.jsx)(We,{href:"/farm?filter=old",label:s._(s._("Old Farms"))}),[Ve.Trident]:a&&[w.a_.KAVA,w.a_.METIS].includes(a)?(0,b.jsx)(We,{href:"/farm?filter=trident",label:s._(s._("Trident Farms"))}):void 0};return Object.entries(e).reduce(((e,i)=>{let[t,r]=i;return r&&d!==t&&(e[t]=r),e}),{})}),[a,s,t,d,o]);return(0,b.jsx)("div",{className:"flex gap-2 items-center w-[180px]",children:(0,b.jsxs)(Ke.v2,{as:"div",className:"relative inline-block w-full text-left",children:[(0,b.jsx)("div",{children:(0,b.jsx)(Ke.v2.Button,{className:"w-full px-4 py-2.5 text-sm font-bold bg-transparent border rounded shadow-sm text-primary border-dark-800 hover:bg-dark-900",children:(0,b.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,b.jsx)(n.Z,{weight:700,variant:"sm",children:d}),(0,b.jsx)(He.Z,{className:"w-5 h-5 ml-2 -mr-1","aria-hidden":"true"})]})})}),(0,b.jsx)(Ke.uT,{as:f.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,b.jsx)(Ke.v2.Items,{static:!0,className:"absolute z-10 w-full mt-2 border divide-y rounded shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none border-dark-900 bg-dark-1000 divide-dark-900",children:Object.entries(u).map(((e,i)=>{let[t,r]=e;return(0,b.jsx)("div",{onClick:()=>c(t),className:"px-3 py-2 cursor-pointer hover:bg-dark-900/40",children:r},i)}))})})]})})},Ge=t(4725),Xe=t(76294),Qe=t(22680),$e=t(2962);function ei(){const{i18n:e}=(0,r.mV)(),{account:i}=(0,E.aQ)(),t=(0,S.useRouter)(),o=t.query.filter?t.query.filter:"all",d=Number(t.query.chainId),c={all:e=>"0"!==e.allocPoint||e.rewards.length>1&&e.rewarder.rewardPerSecond>0,portfolio:e=>(null===e||void 0===e?void 0:e.amount)&&!e.amount.isZero(),sushi:e=>e.pair.type===l.FJ.SWAP&&"0"!==e.allocPoint,kashi:e=>e.pair.type===l.FJ.KASHI&&"0"!==e.allocPoint,"2x":e=>(e.chef===l.WJ.MASTERCHEF_V2||e.chef===l.WJ.MINICHEF)&&e.rewards.length>1&&"0"!==e.allocPoint,old:e=>"0"===e.allocPoint,trident:e=>e.pair.type===l.FJ.TRIDENT&&"0"!==e.allocPoint},u=(0,Ge.Z)({chainId:d}).filter((e=>!(o in c)||c[o](e))),{result:m,term:h,search:v}=(0,Xe.Z)({data:u,options:{keys:["pair.id","pair.token0.symbol","pair.token1.symbol"],threshold:0}});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)($e.PB,{title:"Farm",description:"Farm SUSHI"}),(0,b.jsxs)(Qe.CV,{className:"sm:!flex-row justify-between items-center",pattern:"bg-bubble",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Z,{variant:"h2",className:"text-high-emphesis",weight:700,children:e._(e._("Onsen Menu"))}),(0,b.jsx)(n.Z,{variant:"sm",weight:400,children:e._(e._("Earn fees and rewards by depositing and staking your tokens to the platform."))})]}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)(a.ZP,{id:"btn-create-new-pool",size:"sm",children:(0,b.jsx)("a",{href:"https://rbieu62gj0f.typeform.com/to/KkrPkOFe",target:"_blank",rel:"noreferrer",children:e._(e._("Apply for Onsen"))})})})]}),(0,b.jsx)(Qe.A9,{children:(0,b.jsxs)("div",{className:"flex flex-col w-full gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-between gap-4 sm:flex-row",children:[(0,b.jsx)(s.Z,{search:v,term:h}),(0,b.jsx)(ze,{account:i,chainId:d})]}),(0,b.jsx)(De,{farms:m,term:h})]})})]})}},38559:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farm",function(){return t(12096)}])},13902:function(e,i,t){"use strict";var r=t(67294);const a=r.forwardRef((function(e,i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:i},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}));i.Z=a}},function(e){e.O(0,[8306,8529,9613,1436,1641,8004,3841,6541,7032,9658,134,6201,8682,9695,4725,6546,6345,9774,2888,179],(function(){return i=38559,e(e.s=i);var i}));var i=e.O();_N_E=i}]);