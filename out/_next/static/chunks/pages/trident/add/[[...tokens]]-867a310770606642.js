(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2729],{44345:function(e,i,t){"use strict";var s=t(56727),n=t(5506),o=t(67294),l=t(56785),a=t(85893);i.Z=e=>{let{title:i,open:t,onClose:r,children:d,closeTrigger:c}=e;return(0,a.jsx)(s.uT.Root,{show:t,as:o.Fragment,children:(0,a.jsx)(s.Vq,{as:"div",static:!0,className:"fixed inset-0 overflow-hidden z-20",open:t,onClose:r,children:(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,a.jsx)(s.uT.Child,{as:o.Fragment,enter:"ease-in-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(s.Vq.Overlay,{className:"absolute inset-0 bg-black bg-opacity-75 transition-opacity"})}),(0,a.jsx)("div",{className:"max-h-[fit-content] absolute bottom-0 fixed right-0 left-0 w-full flex",children:(0,a.jsx)(s.uT.Child,{as:o.Fragment,enter:"transform transition ease-in-out duration-200 sm:duration-700",enterFrom:"translate-y-full",enterTo:"translate-y-0",leave:"transform transition ease-in-out duration-200 sm:duration-700",leaveFrom:"translate-y-0",leaveTo:"translate-y-full",children:(0,a.jsx)("div",{className:"w-full rounded-t overflow-hidden",children:i?(0,a.jsxs)("div",{className:"flex flex-col shadow-xl overflow-y-auto h-full bg-gradient-to-r from-blue to-pink",children:[(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)(l.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:i}),c||(0,a.jsxs)("button",{onClick:r,children:[(0,a.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,a.jsx)(n.Z,{className:"h-6 w-6 text-high-emphesis","aria-hidden":"true"})]})]})}),d]}):d})})})]})})})}},23310:function(e,i,t){"use strict";t.d(i,{d:function(){return n}});var s=t(31518);const n=e=>{var i,t;if(null===(i=e[0])||void 0===i||!i.greaterThan(0)||null===(t=e[1])||void 0===t||!t.greaterThan(0))return;const n=e[1].divide(e[0]);return new s.tA(e[0].currency,e[1].currency,n.denominator,n.numerator)}},20311:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return oe}});var s=t(94323),n=t(14744),o=t(17988),l=t(98332),a=t(71862),r=t(94492),d=t(56785),c=t(34189),u=t(31518),h=t(20734),v=t(62828),x=t(44554),m=t(15423),p=t(12614),f=t(16339),g=t(67294),j=t(25617);const w=()=>{const{currencies:e}=(0,v.x)(),i=(0,j.v9)(h.z_);return(0,g.useMemo)((()=>e[0]&&e[1]?[(0,x.eo)(i[0],e[0]),(0,x.eo)(i[1],e[1])]:[void 0,void 0]),[e,i])},y=()=>{var e,i;const{i18n:t}=(0,n.mV)(),{account:s}=(0,p.aQ)(),{poolWithState:l,currencies:a}=(0,v.x)(),r=(0,j.v9)(h.Fo),d=w(),c=(0,m.L)(null!==s&&void 0!==s?s:void 0,a,r),x=(0,g.useMemo)((()=>!!d.find(((e,i)=>{var t;return!(!c||!e)&&(null===c||void 0===c||null===(t=c[i])||void 0===t?void 0:t.lessThan(e))}))),[c,d]);return s?(null===l||void 0===l?void 0:l.state)===o.tK.INVALID?t._(t._("Invalid pool")):null!==(e=d[0])&&void 0!==e&&e.greaterThan(u.xE)||null!==(i=d[1])&&void 0!==i&&i.greaterThan(u.xE)?x?t._(t._("Insufficient Balance")):"":t._(t._("Enter an amount")):t._(t._("Connect Wallet"))},N=()=>{const e=(0,f.T)(),i=(0,f.C)(h.Zx),{fixedRatio:t,spendFromWallet:s,normalInput:n}=i,o=(0,g.useMemo)((()=>i=>e((0,h.Mt)("function"===typeof i?i(n):i))),[e,n]);return(e=>{let{fixedRatio:i,spendFromWallet:t,inputs:s,setInputs:n}=e;const{account:o}=(0,p.aQ)(),{poolWithState:l,noLiquidity:a,rebases:r,currencies:d}=(0,v.x)(),c=w(),h=(0,g.useCallback)((e=>{if(null!==l&&void 0!==l&&l.pool&&!a&&i&&null!==d&&void 0!==d&&d[0]&&null!==d&&void 0!==d&&d[1]){const[i,s]=[d[0].wrapped,d[1].wrapped],o=(0,x.eo)(e,i);if(i&&i&&o&&null!==r&&void 0!==r&&r[i.address]&&null!==r&&void 0!==r&&r[s.address]){var t;const a=(0,x.nP)(r[s.address],l.pool.priceOf(i).quote((0,x.HW)(r[i.address],o)));return void n([e,(null!==(t=d[1])&&void 0!==t&&t.isNative?u.ih.fromRawAmount(d[1],a.quotient):a).toExact()])}}n((i=>[e,0===Number(e)?void 0:i[1]]))}),[d,i,a,null===l||void 0===l?void 0:l.pool,r,n]),f=(0,g.useCallback)((e=>{if(null!==l&&void 0!==l&&l.pool&&!a&&i&&null!==d&&void 0!==d&&d[0]&&null!==d&&void 0!==d&&d[1]){const[i,s]=[d[0].wrapped,d[1].wrapped],o=(0,x.eo)(e,s);if(i&&i&&o&&null!==r&&void 0!==r&&r[i.address]&&null!==r&&void 0!==r&&r[s.address]){var t;const a=(0,x.nP)(r[i.address],l.pool.priceOf(s).quote((0,x.HW)(r[s.address],o)));return void n([(null!==(t=d[0])&&void 0!==t&&t.isNative?u.ih.fromRawAmount(d[0],a.quotient):a).toExact(),e])}}n((i=>[0===Number(e)?void 0:i[0],e]))}),[d,i,a,null===l||void 0===l?void 0:l.pool,r,n]),j=(0,m.L)(null!==o&&void 0!==o?o:void 0,d,t),y=(0,g.useCallback)((async()=>{var e,t,s,o,r;j&&null!==l&&void 0!==l&&l.pool&&j[0]&&j[1]&&d[0]&&(!a&&i?null!==(e=l.pool.priceOf(d[0].wrapped).quote(j[0].wrapped))&&void 0!==e&&e.lessThan(j[1].wrapped)?h((null===(t=(0,x.iN)(j[0]))||void 0===t?void 0:t.toExact())||""):f((null===(s=(0,x.iN)(j[1]))||void 0===s?void 0:s.toExact())||""):n([null===(o=(0,x.iN)(j[0]))||void 0===o?void 0:o.toExact(),null===(r=(0,x.iN)(j[1]))||void 0===r?void 0:r.toExact()]))}),[j,d,i,h,f,a,null===l||void 0===l?void 0:l.pool,n]),N=(0,g.useMemo)((()=>{return!!(j&&null!==l&&void 0!==l&&l.pool&&j[0]&&j[1]&&d[0])&&(!a&&i?null!==(e=l.pool.priceOf(d[0].wrapped).quote(j[0].wrapped))&&void 0!==e&&e.lessThan(j[1].wrapped)?null===(t=c[0])||void 0===t?void 0:t.equalTo((0,x.iN)(j[0])||""):null===(s=c[1])||void 0===s?void 0:s.equalTo((0,x.iN)(j[1])||""):(null===(n=c[0])||void 0===n?void 0:n.equalTo((0,x.iN)(j[0])||""))&&(null===(o=c[1])||void 0===o?void 0:o.equalTo((0,x.iN)(j[1])||"")));var e,t,s,n,o}),[j,d,i,a,c,null===l||void 0===l?void 0:l.pool]);return(0,g.useEffect)((()=>{i&&s[0]&&s[1]||i&&s[0]&&!s[1]?h(s[0]):i&&s[1]&&!s[0]&&f(s[1])}),[i]),(0,g.useMemo)((()=>({mainInput:[s[0],h],secondaryInput:[s[1],f],onMax:y,isMax:N})),[h,f,s,N,y])})({fixedRatio:t,spendFromWallet:s,inputs:n,setInputs:o})};var b=t(16682),_=t(23310),Z=t(37643);const S=()=>{const{poolWithState:e,totalSupply:i,poolBalance:t,rebases:s,noLiquidity:n,poolShare:o,liquidityValue:l,currencies:a}=(0,v.x)(),r=(0,f.C)(Z.tE),d=w(),c=(0,g.useMemo)((()=>{if(null!==e&&void 0!==e&&e.pool&&i&&a[0]&&a[1]&&null!==s&&void 0!==s&&s[a[0].wrapped.address]&&null!==s&&void 0!==s&&s[a[1].wrapped.address]){const o=(0,x.HW)(s[a[0].wrapped.address],d&&d[0]?d[0].wrapped:u.ih.fromRawAmount(a[0],"0").wrapped),l=(0,x.HW)(s[a[1].wrapped.address],d&&d[1]?d[1].wrapped:u.ih.fromRawAmount(a[1],"0").wrapped);if(o.equalTo(u.xE)&&l.equalTo(u.xE))return;try{const t=e.pool.getLiquidityMinted(i,o,l),s=(0,x.uc)(t,n?b.fI:r)[0];return u.ih.fromRawAmount(t.currency,s.toString())}catch(t){console.error(t)}}}),[a,n,d,null===e||void 0===e?void 0:e.pool,s,r,i]),h=(0,g.useMemo)((()=>{if(c&&i&&t)return new u.gG(t.add(c).quotient,i.add(c).quotient)}),[c,t,i]),m=(0,g.useMemo)((()=>{return n&&d?(0,_.d)(d):null!==d&&void 0!==d&&d[1]&&null!==e&&void 0!==e&&e.pool&&null!==(i=d[0])&&void 0!==i&&i.wrapped?null===e||void 0===e?void 0:e.pool.priceOf(null===(t=d[1])||void 0===t?void 0:t.currency.wrapped):void 0;var i,t}),[n,d,null===e||void 0===e?void 0:e.pool]);return(0,g.useMemo)((()=>({poolShareBefore:o,poolShareAfter:h,liquidityMinted:c,liquidityValueBefore:l,price:m})),[o,h,c,l,m])};var k=t(22441),T=t(85893);var q=()=>{var e,i,t,s,o,l,a,r,c;const{i18n:u}=(0,n.mV)(),{poolWithState:h,poolBalance:x}=(0,v.x)(),{price:m,poolShareBefore:p,liquidityMinted:f,poolShareAfter:g}=S();return(0,T.jsxs)("div",{className:"flex flex-col gap-4 lg:gap-8",children:[(0,T.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,T.jsx)(d.Z,{weight:700,className:"text-high-emphesis",children:u._(u._("Transaction Details"))}),(0,T.jsx)(k.Z,{children:(0,T.jsx)(d.Z,{weight:700,variant:"sm",className:"text-right text-blue",children:u._(u._("What do these mean?"))})})]}),(0,T.jsxs)("div",{className:"flex flex-col gap-1",children:[(null===h||void 0===h?void 0:h.pool)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,T.jsxs)(d.Z,{variant:"sm",className:"text-secondary",children:["1 ",null===(e=h.pool)||void 0===e||null===(i=e.token0)||void 0===i?void 0:i.symbol]}),(0,T.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[m?m.toSignificant(6):"0.000"," ",null===(t=h.pool)||void 0===t||null===(s=t.token1)||void 0===s?void 0:s.symbol]})]}),(0,T.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,T.jsxs)(d.Z,{variant:"sm",className:"text-secondary",children:["1 ",null===(o=h.pool)||void 0===o||null===(l=o.token1)||void 0===l?void 0:l.symbol]}),(0,T.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[m?m.invert().toSignificant(6):"0.000"," ",null===(a=h.pool)||void 0===a||null===(r=a.token0)||void 0===r?void 0:r.symbol]})]})]}),(0,T.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,T.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:u._(u._("Minimum Received"))}),(0,T.jsxs)(d.Z,{id:"text-liquidity-minted",weight:700,variant:"sm",className:"text-high-emphesis",children:[(null===f||void 0===f?void 0:f.toSignificant(6))||"0.000"," BSP"]})]}),(0,T.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,T.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:u._(u._("Your Pool Share"))}),(0,T.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[null!==p&&void 0!==p&&p.greaterThan(0)?null===p||void 0===p?void 0:p.toSignificant(6):"0.000","%",(null===g||void 0===g?void 0:g.greaterThan(0))&&(0,T.jsxs)(T.Fragment,{children:["\u2192 ",(0,T.jsxs)("span",{className:"text-green",children:[(null===g||void 0===g?void 0:g.toSignificant(6))||"0.000","%"]})]})]})]}),(0,T.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,T.jsx)(d.Z,{variant:"sm",className:"text-secondary whitespace-nowrap",children:u._(u._("Your Pool Tokens"))}),(0,T.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-right text-high-emphesis",children:[null!==x&&void 0!==x&&x.greaterThan(0)?null===x||void 0===x?void 0:x.toSignificant(6):"0.000",(null===f||void 0===f?void 0:f.greaterThan(0))&&(0,T.jsxs)(T.Fragment,{children:[" BSP ","\u2192"," ",(0,T.jsxs)("span",{className:"text-green",children:[x&&f?null===(c=x.add(f))||void 0===c?void 0:c.toSignificant(6):"0.000"," BSP"]})]})]})]})]})]})};var C=()=>{const{i18n:e}=(0,n.mV)(),i=y();return(0,T.jsxs)("div",{className:"flex flex-col p-10 rounded bg-dark-1000 shadow-lg gap-20",children:[(0,T.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,T.jsx)(d.Z,{variant:"h3",className:"text-high-emphesis",children:e._(e._("Standard Mode"))}),(0,T.jsx)(d.Z,{variant:"sm",children:e._(e._("Select any asset from your wallet or BentoBox balance to invest in this pool.  That asset will be split and converted into the pool assets and deposited in equal value."))})]}),(0,T.jsx)("div",{className:i?"opacity-50":"opacity-100",children:(0,T.jsx)(q,{})})]})},W=t(97436),M=t(15097),P=t(53389),A=t(76866),F=t(49932);var I=()=>{const{i18n:e}=(0,n.mV)(),i=(0,A.Z)(),t=(0,f.T)(),s=(0,P.rO)(),o=(0,P.sL)(),{currencies:l}=(0,v.x)(),{spendFromWallet:r,attemptingTxn:d,bentoPermit:c}=(0,f.C)(h.Zx),[u,m]=w(),p=y(),{mainInput:[g,j],secondaryInput:[b,_],onMax:Z,isMax:S}=N();return(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,T.jsx)("div",{}),(0,T.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,T.jsx)(W.Z,{value:g||"",currency:null===l||void 0===l?void 0:l[0],onChange:e=>j(e||""),headerRight:(0,T.jsx)(W.Z.WalletSwitch,{onChange:()=>t((0,h.B5)([!r[0],r[1]])),checked:r[0],id:"switch-spend-from-wallet-a"}),spendFromWallet:r[0],id:"asset-input-a"}),(0,T.jsx)("div",{}),(0,T.jsx)(W.Z,{value:b||"",currency:null===l||void 0===l?void 0:l[1],onChange:e=>_(e||""),headerRight:(0,T.jsx)(W.Z.WalletSwitch,{onChange:()=>t((0,h.B5)([r[0],!r[1]])),checked:r[1],id:"switch-spend-from-wallet-b"}),spendFromWallet:r[1],id:"asset-input-b"}),(0,T.jsx)("div",{className:"flex flex-col gap-3",children:(0,T.jsx)(F.Z,{inputAmounts:[u,m],tokenApproveOn:null===s||void 0===s?void 0:s.address,masterContractAddress:null===o||void 0===o?void 0:o.address,withPermit:!0,permit:c,onPermit:e=>t((0,h.MW)(e)),children:i=>{let{approved:s,loading:n}=i;const o=!!p||!s||n||d,l=d?(0,T.jsx)(M.Z,{children:e._(e._("Depositing"))}):n?"":p||e._(e._("Confirm Deposit"));return(0,T.jsxs)("div",{className:(0,x.AK)(S?"flex":"grid grid-cols-2 gap-3"),children:[!S&&(0,T.jsx)(a.ZP,{fullWidth:!0,color:"blue",disabled:S,onClick:Z,children:e._(e._("Max Deposit"))}),(0,T.jsx)(a.ZP,{id:"btn-".concat(l.toString().replace(/\s/g,"")),loading:n,fullWidth:!0,color:"gradient",disabled:o,onClick:()=>t((0,h.O4)(!0)),children:l})]})}})})]}),!p&&!i&&(0,T.jsx)("div",{className:"flex flex-col",children:(0,T.jsx)(q,{})})]})})},E=t(92552),B=t(50484),D=t(2905),O=t(44345),R=t(46430);var L=()=>{const e=(0,A.Z)(),{0:i,1:t}=(0,g.useState)(!1),{i18n:s}=(0,n.mV)(),o=(0,T.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded cursor-pointer",onClick:()=>t(!0),children:(0,T.jsx)(D.Z,{className:"w-6 h-6 lg:w-4 lg:h-4 text-high-emphesis"})}),l=(0,T.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,T.jsx)(R.Z.Header,{header:s._(s._("Fixed ratio")),onClose:()=>t(!1)}),(0,T.jsxs)(R.Z.BorderedContent,{className:"flex flex-col gap-3",children:[(0,T.jsx)(d.Z,{variant:"sm",className:"text-high-emphesis",children:s._(s._("Balanced Mode is an optional UI setting to maintain the traditional style of equal-value adds and removes."))}),(0,T.jsx)(d.Z,{variant:"sm",weight:400,className:"text-high-emphesis",children:s._(s._("Previously, adding and removing liquidity had to be done with equal amounts of all assets. With the Trident\nupdate, this is no longer mandatory."))})]}),(0,T.jsxs)(R.Z.BorderedContent,{className:"flex flex-col gap-2",children:[(0,T.jsx)(d.Z,{variant:"sm",weight:700,className:"text-white",children:s._(s._("Why use Balance Mode?"))}),(0,T.jsx)(d.Z,{variant:"sm",weight:400,className:"text-high-emphesis",children:s._(s._("Lower price impacts. The closer to equilibrium you interact with a pool, the lower price impact there is on your investment."))})]})]});return(0,T.jsx)(T.Fragment,{children:e?(0,T.jsx)(R.Z,{trigger:o,children:()=>l}):(0,T.jsxs)(T.Fragment,{children:[o,(0,T.jsx)(O.Z,{open:i,onClose:()=>t(!1),children:l})]})})};var V=e=>{let{margin:i=!0}=e;const t=(0,A.Z)(),{i18n:s}=(0,n.mV)(),o=(0,f.T)(),{fixedRatio:l,liquidityMode:a}=(0,f.C)(h.Zx);if(a!==B.LU.STANDARD)return(0,T.jsx)(T.Fragment,{});const r=(0,T.jsxs)("div",{className:"flex justify-between gap-1 lg:justify-start",children:[(0,T.jsxs)("div",{className:"flex flex-row items-center gap-3 cursor-pointer",onClick:()=>o((0,h.JH)(!l)),children:[(0,T.jsx)(E.Z,{id:"chk-fixed-ratio-deposit",className:"w-6 h-6",checked:l}),(0,T.jsx)(d.Z,{variant:"sm",weight:700,className:l?"text-white":"",children:s._(s._("Deposit assets in equal amounts"))})]}),(0,T.jsx)(L,{})]});return t?(0,T.jsx)("div",{className:"pb-1",children:r}):(0,T.jsxs)("div",{className:i?"top-0 -ml-5 -mr-5 -mt-5 mb-4 pt-5 pb-5 relative":"py-5 relative",children:[(0,T.jsx)("div",{className:"z-[-1] top-0 pointer-events-none absolute w-full h-full border-t border-b border-gradient-r-blue-pink-dark-1000 border-transparent opacity-30",children:(0,T.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-opaque-blue to-opaque-pink"})}),(0,T.jsx)("div",{className:"px-5 z-[1]",children:r})]})},H=t(27801),K=t(84243),z=t(9279),X=t(67347),Q=t(54907),Y=t(53344),G=t(68411);var U=t(70028);var J=e=>{let{txHash:i,onDismiss:t}=e;const{i18n:s}=(0,n.mV)();return(0,T.jsx)(U.S.SubmittedModalContent,{txHash:i,header:s._(s._("Success!")),subheader:s._(s._("Success! Deposit Submitted")),onDismiss:t})};var $=()=>{const{i18n:e}=(0,n.mV)(),i=(0,f.T)(),{currencies:t}=(0,v.x)(),{attemptingTxn:s,showReview:o,txHash:l,spendFromWallet:r,bentoPermit:c}=(0,f.C)(h.Zx),{liquidityMinted:m,poolShareAfter:j,poolShareBefore:y}=S(),N=(()=>{const{i18n:e}=(0,n.mV)(),{poolWithState:i,rebases:t}=(0,v.x)(),{chainId:s,library:o,account:l}=(0,p.aQ)(),a=(0,f.T)(),r=(0,G.h7)(),d=(0,Q.sL)();return(0,g.useCallback)((async n=>{let{parsedAmounts:c,spendFromWallet:v,liquidityMinted:m,bentoPermit:p}=n;const[f,g]=c,[j,w]=v;if(null===i||void 0===i||!i.pool||!s||!o||!l||!d||!m||!t)return;const{pool:y}=i;let N="0x0";const b=[],_=K.$.encode(["address"],[l]);if(f&&(f.currency.isNative&&j&&(N=(0,u.NC)(f)),b.push({token:f.currency.isNative&&j?z.d:f.currency.wrapped.address,native:j,amount:j?f.quotient.toString():(0,x.sO)(t[f.wrapped.currency.address],f.quotient).toString()})),g&&(g.currency.isNative&&w&&(N=(0,u.NC)(g)),b.push({token:g.currency.isNative&&w?z.d:g.currency.wrapped.address,native:w,amount:w?g.quotient.toString():(0,x.sO)(t[g.wrapped.currency.address],g.quotient).toString()})),0!==b.length)try{a((0,h.tD)(!0));const i=await o.getSigner().sendTransaction({from:l,to:d.address,data:(0,X.H7)({contract:d,actions:[(0,X.uE)({router:d,signature:p}),(0,X.x)({contract:d,fn:"addLiquidity",args:[b,y.liquidityToken.address,m.quotient.toString(),_]})]}),value:N});return null!==i&&void 0!==i&&i.hash&&(r(i,{summary:e._(e._("Add {0} {1} and {2} {3} into {4}/{5}",{0:null===f||void 0===f?void 0:f.toSignificant(3),1:null===f||void 0===f?void 0:f.currency.symbol,2:null===g||void 0===g?void 0:g.toSignificant(3),3:null===g||void 0===g?void 0:g.currency.symbol,4:y.token0.symbol,5:y.token1.symbol}))}),await i.wait()),a((0,h.tD)(!1)),gtag("event","Add",{event_category:"Liquidity",event_label:[y.token0.symbol,y.token1.symbol].join("/")}),a((0,h.MW)(void 0)),i}catch(Z){a((0,h.tD)(!1)),(null===Z||void 0===Z?void 0:Z.code)!==Y.PM&&console.error(Z)}}),[i,s,o,l,d,t,a,r,e])})(),b=w(),_=(0,g.useCallback)((async()=>{const e=await N({parsedAmounts:b,liquidityMinted:m,spendFromWallet:r,bentoPermit:c});null!==e&&void 0!==e&&e.hash&&i((0,h.pW)(e.hash))}),[N,b,m,r,c,i]),Z=[b[0]||(null!==t&&void 0!==t&&t[0]?u.ih.fromRawAmount(t[0],"0"):void 0),b[1]||(null!==t&&void 0!==t&&t[1]?u.ih.fromRawAmount(t[1],"0"):void 0)];return(0,T.jsx)(R.Z.Controlled,{isOpen:o,onDismiss:()=>i((0,h.O4)(!1)),afterLeave:()=>i((0,h.pW)(void 0)),maxWidth:"md",unmount:!1,children:l?(0,T.jsx)(J,{txHash:l,onDismiss:()=>i((0,h.pW)(void 0))}):(0,T.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,T.jsx)(R.Z.Header,{header:e._(e._("Confirm add liquidity")),onClose:()=>i((0,h.O4)(!1))}),(0,T.jsx)(d.Z,{variant:"sm",children:e._(e._("Output is estimated. If the price changes by more than 0.5% your transaction will revert."))}),(0,T.jsxs)(R.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,T.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:e._(e._("You are depositing:"))}),(0,T.jsx)(H.Z,{items:Z.map(((e,i)=>(0,T.jsx)(H.Z.CurrencyAmountItem,{amount:e},i)))})]}),(0,T.jsxs)(R.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,T.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:e._(e._("You'll receive (at least):"))}),(0,T.jsxs)(d.Z,{weight:700,variant:"lg",className:"text-high-emphesis",children:[null===m||void 0===m?void 0:m.toSignificant(6)," BSP"]})]}),(0,T.jsxs)("div",{className:"flex justify-between px-2 py-1",children:[(0,T.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:e._(e._("Share of Pool"))}),(0,T.jsxs)(d.Z,{variant:"sm",weight:700,className:"text-right text-high-emphesis",children:[null!==y&&void 0!==y&&y.greaterThan(0)?null===y||void 0===y?void 0:y.toSignificant(6):"0.000","% \u2192"," ",(null===j||void 0===j?void 0:j.toSignificant(6))||"0.000","%"]})]}),(0,T.jsx)(a.ZP,{id:"btn-modal-confirm-deposit",disabled:s,color:"blue",onClick:_,children:e._(e._("Confirm Deposit"))})]})})},ee=t(87433),ie=t(22680),te=t(41664),se=t.n(te);const ne=()=>{const{i18n:e}=(0,n.mV)(),{chainId:i}=(0,p.aQ)(),{poolWithState:t}=(0,v.x)();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ie.CV,{pattern:"bg-bubble",children:(0,T.jsxs)("div",{className:"relative flex flex-col w-full gap-5 mt-px lg:justify-between lg:w-7/12",children:[(0,T.jsxs)("div",{className:"flex justify-between",children:[(0,T.jsx)(a.ZP,{color:"blue",variant:"outlined",size:"sm",className:"!pl-2 !py-1 rounded-full",startIcon:(0,T.jsx)(s.Z,{width:24,height:24}),children:(0,T.jsx)(se(),{href:(null===t||void 0===t?void 0:t.state)===o.tK.EXISTS?{pathname:"/trident/pool",query:{tokens:[(0,x.yP)(i,t.pool.token0.address),(0,x.yP)(i,t.pool.token1.address)],fee:t.pool.fee,twap:t.pool.twap}}:"/trident/pools",children:(null===t||void 0===t?void 0:t.state)===o.tK.EXISTS?"".concat(t.pool.token0.symbol,"-").concat(t.pool.token1.symbol):e._(e._("Back"))})}),(0,T.jsx)(r.Z,{trident:!0})]}),(0,T.jsx)("div",{children:(0,T.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,T.jsx)(d.Z,{variant:"h2",weight:700,className:"text-high-emphesis",children:e._(e._("Add Liquidity"))}),(0,T.jsx)(d.Z,{variant:"sm",children:e._(e._("Deposit tokens in equal amounts or deposit either one of the two tokens or in any ratio."))}),t&&[o.tK.NOT_EXISTS,o.tK.INVALID].includes(t.state)&&(0,T.jsx)(l.Z,{className:"px-0 pb-0 bg-transparent",dismissable:!1,type:"error",showIcon:!0,message:e._(e._("A Pool could not be found for provided currencies"))})]})})]})}),(0,T.jsx)(ie.A9,{children:(0,T.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,T.jsxs)("div",{className:"flex flex-col w-full lg:w-7/12",children:[(0,T.jsx)(V,{}),(0,T.jsx)(I,{}),(0,T.jsx)($,{})]}),(0,T.jsx)("div",{className:"flex flex-col hidden -mt-40 lg:block lg:w-4/12",children:(0,T.jsx)(C,{})})]})})]})};ne.Guard=(0,ee.Z)(c.L.TRIDENT),ne.Provider=v.Z,ne.Layout=ie.ZP;var oe=ne},82410:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trident/add/[[...tokens]]",function(){return t(20311)}])}},function(e){e.O(0,[8306,8529,9613,1436,1641,3429,6541,7032,9658,3608,134,6201,5710,4838,3481,9774,2888,179],(function(){return i=82410,e(e.s=i);var i}));var i=e.O();_N_E=i}]);