(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9164],{67347:function(e,t,n){"use strict";n.d(t,{CG:function(){return a},H7:function(){return s},Il:function(){return c},VU:function(){return v},Wb:function(){return l},gc:function(){return d},uE:function(){return u},x:function(){return i}});var r=n(84243),o=n(31518);const i=e=>{let{contract:t,fn:n,args:r}=e;return t.interface.encodeFunctionData(n,r)},s=e=>{let{contract:t,actions:n=[]}=e;const r=n.filter(Boolean);if(0===r.length)throw new Error("No valid actions");return 1===r.length?r[0]:r.length>1?t.interface.encodeFunctionData("multicall",[r]):void 0},a=e=>{let{router:t,address:n,amount:o,recipient:i,receiveToWallet:s,liquidityOutput:a}=e;return t.interface.encodeFunctionData("burnLiquidity",[n,o,r.$.encode(["address","bool"],[i,s]),a])},l=e=>{let{router:t,token:n,address:o,amount:i,recipient:s,receiveToWallet:a,minWithdrawal:l}=e;return t.interface.encodeFunctionData("burnLiquiditySingle",[o,i,r.$.encode(["address","address","bool"],[n,s,a]),l])},d=e=>{let{chainId:t,router:n,recipient:r,amountMinimum:i}=e;return t===o.a_.MATIC?n.interface.encodeFunctionData("unwrapWETH",[i,r]):n.interface.encodeFunctionData("unwrapWETH",[r])},c=e=>{let{router:t,token:n,amount:r,recipient:o}=e;return t.interface.encodeFunctionData("sweepNativeToken",[n,r,o])},u=e=>{let{router:t,signature:n}=e;if(!n)return;const{v:r,r:o,s:i}=n;return t.interface.encodeFunctionData("approveMasterContract",[r,o,i])},v=e=>{let{router:t,signatureData:n}=e;if(!n)return;const{tokenAddress:r,amount:o,deadline:i,v:s,r:a,s:l}=n;return t.interface.encodeFunctionData("selfPermit",[r,o,i,s,a,l])}},20290:function(e,t,n){"use strict";n.d(t,{$k:function(){return u},TD:function(){return v},Z8:function(){return p}});var r=n(8198),o=n(31518),i=n(2187),s=n(17988),a=n(54907),l=n(2886),d=n(67294);const c=new r.vU(i.abi);function u(e){const t=(0,d.useMemo)((()=>{const t=new Map;return e.map((e=>{let[n,r]=e;if(n&&r){let e=n.address,o=r.address;void 0!==e&&void 0!==o&&(e<o?t.set(e+o,[n,r]):t.set(o+e,[r,n]))}})),[...t.values()]}),[e]),n=(0,d.useMemo)((()=>t.map((e=>{let[t,n]=e;return[t.address,n.address]}))),[t]),r=(0,a.mX)(),i=(0,l.es)(r,"poolsCount",n),u=(0,d.useMemo)((()=>i.map(((e,t)=>[t,e.result?parseInt(e.result.count.toString()):0])).filter((e=>{let[t,n]=e;return n})).map((e=>{let[t,r]=e;return[n[t][0],n[t][1],0,r]}))),[i,n]),v=(0,d.useMemo)((()=>i.map(((e,t)=>[t,e.result?parseInt(e.result.count.toString()):0])).filter((e=>{let[t,n]=e;return n})).map((e=>{let[n,r]=e;return[t[n][0],t[n][1]]}))),[i,t]),p=(0,l.es)(r,"getPools",u),f=(0,d.useMemo)((()=>{const e=[];return p.forEach(((t,n)=>{void 0!==t.result&&t.result.pairPools.forEach((t=>e.push({address:t,token0:v[n][0],token1:v[n][1]})))})),e}),[p,v]),h=(0,d.useMemo)((()=>f.map((e=>e.address))),[f]),m=(0,l._Y)(h,c,"getReserves"),g=(0,l._Y)(h,c,"swapFee");return(0,d.useMemo)((()=>f.map(((e,t)=>m[t].valid&&m[t].result&&g[t].valid&&g[t].result?{state:s.tK.EXISTS,pool:new s.Pg(o.ih.fromRawAmount(e.token0,m[t].result._reserve0.toString()),o.ih.fromRawAmount(e.token1,m[t].result._reserve1.toString()),parseInt(g[t].result[0].toString()),0!==m[t].result._blockTimestampLast)}:{state:s.tK.LOADING}))),[f,m,g])}function v(e){const t=(0,a.mX)(),n=(0,d.useMemo)((()=>e.reduce(((e,n)=>{let[r,o,i,a]=n;const l=r&&o&&i&&void 0!==a&&r.chainId===o.chainId&&!r.equals(o)&&null!==t&&void 0!==t&&t.address?(0,s.we)({factoryAddress:t.address,tokenA:r.wrapped,tokenB:o.wrapped,fee:i,twap:a}):void 0;return e.push(l&&!e.includes(l)?l:void 0),e}),[])),[null===t||void 0===t?void 0:t.address,e]),r=(0,l._Y)(n,c,"getReserves");return(0,d.useMemo)((()=>r.map(((t,n)=>{var r,i,a,l;const{result:d,loading:c}=t,u=null===(r=e[n][0])||void 0===r?void 0:r.wrapped,v=null===(i=e[n][1])||void 0===i?void 0:i.wrapped,p=null===(a=e[n])||void 0===a?void 0:a[2],f=null===(l=e[n])||void 0===l?void 0:l[3];if(c)return{state:s.tK.LOADING};if(!d)return{state:s.tK.NOT_EXISTS};if(!u||!v||u.equals(v))return{state:s.tK.INVALID};const{_reserve0:h,_reserve1:m}=d,[g,x]=u.sortsBefore(v)?[u,v]:[v,u];return{state:s.tK.EXISTS,pool:new s.Pg(o.ih.fromRawAmount(g,h.toString()),o.ih.fromRawAmount(x,m.toString()),p,f)}}))),[r,e])}function p(e,t,n,r){return v((0,d.useMemo)((()=>[[e,t,n,r]]),[e,t,n,r]))[0]}},78405:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(94323),o=n(14744),i=n(71862),s=n(56785),a=n(38239),l=n(54104),d=n(15097),c=n(90695),u=n(59499),v=n(92552),p=n(17988);const f=(e,t,n)=>n.indexOf(e)===t,h=e=>{const t=[];for(const n of Object.values(p.at).filter(Number)){const r=e.filter((e=>e.swapFee===n)).map((e=>e.twapEnabled)).filter(f);2!==r.length&&(1===r.length&&t.push({fee:n,twap:!r[0]}),r.length||(t.push({fee:n,twap:!0}),t.push({fee:n,twap:!1})))}return t};var m=n(44554),g=n(67294),x=n(85893);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){return e.filter((e=>e.fee===t)).map((e=>e.twap)).filter(f)}const P=e=>{let{selectedPoolConfig:t,allPoolConfigs:n,onClick:r}=e;const{i18n:i}=(0,o.mV)();return(0,x.jsxs)("div",{className:(0,m.AK)("flex flex-col gap-3 bg-dark-800 rounded p-4 m-3",!t&&"hover:bg-dark-700 hover:cursor-pointer",t&&"border-2 border-blue p-3.5"),onClick:()=>!t&&r(n[0]),children:[(0,x.jsxs)("div",{children:[i._(i._("Create Pool"))," ",!t&&"\u2192"]}),t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:i._(i._("Fee tier"))}),n.map((e=>e.fee)).filter(f).map((e=>(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(v.Z,{checked:e==t.fee,set:o=>{((e,t,n,r,o)=>{if(!e)return;const i=w(r,t);2===i.length&&o({fee:t,twap:n}),1===i.length&&o({fee:t,twap:i[0]})})(o,e,t.twap,n,r)}}),(0,x.jsxs)("span",{className:"text-xs",children:[e/100,"%"]})]},e))),(0,x.jsx)("div",{children:i._(i._("TWAP"))}),(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(v.Z,{checked:t.twap,set:()=>{return o=r,void(2===w(n,(e=t).fee).length&&o(j(j({},e),{},{twap:!e.twap})));var e,o}}),(0,x.jsx)("span",{className:"text-xs",children:i._(i._("Yes create an oracle"))})]})]})]})};var y=n(58057);const k=e=>{let{pool:t,onClick:n,active:r}=e;const{i18n:i}=(0,o.mV)();return(0,x.jsxs)("div",{onClick:n,className:(0,m.AK)("flex justify-between bg-dark-800 rounded p-4 m-3",!r&&"hover:bg-dark-700 hover:cursor-pointer",r&&"border-2 border-blue p-3.5"),children:[(0,x.jsxs)("div",{className:"flex-grow",children:[(0,x.jsxs)("div",{className:"text-md",children:[t.swapFee/100,i._(i._("% Fee"))]}),t.twapEnabled?(0,x.jsxs)("div",{className:"flex gap-1 text-xs",children:[(0,x.jsx)("span",{children:i._(i._("TWAP"))}),(0,x.jsx)(y.Z,{className:"w-4 text-blue"})]}):(0,x.jsx)("div",{className:"text-low-emphesis text-xs",children:i._(i._("No TWAP"))})]}),(0,x.jsxs)("div",{className:"text-right text-xs flex flex-col justify-center",children:[(0,x.jsx)("div",{children:i._(i._("TVL"))}),(0,x.jsx)("div",{children:(0,m.uf)(t.liquidityUSD,!0)})]})]})};var _=n(13063),S=n(34776);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const T=e=>{let{migration:t,source:n,setFunc:r,tridentPools:s}=e;const{i18n:a}=(0,o.mV)(),{matches:l,availableToCreate:d}=(0,g.useMemo)((()=>((e,t)=>{const n=((e,t)=>t.filter((t=>{const n=t.token0.address.toLowerCase(),r=t.token1.address.toLowerCase(),o=e.token0.address.toLowerCase(),i=e.token1.address.toLowerCase();return n===o&&r===i||n===i&&r===o})))(e,t);return{matches:n,availableToCreate:h(n)}})(t.v2Pair,s)),[t.v2Pair,s]);return(0,x.jsxs)("div",{className:"w-full border border-1 border-dark-700 rounded bg-dark-900",children:[(0,x.jsxs)("div",{className:"flex justify-between p-3 items-center rounded-t",children:[(0,x.jsx)(_.W,{pair:t.v2Pair}),(0,x.jsx)("div",{className:"flex",children:(0,x.jsx)(i.ZP,{color:"blue",variant:"outlined",size:"xs",children:n})})]}),(0,x.jsx)(S.c,{pair:t.v2Pair}),(0,x.jsx)("div",{className:"m-3 text-high-emphesis",children:a._(a._("Select a Pool:"))}),l.map(((e,n)=>{var o;return(0,x.jsx)(k,{active:(null===(o=t.matchingTridentPool)||void 0===o?void 0:o.address)===e.address,pool:e,onClick:()=>r(D(D({},t),{},{matchingTridentPool:e,poolToCreate:void 0}))},n)})),d.length>0&&(0,x.jsx)(P,{selectedPoolConfig:t.poolToCreate,allPoolConfigs:d,onClick:e=>r(D(D({},t),{},{poolToCreate:e,matchingTridentPool:void 0}))})]})};var O=n(14894),N=n(7656),I=n(67347),U=n(53344),Z=n(36847);const F=(0,Z.i8)({content:{txn:{hash:"",success:!1,summary:"Missing dependencies needed for migration"}}}),E=e=>(0,Z.i8)({content:{txn:{hash:"",success:!1,summary:e}}});var q=n(47994),A=n(37643);const M=e=>{var t,n;const r=null===(t=e.matchingTridentPool)||void 0===t?void 0:t.twapEnabled,o=null===(n=e.poolToCreate)||void 0===n?void 0:n.twap;return void 0!==r?r:void 0!==o?o:void 0},L=e=>{var t,n;return(null===(t=e.matchingTridentPool)||void 0===t?void 0:t.swapFee)||(null===(n=e.poolToCreate)||void 0===n?void 0:n.fee)};function V(e,t,n,r,o){if(null===r||void 0===r||!r.pool||!o)return"1";if(!t[0]||!t[1])throw new Error("Rebases Missing");const i=r.pool.getLiquidityMinted(o,(0,m.HW)(t[0],n.token0),(0,m.HW)(t[1],n.token1));return(0,m.uc)(i,e)[0].toString()}var R=n(53389),W=n(61647),K=n(20290),Y=n(62603),G=n(12614),H=n(16339),B=n(68411),X=n(22986);const z=()=>{const{i18n:e}=(0,o.mV)(),{library:t,account:n}=(0,G.aQ)(),r=(0,H.T)(),i=(0,B.h7)(),s=(0,R.i7)(),a=(0,R.sL)(),l=(0,H.C)(N.Gi),d=(0,X.Z)(null!==n&&void 0!==n?n:void 0,l.map((e=>e.v2Pair.liquidityToken))),c=(0,K.TD)(l.map((e=>[e.v2Pair.token0,e.v2Pair.token1,L(e),M(e)]))),u=(0,Y.Y)(l.map((e=>e.v2Pair.liquidityToken))),v=(0,Y.Y)(c.map((e=>{var t;return null===(t=e.pool)||void 0===t?void 0:t.liquidityToken}))),{rebases:p,loading:f}=(0,W.Z)([...c.flatMap((e=>{var t,n;return[null===(t=e.pool)||void 0===t?void 0:t.token0,null===(n=e.pool)||void 0===n?void 0:n.token1]}))]);return async()=>{if(n&&t&&s&&a&&Object.keys(d).length&&d&&!f)try{const o=l.filter((e=>e.slpPermit)).map((e=>(0,I.VU)({router:a,signatureData:e.slpPermit}))),f=l.map(((e,t)=>{const n=c[t].pool;return(e=>{let{contract:t,migration:n,v2LpTokenAmount:r,v2PoolTotalSupply:o,selectedTridentPool:i,tridentPoolSupply:s,rebases:a}=e;const l=L(n),d=M(n);if(!l||void 0===d)throw new Error("Missing required selection: Swap Fee");const c={token0:n.v2Pair.getLiquidityValue(n.v2Pair.token0,o,r),token1:n.v2Pair.getLiquidityValue(n.v2Pair.token1,o,r)},u=(0,A.tE)(q.ZP.getState()),v=(0,m.uc)(c.token0,u)[0],p=(0,m.uc)(c.token1,u)[0],f=[n.v2Pair.liquidityToken.address,r.quotient.toString(),l,d,v.toString(),p.toString(),V(u,a,c,i,s)];return t.interface.encodeFunctionData("migrate",f)})({contract:s,migration:e,v2LpTokenAmount:d[e.v2Pair.liquidityToken.address],v2PoolTotalSupply:u[e.v2Pair.liquidityToken.address],selectedTridentPool:c[t],tridentPoolSupply:n?v[null===n||void 0===n?void 0:n.liquidityToken.address]:void 0,rebases:n?[p[n.token0.address],p[n.token1.address]]:[void 0,void 0]})})),h=await t.getSigner().sendTransaction({from:n,to:s.address,data:(0,I.H7)({contract:s,actions:[...o,...f]}),value:"0x0"});r((0,N.EO)(h.hash)),i(h,{summary:e._(e._("Migrating {0} LP tokens",{0:l.length}))})}catch(o){((e,t)=>{if(e instanceof Error)t(E(e.message));else if("string"===typeof e)t(E(e));else if((0,U.UR)(e)){if(e.code===U.PM)return;t(E("".concat(e.message," (code: ").concat(e.code,")")))}else t(E("Error attempting migration"));console.error(e)})(o,r)}else r(F)}};var $=n(46430),Q=n(11163);const J=()=>{const{i18n:e}=(0,o.mV)(),t=(0,Q.useRouter)(),n=(0,H.T)(),r=(0,H.C)(N.ZR);return(0,x.jsx)($.Z.Controlled,{isOpen:Boolean(r),onDismiss:()=>{},children:(0,x.jsx)($.Z.SubmittedModalContent,{onDismiss:()=>{n((0,N.Cl)()),t.replace("/trident/migrate")},header:e._(e._("Migration Transaction")),txHash:r})})};var ee=n(54962);const te=()=>{const{i18n:e}=(0,o.mV)(),t=(0,H.T)(),{input:n,error:r,percent:a}=(0,H.C)(A.Tz),l=a.equalTo(A.Ru);return(0,x.jsxs)("div",{className:"flex items-center md:self-start self-center gap-2",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(s.Z,{variant:"xs",weight:700,className:"text-high-emphesis",children:e._(e._("Slippage tolerance"))}),(0,x.jsx)(ee.Z,{text:e._(e._("Your transaction will revert if the price changes unfavorably by more than this percentage."))})]}),(0,x.jsxs)("div",{className:(0,m.AK)("border-2 h-[36px] flex items-center px-2 rounded bg-dark-1000/40 relative",r?"border-red":"border-low-emphesis"),children:[(0,x.jsx)("input",{className:"bg-transparent placeholder-low-emphesis min-w-0 font-bold w-16",value:n,onChange:e=>t((0,A.l_)(e.target.value)),onBlur:()=>r===A.Hd.INVALID_INPUT?t((0,A.l_)(A.QK)):t((0,A.w5)())}),(0,x.jsx)("div",{className:"text-low-emphesis",children:"%"})]}),(0,x.jsx)(i.ZP,{size:"sm",color:l?"blue":"gray",variant:"outlined",onClick:()=>t((0,A.l_)(A.QK)),children:e._(e._("Auto"))})]})};var ne=n(49932),re=n(25361);const oe=()=>{const{i18n:e}=(0,o.mV)(),t=(0,Q.useRouter)(),n=(0,H.T)(),r=(0,H.C)(N.Gi);0===r.length&&t.replace("/trident/migrate");const a=(0,H.C)(N.mZ),{account:u,chainId:v}=(0,G.aQ)(),{data:p,error:f,isValidating:h}=(0,re.fv)({chainId:v}),m=(0,X.Z)(null!==u&&void 0!==u?u:void 0,r.map((e=>e.v2Pair.liquidityToken))),g=v?l[v][0].contracts.TridentSushiRollCP.address:void 0,b=z();return(0,x.jsxs)("div",{children:[(0,x.jsx)(J,{}),(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)(s.Z,{variant:"h3",className:"text-high-emphesis",weight:700,children:0===a?e._(e._("All set \u2705")):e._(e._("Pools left to select: {leftToSelect}",{leftToSelect:a}))}),(0,x.jsx)(c.T,{active:h}),f&&(0,x.jsx)("span",{className:"text-red",children:"\u26a0\ufe0f Loading Error"})]}),r.length>0&&(0,x.jsx)("div",{className:"flex flex-col",children:(0,x.jsx)("div",{className:O.T,children:r.map(((e,t)=>(0,x.jsx)(T,{migration:e,tridentPools:null!==p&&void 0!==p?p:[],source:N.Iv.SUSHI_V2,setFunc:e=>n((0,N.y$)({indexToReplace:t,migration:e}))},t)))})}),(0,x.jsxs)("div",{className:"grid grid-cols-1 gap-3 mt-10 md:grid-cols-2 lg:grid-cols-3 md:gap-6",children:[0!==a?(0,x.jsx)(i.ZP,{disabled:!0,children:e._(e._("Pools left to select: {leftToSelect}",{leftToSelect:a}))}):(0,x.jsx)(ne.Z,{inputAmounts:Object.values(m),tokenApproveOn:g,onSLPPermit:e=>n((0,N.Ii)(e)),children:t=>{let{loading:n,approved:r}=t;return n?(0,x.jsxs)(i.ZP,{disabled:!0,children:[e._(e._("Loading")),(0,x.jsx)(d.Z,{})]}):r?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.ZP,{color:"gradient",onClick:()=>b(),children:e._(e._("Confirm Migration"))}),(0,x.jsx)(te,{})]}):void 0}}),(0,x.jsx)("div",{className:"text-center cursor-pointer text-blue md:text-left md:mt-3",onClick:()=>t.replace("/trident/migrate"),children:e._(e._("\u2190 Previous Step"))})]})]})};var ie=n(87433),se=n(22680),ae=n(9008),le=n.n(ae);const de=()=>{const{i18n:e}=(0,o.mV)(),t=(0,Q.useRouter)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(le(),{children:(0,x.jsx)("title",{children:e._(e._("Confirm Migration | SteamX"))})}),(0,x.jsxs)(se.CV,{pattern:"bg-binary",className:"!gap-2",children:[(0,x.jsx)("div",{children:(0,x.jsx)(i.ZP,{color:"blue",variant:"outlined",size:"xs",onClick:()=>t.replace("/trident/migrate"),className:"flex-none h-6 pl-0 pr-3 rounded-full",startIcon:(0,x.jsx)(r.Z,{width:24,height:24}),children:e._(e._("Go Back"))})}),(0,x.jsx)(s.Z,{variant:"h2",className:"text-high-emphesis",weight:700,children:e._(e._("Select Pools & Confirm"))}),(0,x.jsx)("div",{className:"max-w-2xl",children:(0,x.jsx)(s.Z,{variant:"sm",className:"mt-4",weight:400,children:e._(e._("Select which pool configuration you want to migrate to."))})})]}),(0,x.jsx)(se.A9,{className:"mb-14",children:(0,x.jsx)(oe,{})})]})};de.Guard=(0,ie.Z)(a.L.TRIDENT),de.Layout=se.ZP;var ce=de},25361:function(e,t,n){"use strict";n.d(t,{By:function(){return f},G_:function(){return p},IA:function(){return m},Ll:function(){return h},fv:function(){return g}});var r=n(59499),o=n(44554),i=n(62483),s=n(84329),a=n(35035),l=n.n(a),d=n(8100),c=n(94348);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:o}=e;const s=(0,i.e_)(),{data:a}=(0,d.ZP)(r&&t?["trident-pools",t,l()(n)]:null,(()=>(0,c.RD)({chainId:t,variables:n,tokens:s})),o);return a}function f(e){let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:o}=e;const{data:i}=(0,d.ZP)(r&&t?["trident-pool-hour-buckets",t,l()(n)]:null,(()=>(0,c.$P)(t,n)),o);return i}function h(e){let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:o}=e;const{data:i}=(0,d.ZP)(r&&t?["trident-pool-day-buckets",t,l()(n)]:null,(()=>(0,c.BU)(t,n)),o);return i}function m(e){let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:i}=e;const{data:a}=(0,s.ZU)({chainId:t,shouldFetch:!!t}),{data:u}=(0,s.G9)({chainId:t,shouldFetch:!!t}),{data:p,isValidating:f,error:h}=function(e){let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:o}=e;return(0,d.ZP)(r&&t?["trident-pool-kpis",t,l()(n)]:null,(()=>(0,c.zY)(t,n)),o)}({chainId:t,shouldFetch:r,variables:n,swrConfig:i}),{data:m,isValidating:g,error:x}=function(e){let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:o}=e;return(0,d.ZP)(r&&t?["trident-pool-kpis",t,l()(n)]:null,(()=>(0,c.zY)(t,n)),o)}({chainId:t,shouldFetch:r,variables:v(v({},n),{},{block:a}),swrConfig:i}),{data:b,isValidating:j,error:w}=function(e){let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:o}=e;return(0,d.ZP)(r&&t?["trident-pool-kpis",t,l()(n)]:null,(()=>(0,c.zY)(t,n)),o)}({chainId:t,shouldFetch:r,variables:v(v({},n),{},{block:u}),swrConfig:i});return{isValidating:f||g||j,error:h||x||w,data:null===p||void 0===p?void 0:p.map((e=>{const t=null===m||void 0===m?void 0:m.find((t=>t.id===e.id)),n=null===b||void 0===b?void 0:b.find((t=>t.id===e.id)),r=(0,o.uf)(null!==t&&void 0!==t&&t.volumeUSD?e.volumeUSD-t.volumeUSD:e.volumeUSD,!0,!1),i=((null===e||void 0===e?void 0:e.volumeUSD)-(null===t||void 0===t?void 0:t.volumeUSD))/((null===t||void 0===t?void 0:t.volumeUSD)-(null===n||void 0===n?void 0:n.volumeUSD))*100-100,s=(0,o.uf)(t?(null===e||void 0===e?void 0:e.feesUSD)-(null===t||void 0===t?void 0:t.feesUSD):null===e||void 0===e?void 0:e.feesUSD,!0,!1),a=((null===e||void 0===e?void 0:e.feesUSD)-(null===t||void 0===t?void 0:t.feesUSD))/((null===t||void 0===t?void 0:t.feesUSD)-(null===n||void 0===n?void 0:n.feesUSD))*100-100,l=(0,o.T3)((t?(null===e||void 0===e?void 0:e.volumeUSD)-(null===t||void 0===t?void 0:t.volumeUSD):null===e||void 0===e?void 0:e.volumeUSD)/(null===e||void 0===e?void 0:e.liquidityUSD)*100),d=t?e.transactionCount-t.transactionCount:e.transactionCount,c=e.liquidityUSD>0?365*Math.max(0,t?(null===e||void 0===e?void 0:e.feesUSD)-(null===t||void 0===t?void 0:t.feesUSD):null===e||void 0===e?void 0:e.feesUSD)*100/(null===e||void 0===e?void 0:e.liquidityUSD):0;return{volume:r,volume24hChange:i,fees:s,fees24hChange:a,liquidity:l,liquidity24hChange:((null===e||void 0===e?void 0:e.volumeUSD)-(null===t||void 0===t?void 0:t.volumeUSD))/(null===e||void 0===e?void 0:e.liquidityUSD)/(((null===t||void 0===t?void 0:t.volumeUSD)-(null===n||void 0===n?void 0:n.volumeUSD))/(null===t||void 0===t?void 0:t.liquidityUSD))*100-100,transactions:d,transactions24hChange:((null===e||void 0===e?void 0:e.transactionCount)-(null===t||void 0===t?void 0:t.transactionCount))/((null===t||void 0===t?void 0:t.transactionCount)-(null===n||void 0===n?void 0:n.transactionCount))*100-100,apy:c}}))}}const g=e=>{let{chainId:t,variables:n,shouldFetch:r=!0,swrConfig:o}=e;const s=(0,i.e_)();return(0,d.ZP)(r?["getAllTridentPools",t]:null,(()=>(0,c.RD)({chainId:t,variables:n,tokens:s})),o)}},65819:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trident/migrate/confirm",function(){return n(78405)}])}},function(e){e.O(0,[8306,8529,9613,1436,716,6541,7032,3608,3882,7782,9774,2888,179],(function(){return t=65819,e(e.s=t);var t}));var t=e.O();_N_E=t}]);