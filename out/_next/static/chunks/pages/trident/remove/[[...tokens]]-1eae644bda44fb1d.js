(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1933],{23987:function(e,t,i){"use strict";var s=i(59499),n=i(4730),a=i(44554),l=i(67294),r=i(85893);const o=["value","onUserInput","placeholder","className","align","fontSize"];function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,s.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const u=RegExp("^\\d*$"),h=l.memo((e=>{let{value:t,onUserInput:i,placeholder:s,className:l,align:d,fontSize:h}=e,m=(0,n.Z)(e,o);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("input",c({value:t,onChange:e=>{var t;(""===(t=e.target.value.replace(/,/g,".").replace(/%/g,""))||u.test((0,a.hr)(t)))&&Number(t)<=100&&i(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*$",placeholder:s||"100%",maxLength:3,className:(0,a.AK)("right"===d&&"text-right","relative font-bold outline-none border-none flex-auto overflow-hidden overflow-ellipsis placeholder-low-emphesis focus:placeholder-primary",l),style:{fontSize:h}},m))})}));h.displayName="PercentInput",t.Z=h},95203:function(e,t,i){"use strict";var s=i(59499),n=i(4730),a=i(56727),l=i(71862),r=i(67294),o=i(44554),d=i(85893);const c=["children","size","className","variant"];function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,s.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const m={filled:{group:"border border-dark-800 rounded p-0.5 bg-dark-900",option:{checked:e=>e?"border-transparent border-gradient-r-blue-pink-dark-900":"border-transparent",default:"py-1 rounded-lg border"}},outlined:{group:"gap-2",option:{checked:e=>e?"border-dark-700 bg-gradient-to-r from-blue to-pink":"border-dark-700",default:"py-3 rounded border"}}},x=e=>{let{children:t,size:i,className:s="",variant:l="filled"}=e,u=(0,n.Z)(e,c);return(0,d.jsx)(a.Ee,h(h({},u),{},{className:(0,o.AK)(s,"flex bg-dark-1000/40 rounded-full",m[l].group),children:r.Children.map(t,(e=>(0,r.isValidElement)(e)?(0,r.cloneElement)(e,{variant:l,size:i,style:{width:"calc(100% / ".concat(r.Children.toArray(t).length,")")}}):e))}))};x.Button=e=>{let{value:t,children:i,size:s,style:n,className:o}=e;return(0,d.jsx)(a.Ee.Option,{value:t,as:r.Fragment,children:e=>{let{checked:a}=e;return(0,d.jsx)(l.ZP,{style:n,size:s,id:"radio-option-".concat(t),variant:a?"filled":"empty",color:a?"blue":"gray",className:o,type:"button",children:i})}})},t.Z=x},21328:function(e,t,i){"use strict";var s=i(59499),n=i(9279),a=i(94633),l=i(67294),r=i(85893);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,s.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const c=(0,l.memo)((e=>{let{amount:t,update:i}=e;const s=(0,a.or)(t),o=t?t.currency.isNative?n.d:t.currency.wrapped.address:void 0;return(0,l.useEffect)((()=>{if(o)return i(o,s),()=>{i(o,void 0)}}),[o,i,s]),(0,r.jsx)(r.Fragment,{})}));t.Z=e=>{let{amounts:t,children:i}=e;const{0:s,1:n}=(0,l.useState)({}),a=(0,l.useCallback)(((e,t)=>{n((i=>d(d({},i),{},{[e]:t})))}),[]),o=(0,l.useMemo)((()=>Object.values(s).filter(Boolean)),[s]),u=(0,l.useMemo)((()=>o.length>0?o.reduce(((e,t)=>e.add(t))):void 0),[o]);return(0,r.jsxs)(r.Fragment,{children:[null===t||void 0===t?void 0:t.map(((e,t)=>(0,r.jsx)(c,{amount:e,update:a},t))),i({amount:u})]})}},73601:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Ze}});var s=i(94323),n=i(14744),a=i(17988),l=i(98332),r=i(71862),o=i(94492),d=i(56785),c=i(38239),u=i(62828),h=i(31518),m=i(41626),x=i(85893);var v=e=>{let{className:t=""}=e;return(0,x.jsx)("hr",{className:t||"border-dark-700"})},p=i(42144),g=i(573),f=i(42802),j=i(75221),w=i(44554),b=i(62483),y=i(12614),N=i(67294),Z=i(25617);const _=()=>{var e;const t=(0,Z.v9)(j.CY);return null!==(e=(0,b.U8)(t))&&void 0!==e?e:void 0},k=()=>{const{poolBalance:e}=(0,u.x)(),t=(0,Z.v9)(j.G9);return(0,N.useMemo)((()=>null===e||void 0===e?void 0:e.multiply(new h.gG(t,"100"))),[t,e])},S=()=>{const{poolWithState:e,totalSupply:t,rebases:i}=(0,u.x)(),s=k();return(0,N.useMemo)((()=>null!==e&&void 0!==e&&e.pool&&s&&t&&null!==t&&void 0!==t&&t.greaterThan(h.xE)&&null!==i&&void 0!==i&&i[e.pool.token0.wrapped.address]&&null!==i&&void 0!==i&&i[e.pool.token1.wrapped.address]?[(0,w.nP)(i[e.pool.token0.wrapped.address],e.pool.getLiquidityValue(e.pool.token0,t,s)),(0,w.nP)(i[e.pool.token1.wrapped.address],e.pool.getLiquidityValue(e.pool.token1,t,s))]:[void 0,void 0]),[null===e||void 0===e?void 0:e.pool,i,s,t])},C=()=>{const{i18n:e}=(0,n.mV)(),{account:t}=(0,y.aQ)(),{poolWithState:i,poolBalance:s}=(0,u.x)(),l=k();return t?(null===i||void 0===i?void 0:i.state)===a.tK.INVALID?e._(e._("Invalid pool")):null!==l&&void 0!==l&&l.greaterThan(h.xE)?null!==s&&void 0!==s&&s.lessThan(l)?e._(e._("Insufficient Balance")):null!==s&&void 0!==s&&s.equalTo(h.xE)?e._(e._("No Balance")):"":e._(e._("Enter a percentage")):e._(e._("Connect Wallet"))};var T=i(16339),P=i(37643);const O=()=>{const{poolWithState:e,totalSupply:t,poolBalance:i,rebases:s,poolShare:n,liquidityValue:a,currencies:l}=(0,u.x)(),r=k(),o=(0,T.C)(P.tE),d=(0,N.useMemo)((()=>{if(r&&t&&i)return new h.gG(i.subtract(r).quotient,t.subtract(r).quotient)}),[i,r,t]),c=(0,N.useMemo)((()=>r&&null!==e&&void 0!==e&&e.pool&&t&&a[0]&&a[1]&&null!==s&&void 0!==s&&s[a[0].currency.wrapped.address]&&null!==s&&void 0!==s&&s[a[1].currency.wrapped.address]?[a[0].subtract((0,w.nP)(s[a[0].currency.wrapped.address],e.pool.getLiquidityValue(a[0].currency,t,r))),a[1].subtract((0,w.nP)(s[a[1].currency.wrapped.address],e.pool.getLiquidityValue(a[1].currency,t,r)))]:[void 0,void 0]),[a,null===e||void 0===e?void 0:e.pool,s,r,t]),m=(0,N.useMemo)((()=>{if(null!==e&&void 0!==e&&e.pool&&t&&r&&l[0]&&l[1]&&null!==s&&void 0!==s&&s[null===e||void 0===e?void 0:e.pool.token0.wrapped.address]&&null!==s&&void 0!==s&&s[null===e||void 0===e?void 0:e.pool.token1.wrapped.address]){const i=[(0,w.uc)(e.pool.getLiquidityValue(e.pool.token0,t,r),o)[0],(0,w.uc)(e.pool.getLiquidityValue(e.pool.token1,t,r),o)[0]];return[(0,w.nP)(s[e.pool.token0.wrapped.address],h.ih.fromRawAmount(e.pool.token0,i[0].toString())),(0,w.nP)(s[e.pool.token1.wrapped.address],h.ih.fromRawAmount(e.pool.token1,i[1].toString()))]}return[void 0,void 0]}),[l,null===e||void 0===e?void 0:e.pool,s,o,r,t]),x=(0,N.useCallback)((i=>{if(null!==e&&void 0!==e&&e.pool&&t&&r&&i&&null!==s&&void 0!==s&&s[i.wrapped.address]){const n=(0,w.uc)(e.pool.getLiquidityValueSingleToken(i.wrapped,t,r),o)[0];return(0,w.nP)(s[i.wrapped.address],h.ih.fromRawAmount(i.wrapped,n.toString()))}}),[null===e||void 0===e?void 0:e.pool,s,o,r,t]);return(0,N.useMemo)((()=>({poolShareBefore:n,poolShareAfter:d,liquidityValueAfter:c,minLiquidityOutput:m,minLiquidityOutputSingleToken:x,liquidityValueBefore:a})),[n,d,c,m,x,a])};var B=i(90573),V=i(22441);var E=()=>{var e;const{i18n:t}=(0,n.mV)(),{poolBalance:i}=(0,u.x)(),s=k(),{poolShareBefore:a,poolShareAfter:l}=O();return(0,x.jsxs)("div",{className:"flex flex-col gap-4 lg:gap-8",children:[(0,x.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,x.jsx)(d.Z,{weight:700,className:"text-high-emphesis",children:t._(t._("Transaction Details"))}),(0,x.jsx)(V.Z,{children:(0,x.jsx)(d.Z,{weight:700,variant:"sm",className:"text-blue text-right",children:t._(t._("What do these mean?"))})})]}),(0,x.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,x.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,x.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:t._(t._("Your Pool Share"))}),(0,x.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-high-emphesis text-right",children:[null!==a&&void 0!==a&&a.greaterThan(0)?null===a||void 0===a?void 0:a.toSignificant(6):"0.000","%",(null===s||void 0===s?void 0:s.greaterThan(0))&&(0,x.jsxs)(x.Fragment,{children:[" ","\u2192 ",(0,x.jsxs)("span",{className:"text-green",children:[(null===l||void 0===l?void 0:l.toSignificant(6))||"0.000","%"]})]})]})]}),(0,x.jsxs)("div",{className:"flex flex-row justify-between gap-2",children:[(0,x.jsx)(d.Z,{variant:"sm",className:"text-secondary whitespace-nowrap",children:t._(t._("Your Pool Tokens"))}),(0,x.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-high-emphesis text-right",children:[null!==i&&void 0!==i&&i.greaterThan(0)?null===i||void 0===i?void 0:i.toSignificant(6):"0.000",(null===s||void 0===s?void 0:s.greaterThan(0))&&(0,x.jsxs)(x.Fragment,{children:[" BSP ","\u2192"," ",(0,x.jsxs)("span",{className:"text-green",children:[i&&s?null===(e=i.subtract(s))||void 0===e?void 0:e.toSignificant(6):"0.000"," ","BSP"]})]})]})]})]})]})};var q=()=>{const{chainId:e}=(0,y.aQ)(),{i18n:t}=(0,n.mV)(),i=_(),s=C(),{minLiquidityOutputSingleToken:a}=O(),r=(0,N.useMemo)((()=>a(i)),[a,i]),o=(0,B.NF)(r),{outputToWallet:c}=(0,T.C)(j.vE),u=(0,T.T)();return(0,x.jsxs)("div",{className:"flex flex-col gap-8 p-10 rounded shadow-lg bg-dark-1000",children:[(0,x.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,x.jsx)(d.Z,{variant:"h3",className:"text-high-emphesis",children:t._(t._("Zap Mode"))}),(0,x.jsx)(d.Z,{variant:"sm",children:t._(t._("Select any asset from your wallet or BentoBox balance to invest in this pool.  That asset will be split and converted into the pool assets and deposited in equal value."))})]}),(0,x.jsxs)("div",{className:"flex justify-between p-5 mb-2 rounded bg-dark-900",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(d.Z,{variant:"sm",children:t._(t._("Withdraw to:"))}),(0,x.jsx)(d.Z,{variant:"sm",className:"text-high-emphesis",weight:700,children:c?t._(t._("Wallet")):t._(t._("BentoBox"))}),(0,x.jsx)(f.Z,{})]}),(0,x.jsx)(g.Z,{checked:c,onChange:()=>u((0,j.F0)(!c)),checkedIcon:(0,x.jsx)("div",{className:"flex items-center justify-center w-full h-full text-dark-700",children:(0,x.jsx)(p.o,{width:16,height:14})}),uncheckedIcon:(0,x.jsx)("div",{className:"flex items-center justify-center w-full h-full text-dark-700",children:(0,x.jsx)(p.OP,{width:16,height:16})})})]}),!c&&(null===i||void 0===i?void 0:i.isNative)&&(0,x.jsx)(l.Z,{className:"bg-transparent",dismissable:!1,type:"error",message:t._(t._("Native {0} can't be withdrawn to BentoBox, {1} will be received instead",{0:h.B5[e||1].symbol,1:h.FX[e||1].symbol}))}),(0,x.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,x.jsx)(d.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:t._(t._("You'll Receive (at least):"))}),(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,x.jsx)(m.X,{currency:null===r||void 0===r?void 0:r.currency,size:20}),(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:"text-high-emphesis",children:null!==r&&void 0!==r&&r.greaterThan(0)?r.toSignificant(6):"0.00"}),(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:"text-high-emphesis",children:!c&&null!==i&&void 0!==i&&i.isNative?i.wrapped.symbol:null===i||void 0===i?void 0:i.symbol})]}),(0,x.jsxs)(d.Z,{variant:"sm",weight:700,className:"text-secondary",children:["\u2248$",null!==o&&void 0!==o&&o.greaterThan(0)?o.toSignificant(2):"0.00"]})]}),(0,x.jsx)(v,{className:"mt-5 border-dark-700"}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)(d.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:t._(t._("Total Amount"))}),(0,x.jsxs)(d.Z,{weight:700,className:"text-high-emphesis",children:["\u2248$",null!==o&&void 0!==o&&o.greaterThan(0)?o.toSignificant(2):"0.00"]})]})]}),(0,x.jsx)("div",{className:s?"opacity-50":"opacity-100",children:(0,x.jsx)(E,{})})]})},I=i(97436),W=i(13342),A=i(134),D=i(27801),H=i(86047),L=i(15393),F=i(22986),R=i(69260),M=i.n(R);const z=e=>{const{i18n:t}=(0,n.mV)();let i=e.header||(0,x.jsx)(d.Z,{variant:"h3",weight:700,className:"mb-4 text-high-emphesis",children:e.title?e.title:t._(t._("Choose an asset to Receive:"))});return(0,x.jsxs)("div",{className:"relative z-10 flex flex-col mt-4",children:[i,(0,x.jsx)(X,{value:e.value,onSelect:e.onSelect,currencies:e.currencies})]})},X=e=>{let{value:t,onSelect:i,currencies:s}=e;const{i18n:a}=(0,n.mV)(),{0:l,1:o}=(0,N.useState)(!1),{0:c,1:u}=(0,N.useState)(!1);let h=(0,x.jsxs)("div",{className:"flex flex-row items-center gap-1",onClick:()=>o(!0),children:[(0,x.jsx)("div",{className:"flex items-center w-12 h-12 rounded-full",children:(0,x.jsx)(M(),{animationData:A,autoplay:!0,loop:!0})}),(0,x.jsx)("div",{className:"inline-flex",children:(0,x.jsx)(r.ZP,{color:"blue",size:"sm",variant:"filled",className:"!rounded-[5px]",endIcon:(0,x.jsx)(W.Z,{width:24,height:24}),children:a._(a._("Select a Token"))})})]});return t&&(h=(0,x.jsxs)("div",{className:"flex flex-grow gap-0.5 items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex flex-row cursor-pointer items-center gap-0.5",onClick:()=>o(!0),children:[(0,x.jsx)("div",{className:"w-[38px] h-[38px] rounded-full overflow-hidden mr-2.5",children:(0,x.jsx)(m.X,{currency:t,size:38})}),(0,x.jsx)(d.Z,{variant:"h3",weight:700,className:"text-high-emphesis",children:t.symbol}),(0,x.jsx)(W.Z,{width:24,height:24,className:"text-secondary"})]}),(0,x.jsx)(d.Z,{variant:"xs",className:"cursor-pointer text-blue",onClick:()=>u((e=>!e)),children:c?a._(a._("Hide Balances")):a._(a._("Show Balances"))})]})),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:(0,w.AK)("border rounded border-dark-700 bg-dark-900 flex flex-col overflow-hidden h-[68px] justify-center pl-2 pr-3"),children:[h,(0,x.jsx)(H.Z.Controlled,{open:l,onDismiss:()=>o(!1),selectedCurrency:t,onCurrencySelect:i,currencyList:null===s||void 0===s?void 0:s.map((e=>null===e||void 0===e?void 0:e.wrapped.address))})]}),t&&c&&(0,x.jsx)("div",{className:"mt-4",children:(0,x.jsx)($,{currency:t})})]})},$=e=>{let{currency:t}=e;const{account:i}=(0,y.aQ)(),{i18n:s}=(0,n.mV)(),{data:a}=(0,L.T_)(null===t||void 0===t?void 0:t.wrapped.address),l=(0,B.NF)(a),r=(0,F.mM)(null!==i&&void 0!==i?i:void 0,null===t||void 0===t?void 0:t.wrapped),o=(0,B.NF)(r);return(0,x.jsx)(D.Z,{items:[(0,x.jsxs)("div",{className:"flex grid items-center grid-cols-2 gap-2 px-4 h-11 border-dark-700",children:[(0,x.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,x.jsx)("div",{className:"flex items-center justify-center rounded-full overflow-hidden border border-dark-700 bg-dark-900 p-1.5 shadow-md",children:(0,x.jsx)("svg",{width:"11",height:"9",viewBox:"0 0 11 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.59208 8.61864H0.669371C0.300101 8.61864 0 8.29978 0 7.90744V0.711207C0 0.318858 0.300101 0 0.669371 0H9.59208C9.96136 0 10.2615 0.318858 10.2615 0.711207V2.31616H7.05851C6.81866 2.31616 6.58438 2.36713 6.3646 2.46552C6.15263 2.56035 5.96187 2.69785 5.79898 2.87091C5.63611 3.04397 5.50669 3.24666 5.41744 3.47188C5.32373 3.70539 5.27687 3.95431 5.27687 4.20916V4.40948C5.27687 4.66433 5.32484 4.91326 5.41744 5.14677C5.50669 5.37198 5.6361 5.57469 5.79898 5.74775C5.96186 5.9208 6.15263 6.0583 6.3646 6.15313C6.58438 6.25271 6.81866 6.30248 7.05851 6.30248H10.2615V7.90744C10.2615 8.29979 9.96136 8.61864 9.59208 8.61864ZM10.498 3.02728C10.7758 3.02728 11.0001 3.26554 11.0001 3.56069V5.05777C11.0001 5.35292 10.7758 5.59117 10.498 5.59117H10.2615H7.05858C6.44387 5.59117 5.94631 5.06252 5.94631 4.4094V4.20907C5.94631 3.55595 6.44386 3.02728 7.05858 3.02728H10.2615H10.498ZM6.64915 4.30864C6.64915 4.65596 6.91355 4.93687 7.24042 4.93687C7.5673 4.93687 7.8317 4.65596 7.8317 4.30864C7.8317 3.96134 7.5673 3.68041 7.24042 3.68041C6.91355 3.68041 6.64915 3.96134 6.64915 4.30864Z",fill:"#E3E3E3"})})}),(0,x.jsx)(d.Z,{variant:"xs",weight:400,className:"text-secondary",children:s._(s._("In Wallet:"))}),(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:"text-high-emphesis",children:null!==r&&void 0!==r&&r.greaterThan("0")?null===r||void 0===r?void 0:r.toSignificant(6):"0.0000"})]}),(0,x.jsxs)(d.Z,{variant:"sm",weight:700,className:"text-right text-high-emphesis",children:["\u2248$",null!==o&&void 0!==o&&o.greaterThan("0")?o.toSignificant(6):"0.0000"]})]},0),(0,x.jsxs)("div",{className:"flex grid items-center grid-cols-2 gap-2 px-4 h-11 border-dark-700",children:[(0,x.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,x.jsx)("div",{className:"flex items-center justify-center rounded-full overflow-hidden border border-dark-700 bg-dark-900 p-1.5 shadow-md",children:(0,x.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.67642 0H3.82346V2.94117H5.14699C5.87682 2.94117 6.47052 3.53487 6.47052 4.2647V5.58822H9.99993V1.32353C9.99996 0.593708 9.40625 0 8.67642 0ZM5.14699 3.82391H3.82346V5.58862H5.58818V4.26509C5.58818 4.02183 5.39026 3.82391 5.14699 3.82391ZM0 8.67649V6.47061H4.70588V10H1.32353C0.593708 10 0 9.40631 0 8.67649ZM5.58816 6.47061V10H8.6764C9.40622 10 9.99993 9.40631 9.99993 8.67649V6.47061H5.58816ZM0 1.32353C0 0.593708 0.593708 0 1.32353 0H2.94117V5.58822H0V1.32353Z",fill:"#E3E3E3"})})}),(0,x.jsx)(d.Z,{variant:"xs",weight:400,className:"text-secondary",children:s._(s._("In Bento:"))}),(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:"text-high-emphesis",children:null!==a&&void 0!==a&&a.greaterThan("0")?null===a||void 0===a?void 0:a.toSignificant(6):"0.0000"})]}),(0,x.jsxs)(d.Z,{variant:"sm",weight:700,className:"text-right text-high-emphesis",children:["\u2248$",null!==l&&void 0!==l&&l.greaterThan("0")?l.toSignificant(6):"0.0000"]})]},1)]})};z.Panel=X,z.BalancePanel=$;var Q=z,Y=i(15097),K=i(23987),G=i(95203),U=i(53389),J=i(21328),ee=i(49932);var te=()=>{var e,t,i,s;const{chainId:a}=(0,y.aQ)(),{i18n:l}=(0,n.mV)(),o=(0,U.sL)(),c=(0,T.T)(),{poolBalance:m,poolWithState:v,liquidityValue:p}=(0,u.x)(),g=C(),f=k(),b=(()=>{const{poolWithState:e,totalSupply:t,rebases:i}=(0,u.x)(),s=k(),n=_();return null!==e&&void 0!==e&&e.pool&&s&&t&&null!==t&&void 0!==t&&t.greaterThan(h.xE)&&n&&null!==i&&void 0!==i&&i[n.wrapped.address]?(0,w.nP)(i[null===n||void 0===n?void 0:n.wrapped.address],e.pool.getLiquidityValueSingleToken(null===n||void 0===n?void 0:n.wrapped,t.add(s),s.add(s))):void 0})(),N=_(),{percentageAmount:Z,outputToWallet:S,attemptingTxn:P,bentoPermit:O}=(0,T.C)(j.vE),B=(0,x.jsxs)(G.Z,{value:Z,onChange:e=>c((0,j.lY)(e)),variant:"outlined",size:"sm",className:"!bg-dark-900 rounded border border-dark-800 h-9",children:[(0,x.jsx)(G.Z.Button,{value:"25",className:"px-6",children:"25%"}),(0,x.jsx)(G.Z.Button,{value:"50",className:"px-6",children:"50%"}),(0,x.jsx)(G.Z.Button,{value:"75",className:"px-6",children:"75%"}),(0,x.jsx)(G.Z.Button,{value:"100",className:"px-6",children:"Max"})]}),V=(null===v||void 0===v||null===(e=v.pool)||void 0===e?void 0:e.token0.address)===h.FX[a||1].address||(null===v||void 0===v||null===(t=v.pool)||void 0===t?void 0:t.token1.address)===h.FX[a||1].address,E=[null===v||void 0===v||null===(i=v.pool)||void 0===i?void 0:i.token0,null===v||void 0===v||null===(s=v.pool)||void 0===s?void 0:s.token1];return V&&E.push(h.B5[a||1]),(0,x.jsx)(J.Z,{amounts:p,children:e=>{let{amount:t}=e;const i=null===t||void 0===t?void 0:t.multiply(new h.gG(Z,"100"));return(0,x.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,x.jsx)(Q,{value:N,onSelect:e=>c((0,j.Dq)(e.isNative?"ETH":e.wrapped.address)),currencies:E}),(0,x.jsxs)("div",{className:(0,w.AK)(N?"":"pointer-events-none opacity-50","flex flex-col gap-3"),children:[(0,x.jsxs)("div",{className:"flex items-center justify-between gap-10 lg:mb-2",children:[(0,x.jsx)(d.Z,{variant:"h3",weight:700,className:"text-high-emphesis",children:l._(l._("Amount to Remove:"))}),(0,x.jsx)("div",{className:"hidden lg:block",children:B})]}),(0,x.jsx)(D.Z,{header:(0,x.jsx)(D.Z.Header,{title:l._(l._("Balances")),value:"$".concat(t?t.toSignificant(6):"0.0000"),subValue:"".concat(m?m.toSignificant(6):"0.0000"," BSP")}),items:[p.map(((e,t)=>(0,x.jsx)(D.Z.CurrencyAmountItem,{amount:e},t)))],footer:(0,x.jsxs)("div",{className:"flex items-center justify-between gap-3 px-4 py-5",children:[(0,x.jsx)(K.Z,{value:Z,onUserInput:e=>c((0,j.lY)(e)),placeholder:"0%",className:"bg-transparent text-3xl leading-7 tracking-[-0.01em] flex-grow font-bold text-high-emphesis"}),(0,x.jsxs)(d.Z,{variant:"sm",className:"text-low-emphesis",weight:700,children:["\u2248$",null!==i&&void 0!==i&&i.greaterThan("0")?null===i||void 0===i?void 0:i.toSignificant(6):"0.0000"]})]})}),(0,x.jsx)("div",{className:"block lg:hidden",children:B}),(0,x.jsx)("div",{className:"hidden lg:block"}),(0,x.jsx)(ee.Z,{inputAmounts:[f],tokenApproveOn:null===o||void 0===o?void 0:o.address,withPermit:!0,permit:O,onPermit:e=>c((0,j.cQ)(e)),onSLPPermit:e=>c((0,j.iz)(e)),children:e=>{let{approved:t,loading:i}=e;const s=!!g||!t||i||P,n=P?(0,x.jsx)(Y.Z,{children:l._(l._("Withdrawing"))}):i?"":g||l._(l._("Confirm Withdrawal"));return(0,x.jsx)(r.ZP,{size:"lg",loading:i,color:t?"gradient":"blue",disabled:s,onClick:()=>c((0,j.mV)(!0)),children:(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:g?"text-low-emphasis":"text-high-emphesis",children:n})})}})]}),(0,x.jsxs)("div",{className:"flex flex-col block gap-5 lg:hidden",children:[(0,x.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,x.jsx)(d.Z,{variant:"h3",weight:700,className:"text-high-emphesis",children:l._(l._("Receive:"))}),(0,x.jsx)(I.Z.WalletSwitch,{onChange:()=>c((0,j.F0)(!S)),checked:S})]}),(0,x.jsx)("div",{className:"flex flex-col gap-4",children:(0,x.jsx)(D.Z,{items:[(0,x.jsx)(D.Z.CurrencyAmountItem,{amount:b},0)]})})]})]})}})};var ie=()=>{const{chainId:e}=(0,y.aQ)(),{i18n:t}=(0,n.mV)(),i=(0,T.T)(),s=C(),{outputToWallet:a,receiveNative:r}=(0,T.C)(j.vE),{minLiquidityOutput:o}=O(),c=[(0,B.NF)(null===o||void 0===o?void 0:o[0]),(0,B.NF)(null===o||void 0===o?void 0:o[1])];return(0,x.jsxs)("div",{className:"flex flex-col gap-8 p-10 rounded shadow-lg bg-dark-1000",children:[(0,x.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,x.jsx)(d.Z,{variant:"h3",className:"text-high-emphesis",weight:700,children:t._(t._("Standard Mode"))}),(0,x.jsx)(d.Z,{variant:"sm",children:t._(t._("You can withdraw to one or both of these assets, in any amount.  If you would like to receive your investment as another token (e.g. in USDC), then withdraw using Zap mode."))})]}),(0,x.jsxs)("div",{className:"flex justify-between p-5 mb-2 rounded bg-dark-900",children:[(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)(d.Z,{variant:"sm",children:t._(t._("Withdraw to:"))}),(0,x.jsx)(d.Z,{id:"txt-withdraw-to",variant:"sm",className:"text-high-emphesis",weight:700,children:a?t._(t._("Wallet")):t._(t._("BentoBox"))}),(0,x.jsx)(f.Z,{})]}),(0,x.jsx)(g.Z,{id:"chk-output-to-wallet",checked:a,onChange:()=>i((0,j.F0)(!a)),checkedIcon:(0,x.jsx)("div",{className:"flex items-center justify-center w-full h-full text-dark-700",children:(0,x.jsx)(p.o,{width:16,height:14})}),uncheckedIcon:(0,x.jsx)("div",{className:"flex items-center justify-center w-full h-full text-dark-700",children:(0,x.jsx)(p.OP,{width:16,height:16})})})]}),!a&&r&&(0,x.jsx)(l.Z,{className:"bg-transparent",dismissable:!1,type:"error",message:t._(t._("Native {0} can't be withdrawn to BentoBox, {1} will be received instead",{0:h.B5[e||1].symbol,1:h.FX[e||1].symbol}))}),(0,x.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,x.jsx)(d.Z,{variant:"lg",weight:700,className:"text-high-emphesis",children:t._(t._("You'll Receive (at least):"))}),o.map(((t,i)=>{var s,n;return(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,x.jsx)(m.X,{currency:null===t||void 0===t?void 0:t.currency,size:20}),(0,x.jsx)(d.Z,{id:(null===t||void 0===t?void 0:t.currency.symbol.toLowerCase())+"-min-liquidity-output",variant:"sm",weight:700,className:"text-high-emphesis",children:null!==t&&void 0!==t&&t.greaterThan(0)?t.toSignificant(6):"0.00"}),(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:"text-high-emphesis",children:(null===t||void 0===t?void 0:t.currency.wrapped.address)===h.FX[e||1].address&&r&&a?h.B5[e||1].symbol:null===t||void 0===t?void 0:t.currency.symbol})]}),(0,x.jsxs)(d.Z,{variant:"sm",weight:700,className:"text-secondary",children:["\u2248$",null!==(s=c[i])&&void 0!==s&&s.greaterThan(0)?null===(n=c[i])||void 0===n?void 0:n.toSignificant(6):"0.00"]})]},i)})),(0,x.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,x.jsx)(v,{className:"mt-5 border-dark-700"}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)(d.Z,{weight:700,className:"text-high-emphesis",children:t._(t._("Total Amount"))}),(0,x.jsx)(d.Z,{weight:700,className:"text-high-emphesis",children:(0,x.jsx)(J.Z,{amounts:o,children:e=>{let{amount:t}=e;return t?"\u2248$".concat(null===t||void 0===t?void 0:t.toSignificant(6)):"\u2248$0.00"}})})]})]})]}),(0,x.jsx)("div",{className:(0,w.AK)("mt-4",s?"opacity-50":"opacity-100"),children:(0,x.jsx)(E,{})})]})};const se=e=>{let{amount:t}=e;const{i18n:i}=(0,n.mV)(),s=(0,T.T)(),{chainId:a}=(0,y.aQ)(),l=(0,B.NF)(t),{receiveNative:r}=(0,T.C)(j.vE);return(null===t||void 0===t?void 0:t.currency.wrapped.address)!==h.FX[a||1].address?(0,x.jsx)(D.Z.CurrencyAmountItem,{amount:t}):(0,x.jsx)(D.Z.Item,{left:(0,x.jsxs)("div",{className:"flex flex-row gap-1.5 lg:gap-3 items-center",children:[(0,x.jsx)(m.X,{currency:null===t||void 0===t?void 0:t.currency,size:20,className:"!rounded-full"}),(0,x.jsxs)(d.Z,{variant:"sm",className:"text-high-emphesis",weight:700,children:[null===t||void 0===t?void 0:t.toSignificant(6)," ",null===t||void 0===t?void 0:t.currency.symbol]}),(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:"cursor-pointer text-blue",onClick:()=>s((0,j.ZG)(!r)),id:"btn-receive-native",children:r?i._(i._("Receive WETH instead")):i._(i._("Receive ETH instead"))})]}),right:(0,x.jsxs)(D.Z.Item.Right,{children:["\u2248$",l?null===l||void 0===l?void 0:l.toFixed(2):"0.00"]})},0)};var ne=()=>{const{i18n:e}=(0,n.mV)(),t=(0,U.sL)(),{poolBalance:i,liquidityValue:s}=(0,u.x)(),a=(0,T.T)(),{attemptingTxn:l,bentoPermit:o,outputToWallet:c,percentageAmount:m}=(0,T.C)(j.vE),v=C(),p=k(),g=S(),f=(0,x.jsxs)(G.Z,{value:m,onChange:e=>a((0,j.lY)(e)),variant:"outlined",id:"blamanam",size:"sm",className:"!bg-dark-900 rounded border border-dark-800 h-9",children:[(0,x.jsx)(G.Z.Button,{value:"25",className:"px-6",children:"25%"}),(0,x.jsx)(G.Z.Button,{value:"50",className:"px-6",children:"50%"}),(0,x.jsx)(G.Z.Button,{value:"75",className:"px-6",children:"75%"}),(0,x.jsx)(G.Z.Button,{value:"100",className:"px-6",children:"Max"})]});return(0,x.jsx)(J.Z,{amounts:s,children:n=>{let{amount:u}=n;const w=null===u||void 0===u?void 0:u.multiply(new h.gG(m,"100"));return(0,x.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,x.jsxs)("div",{className:"flex flex-col gap-3 lg:gap-6",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between gap-10",children:[(0,x.jsx)(d.Z,{variant:"h3",weight:700,className:"mb-2 text-high-emphesis lg:mb-0",children:"Amount to Remove:"}),(0,x.jsx)("div",{className:"hidden lg:block",children:f})]}),(0,x.jsx)(D.Z,{header:(0,x.jsx)(D.Z.Header,{title:e._(e._("Balances")),value:"$".concat(u?u.toSignificant(6):"0.0000"),subValue:"".concat(i?i.toSignificant(6):"0.0000"," BSP")}),items:[s.map(((e,t)=>(0,x.jsx)(se,{amount:e},t)))],footer:(0,x.jsxs)("div",{className:"flex items-center justify-between gap-3 px-4 py-6",children:[(0,x.jsx)(K.Z,{value:m,onUserInput:e=>a((0,j.lY)(e)),placeholder:"0%",className:"bg-transparent text-3xl leading-7 tracking-[-0.01em] flex-grow font-bold text-high-emphesis"}),(0,x.jsxs)(d.Z,{variant:"lg",className:"text-high-emphesis",weight:700,children:["\u2248$",null!==w&&void 0!==w&&w.greaterThan("0")?null===w||void 0===w?void 0:w.toSignificant(6):"0.0000"]})]})}),(0,x.jsx)("div",{className:"block lg:hidden",children:f}),(0,x.jsx)(ee.Z,{inputAmounts:[p],tokenApproveOn:null===t||void 0===t?void 0:t.address,masterContractAddress:null===t||void 0===t?void 0:t.address,withPermit:!0,permit:o,onPermit:e=>a((0,j.cQ)(e)),onSLPPermit:e=>a((0,j.iz)(e)),children:t=>{let{approved:i,loading:s}=t;const n=!!v||!i||s||l,o=l?(0,x.jsx)(Y.Z,{children:e._(e._("Withdrawing"))}):s?"":v||e._(e._("Review and Confirm"));return(0,x.jsx)(r.ZP,{id:"btn-confirm-remove-liquidity",size:"lg",loading:s,color:i?"gradient":"blue",disabled:n,onClick:()=>a((0,j.mV)(!0)),children:(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:v?"text-low-emphasis":"text-high-emphesis",children:o})})}})]}),(0,x.jsxs)("div",{className:"flex flex-col block gap-4 lg:hidden",children:[(0,x.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,x.jsx)(d.Z,{variant:"h3",weight:700,className:"text-high-emphesis",children:e._(e._("Receive:"))}),(0,x.jsx)(I.Z.WalletSwitch,{label:e._(e._("Withdraw to:")),onChange:()=>a((0,j.F0)(!c)),checked:c})]}),(0,x.jsx)("div",{className:"flex flex-col gap-4",children:(0,x.jsx)(D.Z,{items:[g.map(((e,t)=>(0,x.jsx)(D.Z.CurrencyAmountItem,{amount:e},t)))],footer:(0,x.jsxs)("div",{className:"flex justify-between px-4 py-3.5 bg-dark-900",children:[(0,x.jsx)(d.Z,{weight:700,className:"text-high-emphesis",children:e._(e._("Total Amount"))}),(0,x.jsxs)(d.Z,{weight:700,className:"text-right text-high-emphesis",children:["\u2248$",null!==w&&void 0!==w&&w.greaterThan("0")?null===w||void 0===w?void 0:w.toSignificant(6):"0.0000"]})]})})})]})]})}})},ae=i(92552),le=i(76866);var re=e=>{let{margin:t=!0}=e;const i=(0,le.Z)(),{i18n:s}=(0,n.mV)(),a=(0,T.T)(),{fixedRatio:l}=(0,T.C)(j.vE),r=(0,x.jsx)("div",{className:"flex justify-between gap-1 lg:justify-start",children:(0,x.jsxs)("div",{className:"flex flex-row items-center gap-3 cursor-pointer",onClick:()=>a((0,j.Nj)(!l)),children:[(0,x.jsx)(ae.Z,{id:"chk-fixed-ratio-withdraw",className:"w-6 h-6",checked:l}),(0,x.jsx)(d.Z,{variant:"sm",weight:700,className:l?"text-white":"",children:s._(s._("Withdraw assets in equal amounts"))})]})});return i?(0,x.jsx)("div",{className:"pb-1",children:r}):(0,x.jsxs)("div",{className:t?"top-0 -ml-5 -mr-5 -mt-5 mb-4 pt-5 pb-5 relative":"py-5 relative",children:[(0,x.jsx)("div",{className:"z-[-1] top-0 pointer-events-none absolute w-full h-full border-t border-b border-gradient-r-blue-pink-dark-1000 border-transparent opacity-30",children:(0,x.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-opaque-blue to-opaque-pink"})}),(0,x.jsx)("div",{className:"px-5 z-[1]",children:r})]})},oe=i(46430),de=i(67347),ce=i(61647),ue=i(53344),he=i(68411);var me=i(70028);var xe=e=>{let{txHash:t,onBack:i,onDismiss:s}=e;const{i18n:a}=(0,n.mV)();return(0,x.jsx)(me.S.SubmittedModalContent,{txHash:t,header:a._(a._("Success!")),subheader:a._(a._("Success! Withdraw Submitted")),onBack:i,onDismiss:s})};var ve=()=>{const{i18n:e}=(0,n.mV)(),t=(0,T.T)(),{showReview:i,attemptingTxn:s,txHash:a,outputToWallet:l}=(0,T.C)(j.vE),o=_(),c=k(),m=S(),{poolShareAfter:v,poolShareBefore:p,minLiquidityOutputSingleToken:g}=O(),f=(()=>{const{i18n:e}=(0,n.mV)(),t=(0,T.T)(),{chainId:i,library:s,account:a}=(0,y.aQ)(),l=(0,U.sL)(),r=(0,he.h7)(),{poolWithState:o}=(0,u.x)(),{bentoPermit:d,outputToWallet:c,slpPermit:h}=(0,T.C)(j.vE),m=_(),{rebase:x}=(0,ce.C)(null===m||void 0===m?void 0:m.wrapped);return(0,N.useCallback)((async(n,u)=>{if(null===o||void 0===o||!o.pool||!i||!s||!a||!l||!u||!x||!n)throw new Error("missing dependencies");const v=(null===m||void 0===m?void 0:m.isNative)&&c,p=[(0,de.uE)({router:l,signature:d}),(0,de.VU)({router:l,signatureData:h}),(0,de.Wb)({router:l,address:o.pool.liquidityToken.address,token:u.currency.wrapped.address,amount:n.quotient.toString(),recipient:v?l.address:a,minWithdrawal:(0,w.sO)(x,u.quotient).toString(),receiveToWallet:c})];v&&p.push((0,de.gc)({chainId:i,router:l,amountMinimum:(0,w.sO)(x,u.quotient).toString(),recipient:a}));try{t((0,j.gk)(!0));const i=await s.getSigner().sendTransaction({from:a,to:l.address,data:(0,de.H7)({contract:l,actions:p}),value:"0x0"});return null!==i&&void 0!==i&&i.hash&&(r(i,{summary:e._(e._("Remove {0} {1}",{0:null===n||void 0===n?void 0:n.toSignificant(3),1:null===n||void 0===n?void 0:n.currency.symbol}))}),await i.wait()),t((0,j.gk)(!1)),gtag("event","Burn",{event_category:"Liquidity",event_label:[o.pool.token0.symbol,o.pool.token1.symbol].join("/")}),t((0,j.o)()),i}catch(g){t((0,j.gk)(!1)),(null===g||void 0===g?void 0:g.code)!==ue.PM&&console.error(g)}}),[a,r,d,i,t,e,s,c,null===o||void 0===o?void 0:o.pool,x,l,h,null===m||void 0===m?void 0:m.isNative])})(),b=(0,N.useMemo)((()=>{const e=g(o);return null!==o&&void 0!==o&&o.isNative&&l&&e?h.ih.fromRawAmount(o,e.quotient.toString()):e}),[g,l,o]),Z=(0,N.useCallback)((async()=>{if(null===c||void 0===c||!c.greaterThan(h.xE)||null===b||void 0===b||!b.greaterThan(h.xE))return;const e=await f(c,b);e&&e.hash&&t((0,j.BD)(e.hash))}),[c,b,f,t]);return(0,x.jsx)(oe.Z.Controlled,{isOpen:i,onDismiss:()=>t((0,j.mV)(!1)),afterLeave:()=>t((0,j.BD)(void 0)),unmount:!1,maxWidth:"md",children:a?(0,x.jsx)(xe,{txHash:a,onDismiss:()=>t((0,j.BD)(void 0))}):(0,x.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,x.jsx)(oe.Z.Header,{header:e._(e._("Confirm remove liquidity")),onClose:()=>t((0,j.mV)(!1))}),(0,x.jsx)(d.Z,{variant:"sm",children:e._(e._("Output is estimated. If the price changes by more than 0.5% your transaction will revert."))}),(0,x.jsxs)(oe.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,x.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:e._(e._("You are removing:"))}),(0,x.jsx)(D.Z,{items:m.map(((e,t)=>(0,x.jsx)(D.Z.CurrencyAmountItem,{amount:e},t)))})]}),(0,x.jsxs)(oe.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,x.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:e._(e._("Which will be converted to..."))}),(0,x.jsx)(D.Z,{items:[(0,x.jsx)(D.Z.CurrencyAmountItem,{amount:b},0)]})]}),(0,x.jsxs)("div",{className:"flex justify-between px-2 py-1",children:[(0,x.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:e._(e._("Share of Pool"))}),(0,x.jsxs)(d.Z,{weight:700,variant:"sm",className:"text-high-emphesis text-right",children:[null!==p&&void 0!==p&&p.greaterThan(0)?null===p||void 0===p?void 0:p.toSignificant(6):"0.000","% \u2192"," ",(0,x.jsxs)("span",{className:"text-green",children:[(null===v||void 0===v?void 0:v.toSignificant(6))||"0.000","%"]})]})]}),(0,x.jsx)(r.ZP,{disabled:s,color:"blue",onClick:Z,children:e._(e._("Confirm Withdrawal"))})]})})},pe=i(98765),ge=i(54907);var fe=()=>{const{chainId:e}=(0,y.aQ)(),{i18n:t}=(0,n.mV)(),i=(0,T.T)(),{receiveNative:s,outputToWallet:a,showReview:l,attemptingTxn:o,txHash:c}=(0,T.C)(j.vE),m=k(),{minLiquidityOutput:v,poolShareBefore:p,poolShareAfter:g}=O(),f=s&&a,w=(()=>{const{i18n:e}=(0,n.mV)(),{chainId:t,library:i,account:s}=(0,y.aQ)(),a=(0,ge.sL)(),l=(0,he.h7)(),r=(0,T.T)(),{poolWithState:o,rebases:d}=(0,u.x)(),{outputToWallet:c,receiveNative:m,bentoPermit:x,slpPermit:v}=(0,T.C)(j.vE);return(0,N.useCallback)((async(n,u)=>{const[p,g]=u;if(null===o||void 0===o||!o.pool||!t||!i||!s||!a||!n||!p||!g||null===d||void 0===d||!d[p.currency.wrapped.address]||null===d||void 0===d||!d[g.currency.wrapped.address])throw new Error("missing dependencies");const f=[{token:p.wrapped.currency.address,amount:(0,pe.yw)(d[p.wrapped.currency.address],p.quotient).toString()},{token:g.wrapped.currency.address,amount:(0,pe.yw)(d[g.wrapped.currency.address],g.quotient).toString()}],w=p.wrapped.currency.address===h.FX[t].address?0:1,b=m[0]&&c,y=[(0,de.uE)({router:a,signature:x}),(0,de.VU)({router:a,signatureData:v}),(0,de.CG)({router:a,address:o.pool.liquidityToken.address,amount:n.quotient.toString(),recipient:b?a.address:s,liquidityOutput:f,receiveToWallet:c})];b&&y.push((0,de.gc)({chainId:t,router:a,amountMinimum:f[w].amount,recipient:s}),(0,de.Il)({router:a,token:f[0===w?1:0].token,recipient:s,amount:f[0===w?1:0].amount}));try{r((0,j.gk)(!0));const t=await i.getSigner().sendTransaction({from:s,to:a.address,data:(0,de.H7)({contract:a,actions:y}),value:"0x0"});return null!==t&&void 0!==t&&t.hash&&(l(t,{summary:e._(e._("Remove {0} {1}",{0:null===n||void 0===n?void 0:n.toSignificant(3),1:null===n||void 0===n?void 0:n.wrapped.currency.symbol}))}),await t.wait()),r((0,j.gk)(!1)),gtag("event","Burn",{event_category:"Liquidity",event_label:[o.pool.token0.symbol,o.pool.token1.symbol].join("/")}),r((0,j.o)()),t}catch(N){r((0,j.gk)(!1)),(null===N||void 0===N?void 0:N.code)!==ue.PM&&console.error(N)}}),[null===o||void 0===o?void 0:o.pool,t,i,s,a,d,m,c,x,v,r,l,e])})(),b=v.map((t=>(null===t||void 0===t?void 0:t.currency.wrapped.address)===h.FX[e||1].address&&f?h.ih.fromRawAmount(h.B5[e||1],t.quotient.toString()):t)),Z=(0,N.useCallback)((async()=>{if(null===m||void 0===m||!m.greaterThan(h.xE))return;const e=await w(m,v);e&&e.hash&&i((0,j.BD)(e.hash))}),[w,m,v,i]);return(0,x.jsx)(oe.Z.Controlled,{isOpen:l,onDismiss:()=>i((0,j.mV)(!1)),afterLeave:()=>i((0,j.BD)(void 0)),unmount:!1,maxWidth:"md",children:c?(0,x.jsx)(xe,{txHash:c,onDismiss:()=>i((0,j.BD)(void 0))}):(0,x.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,x.jsx)(oe.Z.Header,{header:t._(t._("Confirm remove liquidity")),onClose:()=>i((0,j.mV)(!1))}),(0,x.jsx)(d.Z,{variant:"sm",children:t._(t._("Output is estimated. If the price changes by more than 0.5% your transaction will revert."))}),(0,x.jsxs)(oe.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,x.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:t._(t._("You'll receive (at least):"))}),(0,x.jsx)(D.Z,{items:b.map(((e,t)=>(0,x.jsx)(D.Z.CurrencyAmountItem,{amount:e},t)))})]}),(0,x.jsxs)(oe.Z.BorderedContent,{className:"flex flex-col gap-3 bg-dark-1000/40",children:[(0,x.jsx)(d.Z,{weight:700,variant:"sm",className:"text-secondary",children:t._(t._("Deposited to your:"))}),(0,x.jsx)(d.Z,{weight:700,variant:"lg",className:"text-high-emphesis",children:a?t._(t._("Wallet")):t._(t._("BentoBox"))})]}),(0,x.jsxs)("div",{className:"flex justify-between px-2 py-1",children:[(0,x.jsx)(d.Z,{variant:"sm",className:"text-secondary",children:t._(t._("Share of Pool"))}),(0,x.jsxs)(d.Z,{variant:"sm",weight:700,className:"text-right text-high-emphesis",children:[null!==p&&void 0!==p&&p.greaterThan(0)?null===p||void 0===p?void 0:p.toSignificant(6):"0.000","% \u2192"," ",(null===g||void 0===g?void 0:g.toSignificant(6))||"0.000","%"]})]}),(0,x.jsx)(r.ZP,{id:"btn-modal-confirm-withdrawal",disabled:o,color:"blue",onClick:Z,children:t._(t._("Confirm Withdrawal"))})]})})},je=i(87433),we=i(22680),be=i(41664),ye=i.n(be);const Ne=()=>{const{i18n:e}=(0,n.mV)(),{chainId:t}=(0,y.aQ)(),{poolWithState:i}=(0,u.x)(),{fixedRatio:c}=(0,T.C)(j.vE);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(we.CV,{pattern:"bg-chevron",children:(0,x.jsxs)("div",{className:"relative flex flex-col w-full gap-5 mt-px lg:justify-between lg:w-7/12",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)(r.ZP,{color:"blue",variant:"outlined",size:"sm",className:"!pl-2 !py-1 rounded-full",startIcon:(0,x.jsx)(s.Z,{width:24,height:24}),children:(0,x.jsx)(ye(),{href:(null===i||void 0===i?void 0:i.state)===a.tK.EXISTS?{pathname:"/trident/pool",query:{tokens:[(0,w.yP)(t,i.pool.token0.address),(0,w.yP)(t,i.pool.token1.address)],fee:i.pool.fee,twap:i.pool.twap}}:"/trident/pools",children:(null===i||void 0===i?void 0:i.state)===a.tK.EXISTS?"".concat(i.pool.token0.symbol,"-").concat(i.pool.token1.symbol):e._(e._("Back"))})}),(0,x.jsx)(o.Z,{trident:!0})]}),(0,x.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,x.jsx)(d.Z,{variant:"h2",weight:700,className:"text-high-emphesis",children:e._(e._("Remove Liquidity"))}),(0,x.jsx)(d.Z,{variant:"sm",children:e._(e._("Receive both pool tokens in equal amounts or receive one of the two pool tokens."))}),i&&[a.tK.NOT_EXISTS,a.tK.INVALID].includes(i.state)&&(0,x.jsx)(l.Z,{className:"px-0 pb-0 bg-transparent",dismissable:!1,type:"error",showIcon:!0,message:e._(e._("A Pool could not be found for provided currencies"))})]})]})}),(0,x.jsx)(we.A9,{children:(0,x.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,x.jsxs)("div",{className:"flex flex-col w-full gap-5 lg:w-7/12",children:[(0,x.jsx)(re,{}),(0,x.jsx)(x.Fragment,{children:c?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ne,{}),(0,x.jsx)(fe,{})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(te,{}),(0,x.jsx)(ve,{})]})})]}),(0,x.jsx)("div",{className:"flex flex-col hidden lg:block lg:w-4/12 -mt-36",children:c?(0,x.jsx)(ie,{}):(0,x.jsx)(q,{})})]})})]})};Ne.Guard=(0,je.Z)(c.L.TRIDENT),Ne.Provider=u.Z,Ne.Layout=we.ZP;var Ze=Ne},71888:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trident/remove/[[...tokens]]",function(){return i(73601)}])}},function(e){e.O(0,[8306,8529,9613,1436,1641,3429,6541,7032,9658,3608,134,6201,5710,4838,3481,9774,2888,179],(function(){return t=71888,e(e.s=t);var t}));var t=e.O();_N_E=t}]);