(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6489],{95203:function(e,t,n){"use strict";var s=n(59499),r=n(4730),a=n(56727),i=n(71862),l=n(67294),o=n(44554),c=n(85893);const d=["children","size","className","variant"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h={filled:{group:"border border-dark-800 rounded p-0.5 bg-dark-900",option:{checked:e=>e?"border-transparent border-gradient-r-blue-pink-dark-900":"border-transparent",default:"py-1 rounded-lg border"}},outlined:{group:"gap-2",option:{checked:e=>e?"border-dark-700 bg-gradient-to-r from-blue to-pink":"border-dark-700",default:"py-3 rounded border"}}},m=e=>{let{children:t,size:n,className:s="",variant:i="filled"}=e,u=(0,r.Z)(e,d);return(0,c.jsx)(a.Ee,p(p({},u),{},{className:(0,o.AK)(s,"flex bg-dark-1000/40 rounded-full",h[i].group),children:l.Children.map(t,(e=>(0,l.isValidElement)(e)?(0,l.cloneElement)(e,{variant:i,size:n,style:{width:"calc(100% / ".concat(l.Children.toArray(t).length,")")}}):e))}))};m.Button=e=>{let{value:t,children:n,size:s,style:r,className:o}=e;return(0,c.jsx)(a.Ee.Option,{value:t,as:l.Fragment,children:e=>{let{checked:a}=e;return(0,c.jsx)(i.ZP,{style:r,size:s,id:"radio-option-".concat(t),variant:a?"filled":"empty",color:a?"blue":"gray",className:o,type:"button",children:n})}})},t.Z=m},32871:function(e,t,n){"use strict";var s=n(14744),r=n(31518),a=n(29300),i=n(56785),l=n(48511),o=n(53502),c=n(44554),d=n(67294),u=n(85893);t.Z=e=>{let{listAddress:t,paymentToken:n}=e;const{i18n:p}=(0,s.mV)(),{0:h,1:m}=(0,d.useState)(),{0:y,1:x}=(0,d.useState)(),{0:v,1:f}=(0,d.useState)(),b=(0,c.UJ)(y),j=(0,o.n8)(v||t,!h&&b?b:void 0,n),g=y&&!h&&j&&j.greaterThan(r.xE),w=y&&!h&&(null===j||void 0===j?void 0:j.equalTo(r.xE));return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,u.jsx)(i.Z,{weight:700,children:p._(p._("Whitelist Checker"))}),(0,u.jsx)("div",{className:"mt-2 flex rounded-md shadow-sm",children:(0,u.jsx)("input",{value:v||t,onChange:e=>(0,l.EU)({value:e.target.value},[l.xU],(()=>f(e.target.value)),m),placeholder:"Permission list address",className:(0,c.AK)(a.X,h?"!border-red":"")})}),(0,u.jsx)("div",{className:"mt-2 flex rounded-md shadow-sm",children:(0,u.jsx)("input",{value:y,onChange:e=>(0,l.EU)({value:e.target.value},[l.xU],(()=>x(e.target.value)),m),placeholder:"User address",className:(0,c.AK)(a.X,h?"!border-red":"")})}),h?(0,u.jsx)(a.Z.HelperText,{className:"!text-red",children:h}):(0,u.jsx)(a.Z.HelperText,{className:(0,c.AK)("mt-2 text-sm",g?"!text-green":w?"!text-red":"text-gray-500"),children:g?p._(p._("Address is whitelisted for {0} {1}!",{0:null===j||void 0===j?void 0:j.toSignificant(6),1:null===j||void 0===j?void 0:j.currency.symbol})):w?p._(p._("Address is not whitelisted!")):p._(p._("Check if an address is whitelisted"))})]})})}},14045:function(e,t,n){"use strict";var s=n(9279),r=n(14744),a=n(31518),i=n(29300),l=n(7423),o=n(95203),c=n(56785),d=n(62483),u=n(12614),p=(n(67294),n(87536)),h=n(85893);t.Z=e=>{var t;let{name:n,label:m}=e;const{chainId:y}=(0,u.aQ)(),{i18n:x}=(0,r.mV)(),{getValues:v,setValue:f}=(0,p.Gc)(),b=(0,p.qo)({name:n}),j=null!==(t=(0,d.dQ)(b!==s.d?b:void 0))&&void 0!==t?t:a.B5[y||1];return y?(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)(c.Z,{weight:700,children:m}),(0,h.jsx)("div",{className:"flex",children:(0,h.jsxs)(o.Z,{size:"sm",variant:"filled",value:v(n),onChange:e=>f(n,e,{shouldValidate:!0}),className:"flex gap-2 mt-2",children:[(0,h.jsx)(o.Z.Button,{value:s.d,className:"!px-3 h-[36px]",children:a.B5[y].symbol}),y in a.He&&(0,h.jsx)(o.Z.Button,{value:a.He[y],className:"!px-3 h-[36px]",children:"SUSHI"}),y in a.B4&&(0,h.jsx)(o.Z.Button,{value:a.B4[y],className:"!px-3 h-[36px]",children:"DAI"}),y in a.iu&&(0,h.jsx)(o.Z.Button,{value:a.ZZ[y],className:"!px-3 h-[36px]",children:"USDC"}),y in a.iu&&(0,h.jsx)(o.Z.Button,{value:a.iu[y],className:"!px-3 h-[36px]",children:"USDT"}),y in a.N4&&(0,h.jsx)(o.Z.Button,{value:a.N4[y],className:"!px-3 h-[36px]",children:"MIM"}),y in a.bE&&(0,h.jsx)(o.Z.Button,{value:a.bE[y],className:"!px-3 h-[36px]",children:"FRAX"})]})})]}),(0,h.jsx)("div",{className:"flex flex-col flex-grow",children:(0,h.jsx)(i.Z.TextField,{className:b===s.d?"hidden":"",name:n,helperText:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.Z,{children:x._(x._("Select the currency you accept as payment during the auction. If you don\u2019t see the ERC-20 token you are looking for, input by pasting the address in the custom field."))}),(0,h.jsx)(l.Z,{children:x._(x._("Selected currency: {0}",{0:null===j||void 0===j?void 0:j.symbol}))})]}),placeholder:"0x..."})})]}):(0,h.jsx)(h.Fragment,{})}},48511:function(e,t,n){"use strict";n.d(t,{EU:function(){return a},xU:function(){return r}});var s=n(19485);const r=async e=>{if(!e.value)return"Invalid input";try{(0,s.getAddress)(e.value)}catch{return"Invalid address"}return!0},a=async(e,t,n,s)=>{if(n(),0===e.value.length)return s(),n();try{await Promise.all(t.map((async t=>{const n=await t(e);if("string"===typeof n)throw new Error(n);return!0}))),s()}catch(r){s(r.message)}}},53502:function(e,t,n){"use strict";n.d(t,{Fz:function(){return h},ge:function(){return y},n8:function(){return m}});var s=n(8198),r=n(9279),a=n(31518),i=n(25401),l=n(15615),o=n(53389),c=n(2886),d=n(12614),u=n(68411),p=n(67294);const h=e=>{const t=(0,c._Y)(e,new s.vU(l),"pointList");if(t&&Array.isArray(t)&&t.length===e.length){return t.map((e=>{var t;return String(null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t[0])}))}return Array(e.length).fill(r.d)},m=(e,t,n)=>{var s,r;const{account:l,chainId:u}=(0,d.aQ)(),p=(0,o.cq)(e,u?null===(s=i[u])||void 0===s||null===(r=s[a.bk[u]])||void 0===r?void 0:r.contracts.PointList.abi:void 0),{result:h}=(0,c.Wk)(p,"points",t?[t]:l?[l]:void 0);if(Array.isArray(h)&&h.length>0&&n){const{denominator:e,numerator:t}=new a.iA(a.QA.BigInt(h[0]),1);return a.ih.fromFractionalAmount(n,t,e)}},y=()=>{var e,t,n,s;const{account:r,chainId:l}=(0,d.aQ)(),c=(0,u.h7)(),h=(0,o.cq)(l?null===(e=i[l])||void 0===e||null===(t=e[a.bk[l]])||void 0===t?void 0:t.contracts.ListFactory.address:void 0,l?null===(n=i[l])||void 0===n||null===(s=n[a.bk[l]])||void 0===s?void 0:s.contracts.ListFactory.abi:void 0);return{subscribe:(0,p.useCallback)(((e,t)=>{h&&h.on(e,t)}),[h]),unsubscribe:(0,p.useCallback)(((e,t)=>{h&&h.off(e,t)}),[h]),init:(0,p.useCallback)((async(e,t)=>{if(!h)throw new Error("Contract not initialized");if(!r)throw new Error("Wallet not connected");const n=await h.deployPointList(r,e,t);return c(n,{summary:"Initialize permission list"}),n}),[r,c,h])}}},12281:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var s=n(19485);const r=n(74231).Z_().test("is-address","${value} is not a valid address",(e=>{if(0===(null===e||void 0===e?void 0:e.length))return!0;try{return!(!e||!(0,s.getAddress)(e))}catch{return!1}}))},73700:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var s=n(94323),r=n(14744),a=n(71862),i=n(56785),l=n(38239),o=n(59499),c=n(47533),d=n(31518),u=n(29300),p=n(32871),h=n(14045),m=n(22244),y=n(46430),x=n(53502),v=n(44554),f=n(62483),b=n(12614),j=n(69260),g=n.n(j),w=n(67294),_=n(18269),O=n(15003),Z=n(70028),k=n(85893);var N=e=>{let{txHash:t,onDismiss:n,listAddress:s}=e;const{i18n:a}=(0,r.mV)();return(0,k.jsx)(Z.S.SubmittedModalContent,{txHash:t,header:a._(a._("Success!")),subheader:a._(a._("Permission list creation transaction successfully submitted. Your newly created point list address will appear here once we receive the event from the blockchain")),onDismiss:n,children:(0,k.jsxs)("div",{className:"flex flex-col px-4 py-3 bg-dark-900 rounded border border-dark-700 mt-4",children:[(0,k.jsx)(i.Z,{variant:"sm",className:"text-secondary",children:a._(a._("Permission List Address"))}),s?(0,k.jsx)(i.Z,{variant:"sm",className:"text-high-emphesis",weight:700,children:(0,k.jsx)(O.Z,{toCopy:s,className:"text-high-emphesis opacity-100",children:s})}):(0,k.jsx)("div",{className:"w-4 h-4",children:(0,k.jsx)(g(),{animationData:m,autoplay:!0,loop:!0})})]})})};function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=e=>{var t;let{open:n,onDismiss:s,data:a}=e;const{chainId:l}=(0,b.aQ)(),{i18n:o}=(0,r.mV)(),{init:c,unsubscribe:u,subscribe:p}=(0,x.ge)(),{0:h,1:j}=(0,w.useState)(),{0:O,1:Z}=(0,w.useState)(),{0:A,1:C}=(0,w.useState)(!1),S=null!==(t=(0,f.dQ)(a.paymentTokenAddress))&&void 0!==t?t:d.B5[l||1],{0:T,1:E}=(0,w.useState)(),D=(0,w.useCallback)((()=>{A||(j(void 0),Z(void 0),E(void 0))}),[A]),I=(0,w.useCallback)((()=>{D(),s()}),[s,D]),B=(0,w.useCallback)((async e=>{if(!S)return;C(!0);const[t,n]=e.wlAddresses.reduce(((e,t)=>(e[0].push(t.account),e[1].push(new d.iA((0,_.toWei)(t.amount),d.QA.exponentiate(d.QA.BigInt(10),d.QA.BigInt(18-S.decimals))).quotient.toString()),e)),[[],[]]);try{const e=await c(t,n);null!==e&&void 0!==e&&e.hash&&(Z(e.hash),await e.wait())}catch(r){var s;E(null===(s=r.error)||void 0===s?void 0:s.message)}finally{C(!1)}}),[c,S]);return(0,w.useEffect)((()=>(p("PointListDeployed",((e,t,n,s,r)=>{let{transactionHash:a}=r;(null===a||void 0===a?void 0:a.toLowerCase())===(null===O||void 0===O?void 0:O.toLowerCase())&&j(t)})),()=>{u("PointListDeployed",(()=>console.log("unsubscribed")))})),[p,O,u]),(0,k.jsx)(y.Z.Controlled,{isOpen:n,onDismiss:I,afterLeave:()=>Z(void 0),children:O?(0,k.jsx)(N,{txHash:O,listAddress:h,onDismiss:I}):(0,k.jsxs)(y.Z.Body,{children:[(0,k.jsx)(y.Z.Header,{onClose:I,header:o._(o._("Create Permission List")),subheader:o._(o._("Please review your entered details thoroughly."))}),(0,k.jsx)(y.Z.Content,{children:(0,k.jsx)("div",{className:"flex flex-col gap-4",children:(0,k.jsxs)("div",{className:"flex flex-col divide-y divide-dark-700",children:[(0,k.jsxs)("div",{className:"flex justify-between gap-2 py-3",children:[(0,k.jsx)(i.Z,{variant:"sm",className:"text-secondary",children:o._(o._("Auction Payment Token"))}),(0,k.jsx)(i.Z,{weight:700,variant:"sm",className:"text-high-emphesis",children:(0,v.Sy)(a.paymentTokenAddress,12)})]}),(0,k.jsxs)("div",{className:"flex justify-between gap-2 py-3",children:[(0,k.jsx)(i.Z,{variant:"sm",className:"text-secondary",children:o._(o._("Point List"))}),(0,k.jsx)(i.Z,{weight:700,variant:"sm",className:"text-high-emphesis",children:o._(o._("{0} Addresses",{0:a.wlAddresses.length}))})]})]})})}),(0,k.jsxs)(y.Z.Actions,{children:[(0,k.jsx)(y.Z.Action,{onClick:I,children:o._(o._("Cancel"))}),(0,k.jsx)(y.Z.Action,P(P({main:!0},A&&{startIcon:(0,k.jsx)("div",{className:"w-4 h-4 mr-1",children:(0,k.jsx)(g(),{animationData:m,autoplay:!0,loop:!0})})}),{},{disabled:A,onClick:()=>B(a),children:o._(o._("Create Permission List"))}))]}),(0,k.jsx)(y.Z.Error,{children:T})]})})},S=n(80446),T=n(12281),E=n(87536);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const B=n(74231).Ry({paymentTokenAddress:T.q.required("Permission list must have a payment token address for decimals calculation")});var L=()=>{var e;const{i18n:t}=(0,r.mV)(),{account:n,chainId:s}=(0,b.aQ)(),{0:i,1:l}=(0,w.useState)(!1),o=(0,E.cI)({resolver:(0,c.X)(B),defaultValues:{paymentTokenAddress:"",wlAddresses:[]},mode:"onChange",reValidateMode:"onChange"}),{setValue:m,getValues:y,watch:x,formState:{errors:v}}=o,j=x(),g=null!==(e=(0,f.dQ)(j.paymentTokenAddress))&&void 0!==e?e:d.B5[s||1];return n?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(u.Z,I(I({},o),{},{onSubmit:o.handleSubmit((()=>l(!0))),children:(0,k.jsxs)(u.Z.Card,{children:[(0,k.jsxs)(u.Z.Section,{columns:6,header:(0,k.jsx)(u.Z.Section.Header,{header:t._(t._("General Details"))}),children:[(0,k.jsx)("div",{className:"col-span-6",children:(0,k.jsx)(h.Z,{name:"paymentTokenAddress",label:t._(t._("Auction Payment Currency*"))})}),(0,k.jsx)(S.Z,{value:y("wlAddresses"),disabled:!1,onChange:e=>m("wlAddresses","function"===typeof e?e(y("wlAddresses")):e)}),(0,k.jsx)("div",{className:"flex justify-end col-span-6",children:(0,k.jsx)("div",{children:(0,k.jsx)(a.ZP,{disabled:Object.keys(v).length>0,color:"blue",type:"submit",children:t._(t._("Review"))})})})]}),(0,k.jsx)(u.Z.Section,{header:(0,k.jsx)(k.Fragment,{}),children:(0,k.jsx)("div",{className:"col-span-6",children:(0,k.jsx)(p.Z,{paymentToken:g})})})]})})),(0,k.jsx)(C,{open:i,onDismiss:()=>l(!1),data:j})]}):(0,k.jsx)(k.Fragment,{})},M=n(87433),F=n(95497),V=n(41664),Q=n.n(V);const U=()=>{const{i18n:e}=(0,r.mV)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(F.Zo,{className:"bg-miso-bowl bg-cover",children:(0,k.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,k.jsx)("div",{children:(0,k.jsx)(a.ZP,{color:"blue",variant:"filled",size:"sm",className:"!rounded-full",startIcon:(0,k.jsx)(s.Z,{width:24,height:24}),children:(0,k.jsx)(Q(),{href:"/miso",children:e._(e._("All Auctions"))})})}),(0,k.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,k.jsx)(i.Z,{variant:"h2",className:"text-high-emphesis",weight:700,children:e._(e._("New Permission List"))}),(0,k.jsx)(i.Z,{variant:"sm",weight:400,children:e._(e._("Create a new permission list you can use to whitelist addresses."))})]})]})}),(0,k.jsx)(F.SX,{children:(0,k.jsx)(L,{})})]})};U.Layout=F.ZP,U.Guard=(0,M.Z)(l.L.MISO);var z=U},14164:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/miso/pointlist",function(){return n(73700)}])},15615:function(e){"use strict";e.exports=JSON.parse('[{"inputs":[{"internalType":"address payable","name":"_beneficiary","type":"address"},{"internalType":"bool","name":"readAndAgreedToMarketParticipationAgreement","type":"bool"}],"name":"commitEth","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"bool","name":"readAndAgreedToMarketParticipationAgreement","type":"bool"}],"name":"commitTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"finalize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"beneficiary","type":"address"}],"name":"withdrawTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_wallet","type":"address"}],"name":"setAuctionWallet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"marketTemplate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"wallet","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pointList","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')}},function(e){e.O(0,[8306,8529,1436,9294,7272,639,6541,6015,1398,3540,9774,2888,179],(function(){return t=14164,e(e.s=t);var t}));var t=e.O();_N_E=t}]);