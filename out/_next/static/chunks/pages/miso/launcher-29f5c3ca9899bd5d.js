(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3453],{95203:function(e,r,t){"use strict";var n=t(59499),i=t(4730),s=t(56727),a=t(71862),o=t(67294),c=t(44554),l=t(85893);const d=["children","size","className","variant"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const m={filled:{group:"border border-dark-800 rounded p-0.5 bg-dark-900",option:{checked:e=>e?"border-transparent border-gradient-r-blue-pink-dark-900":"border-transparent",default:"py-1 rounded-lg border"}},outlined:{group:"gap-2",option:{checked:e=>e?"border-dark-700 bg-gradient-to-r from-blue to-pink":"border-dark-700",default:"py-3 rounded border"}}},p=e=>{let{children:r,size:t,className:n="",variant:a="filled"}=e,u=(0,i.Z)(e,d);return(0,l.jsx)(s.Ee,h(h({},u),{},{className:(0,c.AK)(n,"flex bg-dark-1000/40 rounded-full",m[a].group),children:o.Children.map(r,(e=>(0,o.isValidElement)(e)?(0,o.cloneElement)(e,{variant:a,size:t,style:{width:"calc(100% / ".concat(o.Children.toArray(r).length,")")}}):e))}))};p.Button=e=>{let{value:r,children:t,size:n,style:i,className:c}=e;return(0,l.jsx)(s.Ee.Option,{value:r,as:o.Fragment,children:e=>{let{checked:s}=e;return(0,l.jsx)(a.ZP,{style:i,size:n,id:"radio-option-".concat(r),variant:s?"filled":"empty",color:s?"blue":"gray",className:c,type:"button",children:t})}})},r.Z=p},65856:function(e,r,t){"use strict";t.d(r,{y:function(){return l}});var n=t(14744),i=t(31518),s=t(25401),a=t(64527),o=t(12614),c=t(67294);const l=()=>{const{i18n:e}=(0,n.mV)(),{chainId:r}=(0,o.aQ)(),t=(0,c.useCallback)((r=>({[a.sg.PostAuctionLauncher]:e._(e._("Post Auction Launcher"))}[r])),[e]);return{map:(0,c.useMemo)((()=>{var e,t,n,o;if(r)return{[null===(e=s[r])||void 0===e||null===(t=e[i.bk[r]])||void 0===t?void 0:t.contracts.PostAuctionLauncher.address]:a.sg.PostAuctionLauncher,[a.sg.PostAuctionLauncher]:null===(n=s[r])||void 0===n||null===(o=n[i.bk[r]])||void 0===o?void 0:o.contracts.PostAuctionLauncher}}),[r]),templateIdToLabel:t}}},12281:function(e,r,t){"use strict";t.d(r,{q:function(){return i}});var n=t(19485);const i=t(74231).Z_().test("is-address","${value} is not a valid address",(e=>{if(0===(null===e||void 0===e?void 0:e.length))return!0;try{return!(!e||!(0,n.getAddress)(e))}catch{return!1}}))},48195:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return W}});var n=t(94323),i=t(14744),s=t(71862),a=t(56785),o=t(38239),c=t(59499),l=t(47533),d=t(29300),u=t(80121),h=t(22244),m=t(7423),p=t(12614),b=t(69260),x=t.n(b),y=t(67294),v=t(87536),j=t(85893);var g=e=>{let{}=e;const{account:r}=(0,p.aQ)(),{i18n:t}=(0,i.mV)(),{setValue:n,formState:{errors:s}}=(0,v.Gc)(),[o]=(0,v.qo)({name:["auctionAddress"]}),{auction:c,loading:l}=(0,u.ZP)(o);return(0,j.jsxs)(d.Z.Section,{columns:4,header:(0,j.jsx)(d.Z.Section.Header,{header:t._(t._("General Details")),subheader:t._(t._("Automatically lock liquidity post-auction"))}),children:[(0,j.jsx)("div",{className:"col-span-4",children:(0,j.jsx)(d.Z.TextField,{name:"adminAddress",label:t._(t._("Token Creator Address*")),placeholder:"0x...",helperText:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(m.Z,{children:t._(t._("Enter the wallet address used to create the auction token on MISO."))}),(0,j.jsx)(m.Z,{className:"underline cursor-pointer",onClick:()=>n("adminAddress",r||""),children:t._(t._("Use my address"))})]})})}),(0,j.jsx)("div",{className:"col-span-4",children:(0,j.jsx)(d.Z.TextField,{name:"auctionAddress",label:t._(t._("Auction Address*")),placeholder:"0x...",helperText:l?(0,j.jsx)("div",{className:"w-4 h-4",children:(0,j.jsx)(x(),{animationData:h,autoplay:!0,loop:!0})}):c?(0,j.jsx)(m.Z,{className:"!text-green",children:t._(t._("Auction found!"))}):t._(t._("Address of the auction you held for your token")),error:!s.auctionAddress&&!l&&!c&&(null===o||void 0===o?void 0:o.length)>0?t._(t._("Auction not found or you do not admin rights")):void 0})}),c&&(0,j.jsxs)("div",{className:"col-span-4 md:col-span-2",children:[(0,j.jsx)(a.Z,{weight:700,children:t._(t._("Liquidity Pair"))}),(0,j.jsxs)(a.Z,{className:"mt-2",children:[null===c||void 0===c?void 0:c.auctionToken.symbol," + ",null===c||void 0===c?void 0:c.paymentToken.symbol]}),(0,j.jsx)(m.Z,{children:t._(t._("Liquidity pair token is set to the payment currency from your auction."))})]})]})},f=t(31518),_=t(95203);var w=e=>{let{}=e;const{chainId:r}=(0,p.aQ)(),{i18n:t}=(0,i.mV)(),{getValues:n,setValue:s}=(0,v.Gc)();return r?(0,j.jsxs)("div",{className:"flex flex-col",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(a.Z,{weight:700,children:t._(t._("Liquidity Lockup Time"))}),(0,j.jsxs)(_.Z,{variant:"outlined",value:n("liqLockTime"),onChange:e=>s("liqLockTime",e,{shouldValidate:!0}),className:"mt-2 !flex",children:[(0,j.jsx)(_.Z.Button,{value:180,activeClassName:"border-purple",className:"!bg-none px-5 !py-2.5",children:t._(t._("{0} days",{0:180}))}),(0,j.jsx)(_.Z.Button,{value:90,activeClassName:"border-purple",className:"!bg-none px-5 !py-2.5",children:t._(t._("{0} days",{0:90}))})]})]}),(0,j.jsx)("div",{className:"flex flex-col flex-grow",children:(0,j.jsx)(d.Z.TextField,{name:"liqLockTime",helperText:t._(t._("Custom amount of days")),placeholder:"",endIcon:(0,j.jsx)(a.Z,{variant:"sm",weight:700,className:"text-secondary",children:t._(t._("Days"))})})})]}):(0,j.jsx)(j.Fragment,{})};var k=e=>{var r;let{}=e;const{i18n:t}=(0,i.mV)(),[n,s]=(0,v.qo)({name:["auctionAddress","liqPercentage"]}),{auction:o}=(0,u.ZP)(n);return(0,j.jsxs)(d.Z.Section,{className:"pt-8",columns:4,header:(0,j.jsx)(d.Z.Section.Header,{header:t._(t._("Liquidity Options"))}),children:[(0,j.jsx)("div",{className:"col-span-4",children:(0,j.jsx)(w,{})}),(0,j.jsx)("div",{className:"col-span-4",children:(0,j.jsx)(d.Z.TextField,{endIcon:(0,j.jsx)(a.Z,{variant:"sm",weight:700,className:"text-secondary",children:"%"}),name:"liqPercentage",label:t._(t._("Liquidity Launch Percentage*")),placeholder:"50",helperText:t._(t._("The amount raised from the auction, pairing with tokens to be launched on SushiSwap with equal weighting in the liquidity pool."))})}),o&&(0,j.jsxs)("div",{className:"col-span-4",children:[(0,j.jsx)(a.Z,{weight:700,children:t._(t._("Liquidity Pair"))}),(0,j.jsxs)(a.Z,{className:"mt-2",children:[null===(r=o.totalTokens)||void 0===r?void 0:r.multiply(new f.gG(s,"100")).toSignificant(6)," ",o.auctionToken.symbol," + ",new f.gG(s,"100").toSignificant(6),"% of auction proceeds in"," ",o.paymentToken.symbol]}),(0,j.jsx)(m.Z,{children:t._(t._("Liquidity pair token is set to the payment currency from your auction."))})]})]})},Z=t(46430),O=t(84243),L=t(9279),P=t(25401),N=t(65856),q=t(64527),A=t(53389),C=t(68411);var S=t(44554),T=t(15003),E=t(70028);var D=e=>{let{txHash:r,onDismiss:t,liqLauncherAddress:n}=e;const{i18n:s}=(0,i.mV)();return(0,j.jsx)(E.S.SubmittedModalContent,{txHash:r,header:s._(s._("Success!")),subheader:s._(s._("Permission list creation transaction successfully submitted. Your newly created point list address will appear here once we receive the event from the blockchain")),onDismiss:t,children:(0,j.jsxs)("div",{className:"flex flex-col px-4 py-3 bg-dark-900 rounded border border-dark-700 mt-4",children:[(0,j.jsx)(a.Z,{variant:"sm",className:"text-secondary",children:s._(s._("Liquidity Launcher Address"))}),n?(0,j.jsx)(a.Z,{variant:"sm",className:"text-high-emphesis",weight:700,children:(0,j.jsx)(T.Z,{toCopy:n,className:"text-high-emphesis opacity-100",children:n})}):(0,j.jsx)("div",{className:"w-4 h-4",children:(0,j.jsx)(x(),{animationData:h,autoplay:!0,loop:!0})})]})})};function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function V(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach((function(r){(0,c.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var F=e=>{var r;let{open:t,onDismiss:n,data:s}=e;const{chainId:o}=(0,p.aQ)(),{i18n:c}=(0,i.mV)(),{init:l,unsubscribe:d,subscribe:m}=(()=>{var e,r,t,n;const{account:i,chainId:s}=(0,p.aQ)(),a=(0,C.h7)(),o=(0,A.MQ)(),c=(0,A.cq)(s?null===(e=P[s])||void 0===e||null===(r=e[f.bk[s]])||void 0===r?void 0:r.contracts.MISOLauncher.address:void 0,s?null===(t=P[s])||void 0===t||null===(n=t[f.bk[s]])||void 0===n?void 0:n.contracts.MISOLauncher.abi:void 0),{map:l}=(0,N.y)(),d=(0,y.useCallback)(((e,r)=>{c&&c.on(e,r)}),[c]),u=(0,y.useCallback)(((e,r)=>{c&&c.off(e,r)}),[c]);return{init:(0,y.useCallback)((async e=>{if(!c)throw new Error("Contract not initialized");if(!o)throw new Error("Factory contract not initialized");if(!l)throw new Error("Template map not initialized");if(!i)throw new Error("Wallet not connected");if(!e.tokenSupply)throw new Error("Token supply not defined");const r=await c.getTemplateId(l[q.sg.PostAuctionLauncher].address),t=await c.createLauncher(r,e.tokenAddress,e.tokenSupply.quotient.toString(),L.d,O.$.encode(["address","address","address","address","uint256","uint256"],[e.auctionAddress,o.address,e.adminAddress,i,e.liqPercentage,e.liqLockTime]));return a(t,{summary:"Initialize Liquidity Launcher"}),t}),[i,a,c,o,l]),subscribe:d,unsubscribe:u}})(),{auction:b}=(0,u.ZP)(null===s||void 0===s?void 0:s.auctionAddress),{0:v,1:g}=(0,y.useState)(),{0:_,1:w}=(0,y.useState)(),{0:k,1:T}=(0,y.useState)(!1),{0:E,1:I}=(0,y.useState)(),F=(0,y.useCallback)((()=>{k||(g(void 0),w(void 0),I(void 0))}),[k]),z=(0,y.useCallback)((()=>{F(),n()}),[n,F]),M=(0,y.useCallback)((async e=>{T(!0);try{const r=await l(e);null!==r&&void 0!==r&&r.hash&&(w(r.hash),await r.wait())}catch(t){var r;I(null===(r=t.error)||void 0===r?void 0:r.message)}finally{T(!1)}}),[l]);return(0,y.useEffect)((()=>(m("LauncherCreated",((e,r,t,n)=>{let{transactionHash:i}=n;(null===i||void 0===i?void 0:i.toLowerCase())===(null===_||void 0===_?void 0:_.toLowerCase())&&g(r)})),()=>{d("LauncherCreated",(()=>console.log("unsubscribed")))})),[m,_,d]),s&&o?(0,j.jsx)(Z.Z.Controlled,{isOpen:t,onDismiss:z,afterLeave:()=>w(void 0),children:_?(0,j.jsx)(D,{txHash:_,liqLauncherAddress:v,onDismiss:z}):(0,j.jsxs)(Z.Z.Body,{children:[(0,j.jsx)(Z.Z.Header,{onClose:z,header:c._(c._("Create Liquidity Launcher")),subheader:c._(c._("Please review your entered details thoroughly."))}),(0,j.jsx)(Z.Z.Content,{children:(0,j.jsxs)("div",{className:"grid grid-cols-2 items-center",children:[(0,j.jsx)(a.Z,{variant:"sm",className:"text-secondary py-2 border-b border-dark-700",children:c._(c._("Auction Address"))}),(0,j.jsx)(a.Z,{weight:700,variant:"sm",className:"text-purple py-2 border-b border-dark-700",children:(0,j.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,S.E8)(o,s.auctionAddress,"address"),children:(0,S.Sy)(s.auctionAddress,12)})}),(0,j.jsx)(a.Z,{variant:"sm",className:"text-secondary py-2 border-b border-dark-700",children:c._(c._("Lock period"))}),(0,j.jsx)(a.Z,{weight:700,variant:"sm",className:"text-high-emphesis py-2 border-b border-dark-700",children:c._(c._("{0} days",{0:s.liqLockTime}))}),b&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.Z,{variant:"sm",className:"text-secondary py-2 border-b border-dark-700 h-full flex items-center",children:c._(c._("Liquidity"))}),(0,j.jsxs)(a.Z,{weight:700,variant:"sm",className:"text-high-emphesis py-2 border-b border-dark-700",children:[null===(r=b.totalTokens)||void 0===r?void 0:r.multiply(new f.gG(s.liqPercentage,"100")).toSignificant(6)," ",b.auctionToken.symbol," + ",new f.gG(s.liqPercentage,"100").toSignificant(6),"% of auction proceeds in ",b.paymentToken.symbol]})]})]})}),(0,j.jsxs)(Z.Z.Actions,{children:[(0,j.jsx)(Z.Z.Action,{onClick:z,children:c._(c._("Cancel"))}),(0,j.jsx)(Z.Z.Action,V(V({main:!0},k&&{startIcon:(0,j.jsx)("div",{className:"w-4 h-4 mr-1",children:(0,j.jsx)(x(),{animationData:h,autoplay:!0,loop:!0})})}),{},{disabled:k,onClick:()=>M(s),children:c._(c._("Create Liquidity Launcher"))}))]}),(0,j.jsx)(Z.Z.Error,{children:E})]})}):(0,j.jsx)(j.Fragment,{})};var z=t(12281),M=t(74231);function G(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?G(Object(t),!0).forEach((function(r){(0,c.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const R=M.Ry({auctionAddress:z.q.required("Target must be a valid address"),adminAddress:z.q.required("Target must be a valid address"),liqPercentage:M.Rx().typeError("Target must be a percentage").min(0,"Must be greater than zero").max(100,"Can be at most 100%"),liqLockTime:M.Rx().required("Target must be a number").min(30,"Lockup period must be at least 30 days")});var Q=()=>{const{i18n:e}=(0,i.mV)(),{0:r,1:t}=(0,y.useState)(!1),n=(0,v.cI)({defaultValues:{liqPercentage:100},resolver:(0,l.X)(R),reValidateMode:"onChange",mode:"onChange"}),{watch:a,formState:{errors:o,isValid:c,isValidating:h}}=n,m=a(),{auction:p}=(0,u.ZP)(m.auctionAddress),b=!h&&c&&p?((e,r)=>({auctionAddress:r.auctionInfo.addr,adminAddress:e.adminAddress,liqPercentage:e.liqPercentage,liqLockTime:3600*e.liqLockTime*24,tokenAddress:r.auctionToken.address,tokenSupply:r.totalTokens}))(m,p):void 0;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Z,H(H({},n),{},{onSubmit:n.handleSubmit((()=>t(!0))),children:(0,j.jsxs)(d.Z.Card,{children:[(0,j.jsx)(g,{}),(0,j.jsx)(k,{}),(0,j.jsx)(d.Z.Submit,{children:(0,j.jsx)("div",{children:(0,j.jsx)(s.ZP,{disabled:Object.keys(o).length>0,color:"blue",type:"submit",children:e._(e._("Review"))})})})]})})),(0,j.jsx)(F,{open:r,onDismiss:()=>t(!1),data:b})]})},B=t(87433),X=t(95497),$=t(41664),K=t.n($);const U=()=>{const{i18n:e}=(0,i.mV)(),r=(0,j.jsx)("a",{href:"https://instantmiso.gitbook.io/miso/dev/pool-liquidity-smart-contract/pool-liquidity-contract",target:"_blank",rel:"noreferrer",className:"text-blue",children:"documentation"});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(X.Zo,{className:"bg-miso-bowl bg-cover",children:(0,j.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,j.jsx)("div",{children:(0,j.jsx)(s.ZP,{color:"blue",size:"sm",className:"rounded-full !pl-2 !py-1.5",startIcon:(0,j.jsx)(n.Z,{width:24,height:24}),children:(0,j.jsx)(K(),{href:"/miso",children:e._(e._("All Auctions"))})})}),(0,j.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,j.jsx)(a.Z,{variant:"h2",className:"text-high-emphesis",weight:700,children:e._(e._("New Liquidity Launcher"))}),(0,j.jsx)(a.Z,{variant:"sm",weight:400,children:(0,j.jsx)(i.cC,{id:"Create your own Liquidity Launcher at the LiquidityLauncher Factory. For details on all current LiquidityLauncher types, please visit our {link}",values:{link:r},components:y.Fragment})})]})]})}),(0,j.jsx)(X.SX,{children:(0,j.jsx)(Q,{})})]})};U.Layout=X.ZP,U.Guard=(0,B.Z)(o.L.MISO);var W=U},23141:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/miso/launcher",function(){return t(48195)}])},94323:function(e,r,t){"use strict";var n=t(67294);const i=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}));r.Z=i}},function(e){e.O(0,[8306,8529,1436,7272,6541,6015,1398,121,9774,2888,179],(function(){return r=23141,e(e.s=r);var r}));var r=e.O();_N_E=r}]);