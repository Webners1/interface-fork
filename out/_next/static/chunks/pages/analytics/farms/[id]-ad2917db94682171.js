(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9495],{66223:function(e,r,n){"use strict";n.d(r,{Z:function(){return o}});var i=n(31969),a=(n(67294),n(41626)),t=n(85893);function o(e){var r=e.currency0,n=e.currency1,o=e.className,l=void 0===o?"":o,d=e.logoClassName,c=void 0===d?"":d,s=e.size,u=void 0===s?16:s;return(0,t.jsxs)("div",{className:(0,i.AK)("flex items-center space-x-2",l),children:[(0,t.jsx)(a.X,{className:c,currency:r,size:u.toString()+"px"}),(0,t.jsx)(a.X,{className:c,currency:n,size:u.toString()+"px"})]})}},80853:function(e,r,n){"use strict";var i=n(909),a=(n(67294),n(85893));(0,i.Z)((function(e){return e.x})).center;r.Z=function(e){e.data,e.stroke,e.strokeWidth,e.setSelectedIndex;return(0,a.jsx)(a.Fragment,{})}},73803:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});var i=n(31969),a=n(85893);function t(e){var r=e.number,n=e.scaleNumber,t=void 0===n||n,o=e.percent,l=void 0!==o&&o,d=e.className,c=void 0===d?"":d;return(isNaN(r)||r===1/0)&&(r=0),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:(0,i.AK)(r>0?"text-green":r<0&&"text-red","font-normal",c),children:(r>0?"+":r<0?"-":"")+(l?(0,i.T3)(r).replace("-",""):t?(0,i.nH)(r,!0).replace("-",""):(0,i.uf)(r,!0,!1).replace("-",""))})})}},42746:function(e,r,n){"use strict";n.d(r,{$J:function(){return y},K5:function(){return w},Pc:function(){return p},zh:function(){return P}});var i=n(27812),a=n(59499),t=n(21046),o=n(31518),l=n(54907),d=n(2886),c=n(12614),s=n(57043),u=n.n(s),v=n(4788),m=n.n(v),f=n(67294),h=n(81570);function P(e){var r=(0,l.mi)(),n=(0,l.sd)(),i=(0,l.U$)(),t=(0,f.useMemo)((function(){var e;return e={},(0,a.Z)(e,h.WJ.MASTERCHEF,r),(0,a.Z)(e,h.WJ.MASTERCHEF_V2,n),(0,a.Z)(e,h.WJ.MINICHEF,i),e}),[r,n,i]);return(0,f.useMemo)((function(){return t[e]}),[t,e])}function p(e,r){var n,i=(0,c.aQ)().account,a=P(e.chef),t=(0,f.useMemo)((function(){if(i)return[String(e.id),String(i)]}),[e,i]),l=null===(n=(0,d.Wk)(t?a:null,"userInfo",t))||void 0===n?void 0:n.result,s=null===l||void 0===l?void 0:l[0],u=s?o.QA.BigInt(s.toString()):void 0;return u?o.ih.fromRawAmount(r,u):void 0}function w(e){var r,n=(0,c.aQ)(),i=n.account,a=n.chainId,t=P(e.chef),l=(0,f.useMemo)((function(){if(i)return[String(e.id),String(i)]}),[e,i]),s=null===(r=(0,d.Wk)(l?t:null,"pendingSushi",l))||void 0===r?void 0:r.result,u=null===s||void 0===s?void 0:s[0],v=u?o.QA.BigInt(u.toString()):void 0;return v?o.ih.fromRawAmount(o.hs[a],v):void 0}function x(e,r,n){var a,l,s=(0,c.aQ)().account,u=null===(a=(0,d.Wk)(e||null,"poolLength",void 0,d.DB))||void 0===a||null===(l=a.result)||void 0===l?void 0:l[0],v=(0,f.useMemo)((function(){if(s&&u)return(0,i.Z)(Array(u.toNumber()).keys()).map((function(e){return[String(e),String(s)]}))}),[u,s]),P=(0,d.es)(v?e:null,"pendingSushi",v),p=(0,d.es)(v?e:null,"userInfo",v),w=(0,f.useCallback)((function(){return o.HW[n]===e.address?h.WJ.MASTERCHEF:o.C1[n]===e.address?h.WJ.MASTERCHEF_V2:o.uu[n]===e.address?h.WJ.MINICHEF:void 0}),[n,e]);return(0,f.useMemo)((function(){return P||p?m()(P,p).map((function(e,r){var n,i;return{id:v[r][0],pendingSushi:(null===(n=e[0].result)||void 0===n?void 0:n[0])||t._Y,amount:(null===(i=e[1].result)||void 0===i?void 0:i[0])||t._Y,chef:w()}})).filter((function(e){var r=e.pendingSushi,n=e.amount;return r&&!r.isZero()||n&&!n.isZero()})):[]}),[v,w,P,p])}var b=[];function y(e){var r=(0,l.mi)(),n=(0,l.sd)(),i=(0,l.U$)(),a=x(r,0,e),t=x(n,0,e),o=x(i,0,e),d=(0,f.useMemo)((function(){return u()(a,t,o)}),[a,t,o]);return d.length>0?d:b}},60043:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return V}});var i=n(19485),a=n(31518),t=n(41626),o=n(66223),l=n(56785),d=n(59499),c=n(55929),s=n(83567),u=n(85874),v=n(89046),m=n(67294),f=n(79521),h=n(50442),P=n(31969),p=n(62483),w=n(59046),x=n(85893);function b(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?b(Object(n),!0).forEach((function(r){(0,d.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var g=function(e){var r=function(e,r){(0,p.e_)();var n=(0,m.useMemo)((function(){return null===r||void 0===r?void 0:r.map((function(e){return{id:e.id,address:e.address,share:e.share,amount:e.amount,amountUSD:e.amountUSD}}))}),[r]),i=(0,m.useMemo)((function(){return[{Header:"Liquidity Provider",accessor:"address",Cell:function(r){return(0,x.jsx)("div",{className:"flex items-center gap-2",children:(0,x.jsx)(h.Z,{href:(0,P.E8)(e,r.value,"address"),endIcon:(0,x.jsxs)(x.Fragment,{children:["\xa0",(0,x.jsx)(w.Z,{size:18})]}),children:r.value})})}},{Header:"Pool Share",accessor:"share",minWidth:150,Cell:function(e){return(0,P.T3)(e.value,"0")},align:"right"},{Header:"Liquidity Token Staked",accessor:"amountUSD",minWidth:150,Cell:function(e){return(0,P.uf)(e.value,!0,!1,2)},align:"right"}]}),[e]);return(0,m.useMemo)((function(){return{config:{columns:i,data:null!==n&&void 0!==n?n:[],initialState:{sortBy:[{id:"amountUSD",desc:!0}]},autoResetFilters:!1}}}),[i,n])}(e.chainId,e.users),n=r.config,i=(0,f.useTable)(n,f.useFlexLayout,f.useFilters,f.useSortBy,f.usePagination),a=i.getTableProps,t=i.getTableBodyProps,o=i.headerGroups,l=i.rows,d=i.page,b=i.gotoPage,g=i.canPreviousPage,k=i.canNextPage,j=i.prepareRow,N=(i.setFilter,i.toggleSortBy,i.state),A=N.pageIndex,S=N.pageSize;return(0,x.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,x.jsx)("div",{className:v._O,children:(0,x.jsxs)("table",y(y({},a()),{},{className:v.RR,children:[(0,x.jsx)("thead",{children:o.map((function(e,r){return(0,m.createElement)("tr",y(y({},e.getHeaderGroupProps()),{},{key:r}),e.headers.map((function(r,n){return(0,m.createElement)("th",y(y({},r.getHeaderProps(r.getSortByToggleProps())),{},{key:n,className:(0,v.G0)(n,e.headers.length)}),r.render("Header"),(0,x.jsx)("span",{className:"inline-block ml-1 align-middle",children:r.isSorted?r.isSortedDesc?(0,x.jsx)(c.Z,{width:12}):(0,x.jsx)(s.Z,{width:12}):""}))})))}))}),(0,x.jsx)("tbody",y(y({},t()),{},{children:d.map((function(e,r){return j(e),(0,m.createElement)("tr",y(y({},e.getRowProps()),{},{key:r,className:v.vu}),e.cells.map((function(r,n){return(0,x.jsx)("td",y(y({},r.getCellProps()),{},{className:(0,v.zm)(n,e.cells.length),children:r.render("Cell")}),n)})))}))}))]}))}),(0,x.jsx)(u.a,{pageIndex:A,pageSize:S,totalItems:l.length,gotoPage:b,canPreviousPage:g,canNextPage:k,loading:!l.length})]})},k=n(80853),j=n(73803);function N(e){var r=e.header,n=e.subheader,i=(e.figure,e.format),a=void 0===i?function(e){return e}:i,t=e.change,o=e.chart,l=e.defaultTimespan,d=e.timespans,c=(0,m.useState)(null===d||void 0===d?void 0:d.find((function(e){return e.text===l}))),s=c[0],u=c[1],v=(0,m.useMemo)((function(){var e=Math.round(Date.now()/1e3);return null===o||void 0===o?void 0:o.reduce((function(r,n){var i=n.x.getTime();return Math.round(i/1e3)>=e-(null===s||void 0===s?void 0:s.length)&&r.push({x:i,y:n.y}),r}),[])}),[o,null===s||void 0===s?void 0:s.length]),f=(0,m.useState)((null===v||void 0===v?void 0:v.length)-1),h=f[0],p=f[1],w=(0,m.useMemo)((function(){var e;return null===v||void 0===v||null===(e=v[h])||void 0===e?void 0:e.y}),[v,h]),b=(0,m.useMemo)((function(){var e;return null===v||void 0===v||null===(e=v[h])||void 0===e?void 0:e.x}),[v,h]);return(0,x.jsxs)("div",{className:"w-full p-5 space-y-4 font-bold border border-dark-900 rounded shadow-md bg-[rgba(0,0,0,0.12)]",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"text-xs text-secondary",children:n}),(0,x.jsx)("div",{className:"text-high-emphesis",children:r})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"flex justify-end text-2xl text-high-emphesis",children:a(w)}),(0,x.jsxs)("div",{className:"flex flex-row items-center justify-end",children:[h===(null===v||void 0===v?void 0:v.length)-1&&(0,x.jsx)(j.Z,{number:t,percent:!0}),(0,x.jsx)("div",{className:"ml-3 font-normal",children:b?(0,P.p6)(new Date(b)):"Past 24 Hours"})]})]})]}),(0,x.jsx)("div",{className:"py-4 h-36",children:v&&(0,x.jsx)(k.Z,{data:v,stroke:{gradient:{from:"#27B0E6",to:"#FA52A0"}},setSelectedIndex:p})}),(0,x.jsx)("div",{className:"flex flex-row justify-end space-x-4",children:d.map((function(e,r){return(0,x.jsx)("button",{className:(0,P.AK)(e===s?"text-blue bg-blue bg-opacity-30 rounded-xl font-bold border border-blue border-opacity-50":"text-secondary","text-sm px-3 py-0.5"),onClick:function(){return u(e)},children:e.text},r)}))})]})}var A=n(81570),S=n(89735),T=n(84329),C=n(57380),O=n(38239),E=n(42746);function M(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?M(Object(n),!0).forEach((function(r){(0,d.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function B(e){var r,n,t=e.chainId,o=e.pool,l=e.pair,c=e.allTokens,s=e.averageBlockTime,u=e.blocksPerDay,v=e.masterChefV1SushiPerBlock,m=e.masterChefV1TotalAllocPoint,f=e.sushiPrice,h=e.ethPrice,P=e.maticPrice,p=e.gnoPrice,w=e.onePrice,x=e.celoPrice,b=e.fantomPrice,y=e.movrPrice,g=e.fusePrice,k=e.glimmerPrice,j=(null===o||void 0===o||null===(r=o.owner)||void 0===r?void 0:r.sushiPerBlock)/1e18||(null===o||void 0===o||null===(n=o.owner)||void 0===n?void 0:n.sushiPerSecond)/1e18*s||v,N=o.allocPoint/o.owner.totalAllocPoint*j,S={currency:a.hs[a.a_.ETHEREUM],rewardPerBlock:N,rewardPerDay:N*u,rewardPrice:f},T=[S];if(o.chef===A.WJ.MASTERCHEF_V2){o.owner.totalAllocPoint=m,"1"===o.id&&(o.rewarder.rewardPerSecond=0),"0x5dd8905aec612529361a35372efd5b127bb182b3"===o.rewarder.rewardToken&&(o.rewarder.rewardToken="0xba8a621b4a54e61c442f5ec623687e2a942225ef",o.rewardToken.id="0xba8a621b4a54e61c442f5ec623687e2a942225ef",o.rewardToken.symbol="vestedQUARTZ",o.rewardToken.derivedETH=l.token1.derivedETH,o.rewardToken.decimals=18);var O=Math.pow(10,o.rewardToken.decimals);if("0x0000000000000000000000000000000000000000"!==o.rewarder.rewardToken){var E="ALCX"===o.rewardToken.symbol?o.rewarder.rewardPerSecond/O:"LDO"===o.rewardToken.symbol?0/O*s:o.rewarder.rewardPerSecond/O*s,M="ALCX"===o.rewardToken.symbol?o.rewarder.rewardPerSecond/O*u:"LDO"===o.rewardToken.symbol?0/O*s*u:o.rewarder.rewardPerSecond/O*s*u,B=o.rewardToken.derivedETH*h,I=(0,i.getAddress)(o.rewardToken.id),_={currency:I in c?c[I]:new a.WU(a.a_.ETHEREUM,(0,i.getAddress)(o.rewardToken.id),Number(o.rewardToken.decimals),o.rewardToken.symbol,o.rewardToken.name),rewardPerBlock:E,rewardPerDay:M,rewardPrice:B};T[1]=_}}else if(o.chef===A.WJ.MINICHEF&&t!==a.a_.MATIC&&t!==a.a_.ARBITRUM){var H,F=o.allocPoint/o.miniChef.totalAllocPoint*o.miniChef.sushiPerSecond/1e18*s,U=F*u,R=o.allocPoint/o.miniChef.totalAllocPoint*o.rewarder.rewardPerSecond/1e18,Z=R*s,W=(H={},(0,d.Z)(H,a.a_.MATIC,{currency:a.B5[a.a_.MATIC],rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:P}),(0,d.Z)(H,a.a_.XDAI,{currency:C.gt,rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:p}),(0,d.Z)(H,a.a_.HARMONY,{currency:a.B5[a.a_.HARMONY],rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:w}),(0,d.Z)(H,a.a_.CELO,{currency:a.B5[a.a_.CELO],rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:x}),(0,d.Z)(H,a.a_.MOONRIVER,{currency:a.B5[a.a_.MOONRIVER],rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:y}),(0,d.Z)(H,a.a_.FUSE,{currency:a.B5[a.a_.FUSE],rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:g}),(0,d.Z)(H,a.a_.FANTOM,{currency:a.B5[a.a_.FANTOM],rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:b}),(0,d.Z)(H,a.a_.MOONBEAM,{currency:a.B5[a.a_.MOONBEAM],rewardPerBlock:Z,rewardPerDay:86400*R,rewardPrice:k}),H);t===a.a_.FUSE?T[0]=W[a.a_.FUSE]:(T[0]=D(D({},S),{},{rewardPerBlock:F,rewardPerDay:U}),t in W&&(T[1]=W[t]))}else if((t===a.a_.MATIC||t===a.a_.ARBITRUM)&&"0"!==o.rewarder.rewardPerSecond){var Y=("0"===o.rewarder.totalAllocPoint?o.rewarder.rewardPerSecond/Math.pow(10,o.rewardToken.decimals):o.allocPoint/o.rewarder.totalAllocPoint*o.rewarder.rewardPerSecond/1e18)*s,V=Y*u,L=o.rewardToken.derivedETH*h,J=(0,i.getAddress)(o.rewardToken.id);T[1]={currency:J in c?c[J]:new a.WU(a.a_.ETHEREUM,(0,i.getAddress)(o.rewardToken.id),Number(o.rewardToken.decimals),o.rewardToken.symbol,o.rewardToken.name),rewardPerBlock:Y,rewardPerDay:V,rewardPrice:L}}return T}function I(e,r){var n=(0,E.$J)(e),i=(0,T.ZU)({chainId:e,shouldFetch:!!e}).data,a=(0,p.e_)(),t=(0,T.__)({chainId:e,variables:{where:{id_in:r}},shouldFetch:!!r}).data,o=(0,T.__)({chainId:e,variables:{block:i,where:{id_in:r}},shouldFetch:!!i&&!!r}).data,l=(0,T.Fp)({chainId:e,variables:{where:{id_in:r}},shouldFetch:!!r&&(0,P.vR)(O.L.KASHI,e)}).data,d=(0,T.Te)({chainId:e}).data;return{positions:n,allTokens:a,swapPairs:t,swapPairs1d:o,kashiPairs:l,averageBlockTime:d,masterChefV1TotalAllocPoint:(0,T.M1)().data,masterChefV1SushiPerBlock:(0,T.av)().data,sushiPrice:(0,T.W)().data,ethPrice:(0,T.Bh)().data,maticPrice:(0,T.ME)().data,gnoPrice:(0,T.rX)().data,onePrice:(0,T.Fb)().data,celoPrice:(0,T.T6)().data,fantomPrice:(0,T.mn)().data,movrPrice:(0,T.WR)().data,fusePrice:(0,T.vq)().data,glimmerPrice:(0,T.kO)().data,blocksPerDay:86400/Number(d)}}function _(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?_(Object(n),!0).forEach((function(r){(0,d.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var F=n(22680),U=n(41664),R=n.n(U),Z=n(11163),W=n(2962),Y=[{text:"1W",length:604800},{text:"1M",length:2629746},{text:"1Y",length:31556952},{text:"ALL",length:1/0}];function V(){var e,r,n,d,c,s,u,v,f,h,p,w,b,y,k,j,C,O,E=(0,Z.useRouter)(),M=E.query.id.toLowerCase(),_=Number(E.query.chainId),U=function(e){var r=e.chainId,n=void 0===r?a.a_.ETHEREUM:r,i=e.variables,t=(0,T.Sr)({chainId:n,variables:i}),o=(0,m.useMemo)((function(){return t.map((function(e){return e.pair.toLowerCase()}))}),[t]),l=I(n,o),d=l.positions,c=l.allTokens,s=l.swapPairs,u=l.swapPairs1d,v=l.kashiPairs,f=l.averageBlockTime,h=l.masterChefV1TotalAllocPoint,P=l.masterChefV1SushiPerBlock,p=l.sushiPrice,w=l.ethPrice,x=l.maticPrice,b=l.gnoPrice,y=l.onePrice,g=l.celoPrice,k=l.fantomPrice,j=l.movrPrice,N=l.fusePrice,C=l.glimmerPrice,O=l.blocksPerDay,E=(0,m.useCallback)((function(e){e.owner=(null===e||void 0===e?void 0:e.owner)||(null===e||void 0===e?void 0:e.masterChef)||(null===e||void 0===e?void 0:e.miniChef),e.balance=(null===e||void 0===e?void 0:e.balance)||(null===e||void 0===e?void 0:e.slpBalance);var r=null===s||void 0===s?void 0:s.find((function(r){return r.id===e.pair})),i=null===u||void 0===u?void 0:u.find((function(r){return r.id===e.pair})),a=null===v||void 0===v?void 0:v.find((function(r){return r.id===e.pair})),t=r||a,o=r?A.FJ.SWAP:A.FJ.KASHI,l=3600/f,m=B({chainId:n,pool:e,pair:t,allTokens:c,averageBlockTime:f,blocksPerDay:O,masterChefV1SushiPerBlock:P,masterChefV1TotalAllocPoint:h,sushiPrice:p,ethPrice:w,maticPrice:x,gnoPrice:b,onePrice:y,celoPrice:g,fantomPrice:k,movrPrice:j,fusePrice:N,glimmerPrice:C}),T=r?Number(e.balance/1e18):e.balance/Math.pow(10,a.token0.decimals),E=r?T/Number(r.totalSupply)*Number(r.reserveUSD):T*a.token0.derivedETH*w,M=r&&i?(0,S.OB)(.0025*((null===t||void 0===t?void 0:t.volumeUSD)-(null===i||void 0===i?void 0:i.volumeUSD))*365/(null===t||void 0===t?void 0:t.reserveUSD)*100,3650)/100:0,I=M/12,_=I/30,H=_/l,F=m.reduce((function(e,r){return e+r.rewardPerBlock*r.rewardPrice}),0)/E,U=F*l,R=24*U,Z=30*R,W=12*Z,Y=U+H,V=Z+I,L=R+_,J=W+M,z=d.find((function(r){return r.id===e.id&&r.chef===e.chef})),K=e.users.map((function(e){var n=r?Number(e.amount/1e18):e.amount/Math.pow(10,a.token0.decimals);return D(D({},e),{},{share:100*n/T,amount:n,amountUSD:r?n/Number(r.totalSupply)*Number(r.reserveUSD):n*a.token0.derivedETH*w})}));return D(D(D({},e),z),{},{pair:D(D({},t),{},{decimals:t.type===A.FJ.KASHI?Number(t.asset.tokenInfo.decimals):18,type:o}),balance:T,feeApyPerHour:H,feeApyPerDay:_,feeApyPerMonth:I,feeApyPerYear:M,rewardAprPerHour:U,rewardAprPerDay:R,rewardAprPerMonth:Z,rewardAprPerYear:W,roiPerBlock:F,roiPerHour:Y,roiPerDay:L,roiPerMonth:V,roiPerYear:J,rewards:m,tvl:E,users:K})}),[c,f,O,g,n,w,k,N,C,b,v,P,h,x,j,y,d,p,s,u]),M=(0,m.useCallback)((function(e){return s&&s.find((function(r){return r.id===e.pair}))||v&&v.find((function(r){return r.id===e.pair}))}),[v,s]);return(0,m.useMemo)((function(){return t.filter(M).map(E)}),[t,M,E])}({chainId:_,variables:{where:{pair:M}}}),V=U.find((function(e){return e.pair.id===M})),L=function(e){var r=e.chainId,n=void 0===r?a.a_.ETHEREUM:r,i=e.variables,t=(0,T.PJ)({chainId:n,variables:i}),o=(0,m.useMemo)((function(){return t.map((function(e){return e.pool.pair.toLowerCase()}))}),[t]),l=I(n,o),d=l.positions,c=l.allTokens,s=l.swapPairs,u=l.swapPairs1d,v=l.kashiPairs,f=l.averageBlockTime,h=l.masterChefV1TotalAllocPoint,P=l.masterChefV1SushiPerBlock,p=l.sushiPrice,w=l.ethPrice,x=l.maticPrice,b=l.gnoPrice,y=l.onePrice,g=l.celoPrice,k=l.fantomPrice,j=l.movrPrice,N=l.fusePrice,C=l.glimmerPrice,O=l.blocksPerDay,E=(0,m.useCallback)((function(e){var r=e.pool;e.balance=(null===e||void 0===e?void 0:e.balance)||(null===e||void 0===e?void 0:e.slpBalance),r.owner=(null===r||void 0===r?void 0:r.owner)||(null===r||void 0===r?void 0:r.masterChef)||(null===r||void 0===r?void 0:r.miniChef),r.balance=(null===r||void 0===r?void 0:r.balance)||(null===r||void 0===r?void 0:r.slpBalance);var i=null===s||void 0===s?void 0:s.find((function(e){return e.id===r.pair})),a=null===u||void 0===u?void 0:u.find((function(e){return e.id===r.pair})),t=null===v||void 0===v?void 0:v.find((function(e){return e.id===r.pair})),o=i||t,l=i?A.FJ.SWAP:A.FJ.KASHI,m=3600/f,T=B({chainId:n,pool:r,pair:o,allTokens:c,averageBlockTime:f,blocksPerDay:O,masterChefV1SushiPerBlock:P,masterChefV1TotalAllocPoint:h,sushiPrice:p,ethPrice:w,maticPrice:x,gnoPrice:b,onePrice:y,celoPrice:g,fantomPrice:k,movrPrice:j,fusePrice:N,glimmerPrice:C}),E=i?Number(r.balance/1e18):r.balance/Math.pow(10,t.token0.decimals),M=i?Number(e.balance/1e18):e.balance/Math.pow(10,t.token0.decimals),D=i?E/Number(i.totalSupply)*Number(i.reserveUSD):E*t.token0.derivedETH*w,I=i?M/Number(i.totalSupply)*Number(i.reserveUSD):M*t.token0.derivedETH*w,_=i&&a?(0,S.OB)(.0025*((null===o||void 0===o?void 0:o.volumeUSD)-(null===a||void 0===a?void 0:a.volumeUSD))*365/(null===o||void 0===o?void 0:o.reserveUSD)*100,3650)/100:0,F=_/12,U=F/30,R=U/m,Z=T.reduce((function(e,r){return e+r.rewardPerBlock*r.rewardPrice}),0)/D,W=Z*m,Y=24*W,V=30*Y,L=12*V,J=W+R,z=V+F,K=Y+U,X=L+_,q=d.find((function(e){return e.id===r.id&&e.chef===r.chef}));return H(H({},e),{},{balance:M,tvl:I,rewardAprPerYear:L,userCount:Number(e.userCount),timestamp:Number(e.timestamp),pool:H(H(H({},r),q),{},{pair:H(H({},o),{},{decimals:o.type===A.FJ.KASHI?Number(o.asset.tokenInfo.decimals):18,type:l}),balance:E,feeApyPerHour:R,feeApyPerDay:U,feeApyPerMonth:F,feeApyPerYear:_,rewardAprPerHour:W,rewardAprPerDay:Y,rewardAprPerMonth:V,rewardAprPerYear:L,roiPerBlock:Z,roiPerHour:J,roiPerDay:K,roiPerMonth:z,roiPerYear:X,rewards:T,tvl:D})})}),[c,f,O,g,n,w,k,N,C,b,v,P,h,x,j,y,d,p,s,u]),M=(0,m.useCallback)((function(e){return s&&s.find((function(r){return r.id===e.pool.pair}))||v&&v.find((function(r){return r.id===e.pool.pair}))}),[v,s]);return(0,m.useMemo)((function(){return t.filter(M).map(E).sort((function(e,r){return e.timestamp-r.timestamp}))}),[t,M,E])}({chainId:_,variables:{where:{pool:null===V||void 0===V?void 0:V.id}}}),J=(0,m.useMemo)((function(){return{rewardAprPerYear:null===V||void 0===V?void 0:V.rewardAprPerYear,rewardAprPerYearChange:L.length>1?L[L.length-1].rewardAprPerYear-L[L.length-2].rewardAprPerYear:0,rewardAprPerYearChart:L.map((function(e){return{x:new Date(1e3*e.timestamp),y:Number(e.rewardAprPerYear)}})),userCount:null===V||void 0===V?void 0:V.userCount,userCountChange:L.length>1&&L[L.length-1].userCount>0?(L[L.length-1].userCount-L[L.length-2].userCount)/L[L.length-2].userCount*100:0,userCountChart:L.map((function(e){return{x:new Date(1e3*e.timestamp),y:Number(e.userCount)}}))}}),[L,V]);if(!V)return(0,x.jsx)(x.Fragment,{});var z=new a.WU(_,(0,i.getAddress)(null===V||void 0===V||null===(e=V.pair)||void 0===e||null===(r=e.token0)||void 0===r?void 0:r.id),Number(null===V||void 0===V||null===(n=V.pair)||void 0===n||null===(d=n.token0)||void 0===d?void 0:d.decimals)||18,null===V||void 0===V||null===(c=V.pair)||void 0===c||null===(s=c.token0)||void 0===s?void 0:s.symbol,null===V||void 0===V||null===(u=V.pair)||void 0===u||null===(v=u.token0)||void 0===v?void 0:v.name),K=new a.WU(_,(0,i.getAddress)(null===V||void 0===V||null===(f=V.pair)||void 0===f||null===(h=f.token1)||void 0===h?void 0:h.id),Number(null===V||void 0===V||null===(p=V.pair)||void 0===p||null===(w=p.token1)||void 0===w?void 0:w.decimals)||18,null===V||void 0===V||null===(b=V.pair)||void 0===b||null===(y=b.token1)||void 0===y?void 0:y.symbol,null===V||void 0===V||null===(k=V.pair)||void 0===k||null===(j=k.token0)||void 0===j?void 0:j.name);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(W.PB,{title:"".concat(null===z||void 0===z?void 0:z.symbol,"/").concat(null===K||void 0===K?void 0:K.symbol," Analytics")}),(0,x.jsxs)(F.CV,{className:"sm:!flex-row justify-between items-center",pattern:"bg-bubble",children:[(0,x.jsxs)("div",{className:"space-y-4",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsx)(o.Z,{className:"rounded-full",currency0:z,currency1:K,size:60}),(0,x.jsx)(l.Z,{variant:"h2",className:"text-high-emphesis",weight:700,children:z&&K&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(R(),{href:{pathname:"/analytics/tokens/".concat(null===z||void 0===z?void 0:z.address),query:{chainId:_}},children:null===z||void 0===z?void 0:z.symbol}),"/",(0,x.jsx)(R(),{href:{pathname:"/analytics/tokens/".concat(null===K||void 0===K?void 0:K.address),query:{chainId:_}},children:null===K||void 0===K?void 0:K.symbol})]})})]}),(0,x.jsx)(l.Z,{variant:"sm",weight:400,children:z&&K&&(0,x.jsxs)(x.Fragment,{children:["Dive deeper in the analytics of ",null===z||void 0===z?void 0:z.symbol,"/",null===K||void 0===K?void 0:K.symbol,"."]})})]}),(0,x.jsxs)("div",{className:"flex flex-row space-x-8",children:[(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("div",{className:"text-secondary",children:"TVL"}),(0,x.jsx)("div",{className:"flex items-center space-x-2",children:(0,x.jsx)("div",{className:"text-xl font-medium text-high-emphesis",children:(0,P.uf)(null!==(C=null===V||void 0===V?void 0:V.tvl)&&void 0!==C?C:0,!0)})})]}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("div",{className:"text-secondary",children:"Value"}),(0,x.jsx)("div",{className:"flex items-center space-x-2",children:(0,x.jsx)("div",{className:"text-xl font-medium text-high-emphesis",children:(0,P.uf)((null===V||void 0===V?void 0:V.pair.reserveUSD)/(null===V||void 0===V?void 0:V.pair.totalSupply),!0)})})]}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("div",{className:"text-secondary",children:"Rewards"}),(0,x.jsx)("div",{className:"flex items-center space-x-2",children:null===V||void 0===V||null===(O=V.rewards)||void 0===O?void 0:O.map((function(e,r){return(0,x.jsxs)("div",{className:"flex items-center gap-1 text-xl font-medium text-high-emphesis",children:[(0,x.jsx)("span",{children:(0,P.uf)(e.rewardPerDay)}),(0,x.jsx)(t.X,{currency:e.currency,size:20})]},r)}))})]}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("div",{className:"text-secondary",children:"Reward APR"}),(0,x.jsx)("div",{className:"flex items-center space-x-2",children:(0,x.jsx)("div",{className:"text-xl font-medium text-high-emphesis",children:0!==(null===V||void 0===V?void 0:V.tvl)?(null===V||void 0===V?void 0:V.rewardAprPerYear)>100?">10,000%":(0,P.T3)(100*(null===V||void 0===V?void 0:V.rewardAprPerYear)):"Infinite"})})]}),(0,x.jsxs)("div",{className:"flex flex-col",children:[(0,x.jsx)("div",{className:"text-secondary",children:"Fee APY"}),(0,x.jsx)("div",{className:"flex items-center space-x-2",children:(0,x.jsx)("div",{className:"text-xl font-medium text-high-emphesis",children:0!==(null===V||void 0===V?void 0:V.tvl)?(null===V||void 0===V?void 0:V.feeApyPerYear)>100?">10,000%":(0,P.T3)(100*(null===V||void 0===V?void 0:V.feeApyPerYear)):"Infinite"})})]})]})]}),(0,x.jsxs)(F.A9,{children:[(0,x.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,x.jsx)(N,{header:"Users",subheader:"".concat(null===z||void 0===z?void 0:z.symbol,"/").concat(null===K||void 0===K?void 0:K.symbol),figure:J.userCount,change:J.userCountChange,chart:J.userCountChart,defaultTimespan:"1M",timespans:Y})}),(0,x.jsx)(l.Z,{variant:"h3",weight:700,children:"Liquidity Providers"}),(0,x.jsx)(g,{chainId:_||a.a_.ETHEREUM,users:V?V.users:[]})]})]})}},17059:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/analytics/farms/[id]",function(){return n(60043)}])}},function(e){e.O(0,[8306,8529,9613,9521,9647,7032,8769,9774,2888,179],(function(){return r=17059,e(e.s=r);var r}));var r=e.O();_N_E=r}]);