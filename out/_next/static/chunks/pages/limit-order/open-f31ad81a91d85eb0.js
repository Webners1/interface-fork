(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4536],{85744:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return A}});var a=t(14744),n=t(97448),s=t(71862),i=t(56785),l=t(38239),c=t(27979),o=t(90560),d=t(59499),m=t(75466),u=t(25183),h=t(89046),p=t(44554),x=t(53389),g=t(12614),j=t(68411),w=t(41664),f=t.n(w),b=t(67294),v=t(79521),N=t(40169),y=t(41626),O=t(85893);function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){(0,d.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Z=()=>{const{i18n:e}=(0,a.mV)(),{account:r}=(0,g.aQ)(),{pending:t,mutate:n}=(0,u.Z)(),l=(0,j.h7)(),c=(0,x.JY)(!0),o=(0,b.useCallback)((async(e,r)=>{if(!c)return;const t=await c.cancelOrder(e.getTypeHash());t&&(l(t,{summary:r}),await t.wait(),await n((e=>k({},e))))}),[l,c,n]),{config:d}=(e=>{let{orders:r,cancelOrder:t}=e;const{i18n:n}=(0,a.mV)(),l=(0,b.useMemo)((()=>[{accessor:"tokenOut",Header:"Market",minWidth:300,Cell:e=>(0,O.jsxs)("div",{className:"flex gap-2.5 items-center whitespace-nowrap truncate text-ellipsis",children:[(0,O.jsx)("div",{className:"hidden lg:block",children:(0,O.jsx)(y.X,{currency:e.cell.row.original.tokenIn,className:"!rounded-full",size:18})}),(0,O.jsxs)(i.Z,{variant:"xs",className:"flex items-baseline gap-2 text-secondary",children:[(0,O.jsx)(i.Z,{variant:"xs",weight:700,component:"span",className:"text-high-emphesis",children:e.cell.row.original.limitOrder.amountIn.toSignificant(6)})," ",e.cell.row.original.tokenIn.symbol]}),(0,O.jsx)(N.Z,{width:20,className:"text-primary"}),(0,O.jsx)("div",{className:"hidden lg:block",children:(0,O.jsx)(y.X,{currency:e.cell.row.original.tokenOut,className:"!rounded-full",size:18})}),(0,O.jsxs)(i.Z,{variant:"xs",className:"flex items-baseline gap-2 text-secondary",children:[(0,O.jsx)(i.Z,{variant:"xs",weight:700,component:"span",className:"text-high-emphesis",children:e.cell.row.original.limitOrder.amountOut.toSignificant(6)})," ",e.cell.row.original.tokenOut.symbol]})]})},{accessor:"rate",Header:"Rate",width:100,minWidth:100,Cell:e=>{const{0:r,1:t}=(0,b.useState)(!1);return(0,O.jsxs)(i.Z,{variant:"xs",className:"flex items-baseline gap-2 cursor-pointer text-secondary",onClick:()=>t(!r),children:[(0,O.jsx)(i.Z,{weight:700,variant:"xs",component:"span",className:"text-high-emphesis",children:r?e.cell.value.invert().toSignificant(6):e.cell.value.toSignificant(6)})," ",r?e.cell.row.original.tokenIn.symbol:e.cell.row.original.tokenOut.symbol]})}},{accessor:"filledPercent",Header:"Filled",width:80,minWidth:80,Cell:e=>(0,O.jsxs)(i.Z,{weight:700,variant:"xs",component:"span",className:"text-high-emphesis",children:[e.cell.value,"%"]})},{accessor:"timestamp",Header:"Expires",width:150,minWidth:150,Cell:e=>(0,O.jsx)(i.Z,{weight:700,variant:"xs",children:Number(e.cell.row.original.limitOrder.endTime)===Number.MAX_SAFE_INTEGER?"Never":new Date(1e3*Number(e.cell.row.original.limitOrder.endTime)).toLocaleString("en-uS",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:"UTC"})})},{accessor:"Updated",Header:"Created at",width:150,minWidth:150,Cell:e=>(0,O.jsx)(i.Z,{weight:700,variant:"xs",children:new Date(1e3*Number(e.cell.row.original.limitOrder.startTime)).toLocaleString("en-uS",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:"UTC"})})},{accessor:"id",Header:"Cancel",width:100,minWidth:100,Cell:e=>(0,O.jsx)(s.ZP,{color:"blue",variant:"empty",size:"xs",onClick:()=>t(e.cell.row.original.limitOrder,"Cancel order"),className:"whitespace-nowrap",children:n._(n._("Cancel Order"))})}]),[t,n]),c=b.useMemo((()=>({minWidth:0})),[]);return(0,b.useMemo)((()=>({config:{columns:l,data:null===r||void 0===r?void 0:r.filter((e=>1e3*Number(e.limitOrder.endTime)>Date.now())),defaultColumn:c}})),[r,l,c])})({orders:t.data,cancelOrder:o}),{getTableProps:w,getTableBodyProps:P,headerGroups:Z,prepareRow:C,page:_}=(0,v.useTable)(d,v.useSortBy,v.usePagination,v.useFlexLayout);return(0,O.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,O.jsx)("div",{className:(0,p.AK)(h._O,t.maxPages>1?"min-h-[537px]":""),children:(0,O.jsxs)("table",k(k({id:"asset-balances-table"},w()),{},{className:h.RR,children:[(0,O.jsx)("thead",{children:Z.map(((e,r)=>(0,b.createElement)("tr",k(k({},e.getHeaderGroupProps()),{},{key:r}),e.headers.map(((r,t)=>(0,b.createElement)("th",k(k({},r.getHeaderProps(r.getSortByToggleProps())),{},{key:t,className:(0,h.G0)(t,e.headers.length)}),r.render("Header")))))))}),(0,O.jsx)("tbody",k(k({},P()),{},{children:_.length>0?_.map(((e,r)=>(C(e),(0,b.createElement)("tr",k(k({},e.getRowProps()),{},{key:r,className:h.vu}),e.cells.map(((r,t)=>(0,O.jsx)("td",k(k({},r.getCellProps()),{},{className:(0,p.AK)((0,h.zm)(t,e.cells.length),"cursor-default whitespace-nowrap"),children:r.render("Cell")}),t))))))):(0,O.jsx)("tr",{className:h.vu,children:(0,O.jsx)("td",{colSpan:4,className:(0,p.AK)((0,h.zm)(0,1),"justify-center cursor-default"),children:(0,O.jsx)(i.Z,{variant:"xs",className:"text-center text-low-emphesis h-[60px] flex items-center justify-center",component:"span",children:e._(e._("No open orders"))})})})})),(0,O.jsx)("tfoot",{children:(0,O.jsx)("tr",{className:(0,p.AK)(h.vu),children:(0,O.jsx)("td",{colSpan:4,className:(0,p.AK)((0,h.zm)(0,1),"justify-center cursor-default py-4"),children:(0,O.jsxs)(i.Z,{variant:"xs",className:"italic text-center text-low-emphesis",children:["Funds will be received in your"," ",(0,O.jsx)(f(),{href:"/account/".concat(r),passHref:!0,children:(0,O.jsx)(i.Z,{variant:"xs",className:"text-blue",component:"span",children:"BentoBox"})})," ","after order execution"]})})})})]}))}),(0,O.jsx)(m.Z,{canPreviousPage:t.page>1,canNextPage:t.page<t.maxPages,onChange:e=>t.setPage(e+1),totalPages:t.maxPages,currentPage:t.page-1,pageNeighbours:1})]})},C=t(97627),_=t(87433),S=t(69137),E=t(22680);function T(){const{chainId:e}=(0,g.aQ)(),{i18n:r}=(0,a.mV)(),{pending:t}=(0,u.Z)(),l=e?n.A2[e]:void 0,{approve:d,approvalState:m}=(0,S.ZP)(l,{});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(o.Z,{}),(0,O.jsx)(c.Z,{}),(0,O.jsxs)(E.A9,{children:[t.totalOrders>0&&m!==S.kG.UNKNOWN&&m!==S.kG.APPROVED&&(0,O.jsxs)("div",{className:"border border-blue-700/40 bg-blue/10 rounded p-4 flex justify-between gap-6",children:[(0,O.jsx)(i.Z,{variant:"sm",className:"text-blue-100",children:r._(r._("It seems like you have open orders while the limit order master contract is not yet approved. Please make\nsure you have approved the limit order master contract or the order will not execute"))}),(0,O.jsx)("div",{className:"flex justify-end",children:(0,O.jsx)(s.ZP,{onClick:d,size:"sm",color:"blue",loading:m===S.kG.PENDING,children:"Approve"})})]}),(0,O.jsx)(C.Z,{}),(0,O.jsx)(Z,{})]})]})}T.Guard=(0,_.Z)(l.L.LIMIT_ORDERS);var A=T},26323:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/limit-order/open",function(){return t(85744)}])}},function(e){e.O(0,[8306,8529,1436,8882,6541,9546,9774,2888,179],(function(){return r=26323,e(e.s=r);var r}));var r=e.O();_N_E=r}]);