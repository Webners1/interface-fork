(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7882,4654],{3382:function(e,t,r){"use strict";var n=r(44554),i=r(76866),a=(r(67294),r(85893));t.Z=e=>{let{children:t,className:r}=e;return(0,i.Z)()?(0,a.jsxs)("div",{className:(0,n.AK)(r,"relative w-full max-w-2xl"),children:[(0,a.jsx)("div",{className:(0,n.AK)("from-pink/5 to-blue/5 fixed inset-0 bg-gradient-radial z-0 pointer-events-none")}),(0,a.jsx)("div",{className:"relative filter z-10",children:t})]}):(0,a.jsx)(a.Fragment,{children:t})}},23987:function(e,t,r){"use strict";var n=r(59499),i=r(4730),a=r(44554),s=r(67294),o=r(85893);const l=["value","onUserInput","placeholder","className","align","fontSize"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u=RegExp("^\\d*$"),p=s.memo((e=>{let{value:t,onUserInput:r,placeholder:n,className:s,align:c,fontSize:p}=e,m=(0,i.Z)(e,l);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("input",d({value:t,onChange:e=>{var t;(""===(t=e.target.value.replace(/,/g,".").replace(/%/g,""))||u.test((0,a.hr)(t)))&&Number(t)<=100&&r(t)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*$",placeholder:n||"100%",maxLength:3,className:(0,a.AK)("right"===c&&"text-right","relative font-bold outline-none border-none flex-auto overflow-hidden overflow-ellipsis placeholder-low-emphesis focus:placeholder-primary",s),style:{fontSize:p}},m))})}));p.displayName="PercentInput",t.Z=p},39281:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(59499),i=r(4730),a=r(44554),s=r(67294),o=r(85893);const l=["value","onUserInput","placeholder","className","align","fontSize"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const u=s.memo((e=>{let{value:t,onUserInput:r,placeholder:n,className:s="flex w-full h-full p-3 font-bold rounded overflow-ellipsis recipient-address-input bg-dark-900 placeholder-low-emphesis",align:c,fontSize:u="24px"}=e,p=(0,i.Z)(e,l);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("input",d({value:t,onChange:e=>{r(e.target.value.replace(/\s+/g,""))},inputMode:"text",title:"Wallet Address or ENS name",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:"Wallet Address or ENS name",pattern:"^(0x[a-fA-F0-9]{40})$",type:"text",className:(0,a.AK)("right"===c&&"text-right","font-medium bg-transparent whitespace-nowrap overflow-ellipsis flex-auto",s),style:{fontSize:u}},p))})}));u.displayName="AddressInput";var p=u,m=r(48410);var h={Address:p,Percent:r(23987).Z,Numeric:m.Z}},27801:function(e,t,r){"use strict";var n=r(59499),i=r(31518),a=r(44554),s=r(94633),o=(r(67294),r(17141)),l=r(41626),c=r(56785),d=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m=e=>{let{header:t,items:r,footer:n,className:i=""}=e;return(0,d.jsxs)("div",{className:(0,a.AK)(i,"flex flex-col"),children:[t&&(0,d.jsx)("div",{className:"overflow-hidden border rounded-t border-dark-700",children:t}),r&&(0,d.jsx)("div",{className:(0,a.AK)(t?"":"border-t rounded-t",n?"bg-dark-800":"border-b rounded-b bg-dark-900","border-l border-r border-dark-700 divide-y divide-dark-700 overflow-hidden"),children:r}),n&&(0,d.jsx)("div",{className:"overflow-hidden border rounded-b bg-dark-900 border-dark-700",children:n})]})},h=e=>{let{left:t,right:r,className:n}=e;return(0,d.jsxs)("div",{className:(0,a.AK)(n,"flex grid items-center grid-cols-2 gap-2 px-3 py-3 lg:px-4 border-dark-700"),children:[t,r]})};m.Header=e=>{let{title:t,value:r,subValue:n,className:i="",id:s}=e;return(0,d.jsxs)("div",{id:s,className:(0,a.AK)(i,"flex flex-row justify-between px-4 py-[10px] items-center"),children:[(0,d.jsx)(c.Z,{variant:"lg",className:"text-high-emphesis",weight:700,children:t}),(r||n)&&(0,d.jsxs)("div",{className:"flex flex-col text-right",children:[r&&(0,d.jsx)(c.Z,{className:"text-high-emphesis",weight:700,children:r}),n&&(0,d.jsx)(c.Z,{className:"text-secondary",variant:"xxs",weight:700,children:n})]})]})},h.Left=e=>{let{amount:t,size:r,hideCurrencyLogo:n,startAdornment:a}=e;return(0,d.jsxs)("div",{className:"flex flex-row gap-1.5 lg:gap-3 items-center",children:[a&&a,!n&&(0,d.jsx)(l.X,{currency:null===t||void 0===t?void 0:t.currency,size:20,className:"rounded-full"}),(0,d.jsxs)(c.Z,{variant:r||"sm",className:"text-high-emphesis",weight:700,children:[null!==t&&void 0!==t&&t.greaterThan(i.xE)?null===t||void 0===t?void 0:t.toSignificant(6):"0.00"," ",null===t||void 0===t?void 0:t.currency.symbol]})]})},h.Right=e=>{let{children:t}=e;return(0,d.jsx)(c.Z,{variant:"xs",weight:400,className:"text-right",children:t})},m.Item=h,m.CurrencyAmountItem=e=>{let{amount:t,weight:r,displayTokenAmount:n=!1,id:u="",hideIfZero:h=!0,hideCurrencyLogo:x,hideUSDC:v=!1,size:f,className:g}=e;const j=(0,s.or)(v?void 0:null!==t&&void 0!==t&&t.equalTo(i.xE)?i.ih.fromRawAmount(null===t||void 0===t?void 0:t.currency,"1"):t);return n?(0,d.jsxs)("div",{id:u,className:(0,a.AK)(h&&null!==t&&void 0!==t&&t.equalTo(i.xE)?"hidden":"","flex grid items-center grid-cols-3 gap-2 px-3 py-3 lg:px-4 border-dark-700",g),children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 -ml-1",children:[!x&&(0,d.jsx)(l.X,{currency:null===t||void 0===t?void 0:t.currency,size:30,className:"rounded-full"}),(0,d.jsx)(c.Z,{className:"text-high-emphesis",weight:700,variant:f||"base",children:null===t||void 0===t?void 0:t.currency.symbol})]}),(0,d.jsx)(c.Z,{className:"text-right text-high-emphesis",weight:700,children:(0,a.uf)(null===t||void 0===t?void 0:t.toSignificant(6))}),!v&&(0,d.jsx)(c.Z,{className:"text-right",variant:"sm",children:(0,a.uf)(null===j||void 0===j?void 0:j.toSignificant(6),!0,!1,6)})]}):(0,d.jsx)("div",{id:"".concat(u),className:h&&null!==t&&void 0!==t&&t.equalTo(i.xE)?"hidden":"",children:(0,d.jsx)(m.Item,{className:g,left:(0,d.jsx)(m.Item.Left,p({size:f,hideCurrencyLogo:x,amount:t},r&&{startAdornment:(0,d.jsx)(o.Z,{color:"default",label:r,size:"sm"})})),right:!v&&(0,d.jsxs)(m.Item.Right,{children:["$",j?null===j||void 0===j?void 0:j.toFixed(2):"0.00"]})},0)})},m.Footer=e=>{let{title:t,value:r}=e;return(0,d.jsxs)("div",{className:"flex flex-row items-center justify-between px-4 py-2",children:[(0,d.jsx)(c.Z,{variant:"xs",weight:400,className:"text-high-emphesis",children:t}),r&&(0,d.jsx)(c.Z,{className:"text-high-emphesis",variant:"sm",weight:700,children:r})]})},t.Z=m},64958:function(e,t,r){"use strict";var n=r(59499),i=r(4730),a=r(41664),s=r.n(a),o=r(11163),l=r(67294),c=r(85893);const d=["children","exact","activeClassName"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=e=>{let{children:t,exact:r=!1,activeClassName:n="text-high-emphesis"}=e,a=(0,i.Z)(e,d);const{asPath:u,pathname:m,route:h,query:x,basePath:v}=(0,o.useRouter)(),f=l.Children.only(t),g=f.props.className||"",j=(r?(a.as||a.href.pathname||a.href)===u:u.startsWith(a.as||a.href.pathname||a.href))?"".concat(g," ").concat(n).trim():g;return(0,c.jsx)(s(),p(p({href:a.href},a),{},{children:l.cloneElement(f,{className:j||null})}))}},15205:function(e,t,r){"use strict";var n=r(14744),i=r(71862),a=r(45486),s=r(39281),o=r(56785),l=r(44554),c=r(46472),d=r(16339),u=r(67294),p=r(85893);t.Z=e=>{let{recipient:t,action:r}=e;const{i18n:m}=(0,n.mV)(),{address:h,loading:x}=(0,c.Z)(t),v=(0,d.T)(),{0:f,1:g}=(0,u.useState)(!1),j=(0,u.useMemo)((()=>Boolean(t&&t.length>0&&!x&&!h)),[h,x,t]);(0,u.useEffect)((()=>()=>{v(r(void 0))}),[r,v]),(0,u.useEffect)((()=>{!j&&h&&v(r(h))}),[r,h,v,j]);const b=(0,u.useCallback)((()=>{g(!1),v(r(void 0))}),[r,v]);return f?(0,p.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)(o.Z,{variant:"sm",className:"px-2",children:m._(m._("Recipient"))}),(0,p.jsx)(a.Z,{width:18,className:"text-secondary hover:text-white cursor-pointer",onClick:b})]}),(0,p.jsx)("div",{className:(0,l.AK)(j?"ring ring-red":"","flex justify-between items-baseline bg-dark-900 rounded px-4 py-3 border border-dark-700 hover:border-dark-600"),children:(0,p.jsx)(o.Z,{weight:700,variant:"lg",className:"flex gap-3 flex-grow items-baseline relative overflow-hidden",children:(0,p.jsx)(s.Z.Address,{className:"!text-sm leading-[32px] focus:placeholder:text-low-emphesis flex-grow w-full text-left bg-transparent text-inherit disabled:cursor-not-allowed",onUserInput:e=>v(r(e)),value:null!==t&&void 0!==t?t:""})})})]}):(0,p.jsx)("div",{className:"flex justify-center",children:(0,p.jsx)(i.ZP,{size:"xs",color:"blue",variant:"empty",className:"flex gap-1 py-1.5",onClick:()=>g(!0),children:m._(m._("Add recipient"))})})}},94492:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n,i=r(64343),a=r(24635),s=r(14744),o=r(71862),l=r(45486),c=r(46430),d=r(36778),u=r(54962),p=r(573),m=r(58771),h=r(16682),x=r(44554),v=r(16339),f=r(37643),g=r(627),j=r(67294),b=r(56785),y=r(85893);!function(e){e.InvalidInput="InvalidInput"}(n||(n={}));var w=e=>{let{placeholderSlippage:t,trident:r=!1}=e;const{i18n:i}=(0,s.mV)(),a=(0,v.T)(),{error:l,percent:c,input:d}=(0,v.C)(f.Tz),p=c.equalTo(f.Ru),[w,N]=(0,g.A6)(),{0:O,1:_}=(0,j.useState)(""),{0:Z,1:P}=(0,j.useState)(!1);return(0,y.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,y.jsxs)("div",{className:"grid gap-2",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(b.Z,{variant:"xs",weight:700,className:"text-high-emphesis",children:i._(i._("Slippage tolerance"))}),(0,y.jsx)(u.Z,{text:i._(i._("Your transaction will revert if the price changes unfavorably by more than this percentage."))})]}),(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)("div",{className:(0,x.AK)(l===f.Hd.INVALID_INPUT?"border-red/60":l===f.Hd.TOO_LOW||l===f.Hd.TOO_HIGH?"border-yellow/60":p?"border-dark-800":"border-blue","border-2 h-[36px] flex items-center px-2 rounded-[5px] bg-dark-1000/40"),tabIndex:-1,children:(0,y.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[l===f.Hd.TOO_LOW||l===f.Hd.TOO_HIGH?(0,y.jsx)(m.Z,{className:"text-yellow",width:24}):null,(0,y.jsx)("input",{id:"text-slippage",className:(0,x.AK)(l===f.Hd.INVALID_INPUT?"text-red":"","bg-transparent placeholder-low-emphesis min-w-0 w-full font-bold"),placeholder:null===t||void 0===t?void 0:t.toFixed(2),value:d,onChange:e=>a((0,f.l_)(e.target.value)),onBlur:()=>l===f.Hd.INVALID_INPUT?a((0,f.l_)(f.QK)):a((0,f.w5)()),color:l===f.Hd.INVALID_INPUT?"red":"",autoComplete:"off"}),"%"]})}),(0,y.jsx)("div",{children:(0,y.jsx)(o.ZP,{size:"sm",color:p?"blue":"gray",variant:"outlined",onClick:()=>a((0,f.l_)(f.QK)),children:i._(i._("Auto"))})})]}),l?(0,y.jsx)(b.Z,{className:(0,x.AK)(l===f.Hd.INVALID_INPUT?"text-red":"text-yellow","font-medium flex items-center space-x-2"),variant:"xs",weight:700,children:(0,y.jsx)("div",{children:l===f.Hd.INVALID_INPUT?i._(i._("Enter a valid slippage percentage")):l===f.Hd.TOO_HIGH?i._(i._("Your transaction may be frontrun")):i._(i._("Your transaction may fail"))})}):null]}),!r&&(0,y.jsxs)("div",{className:"grid gap-2",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(b.Z,{variant:"xs",weight:700,className:"text-high-emphesis",children:i._(i._("Transaction deadline"))}),(0,y.jsx)(u.Z,{text:i._(i._("Your transaction will revert if it is pending for more than this long."))})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2",children:[(0,y.jsx)("input",{className:(0,x.AK)(Z?"text-red":"","font-bold h-[36px] placeholder-low-emphesis bg-dark-1000/40 border-2 border-dark-800 rounded-[5px] px-2  max-w-[100px] focus:border-blue"),placeholder:(h.PY/60).toString(),value:O.length>0?O:w===h.PY?"":(w/60).toString(),onChange:e=>function(e){if(_(e),P(!1),0===e.length)N(h.PY);else try{const t=Math.floor(60*Number.parseFloat(e));!Number.isInteger(t)||t<60||t>=Number.MAX_SAFE_INTEGER?P(n.InvalidInput):N(t)}catch(t){console.error(t),P(n.InvalidInput)}}(e.target.value),onBlur:()=>{_(""),P(!1)},color:Z?"red":""}),(0,y.jsx)(b.Z,{variant:"sm",weight:700,className:"text-secondary",children:i._(i._("minutes"))})]})]})]})},N=r(7582),O=r(12614),_=r(90849);var Z=e=>{let{placeholderSlippage:t,className:r,trident:n=!1}=e;const{i18n:m}=(0,s.mV)(),{chainId:h}=(0,O.aQ)(),v=(0,_.nU)(),[f,Z]=(0,g.DG)(),[P,k]=(0,g.RO)(),{0:C,1:A}=(0,j.useState)(!1),[I,S]=(0,g.Cp)();(0,N.Z)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.Z,{placement:"bottom-end",content:(0,y.jsxs)("div",{className:"flex flex-col gap-3 p-3 w-80",style:{background:"#0c1d31",borderRadius:"5px",boxShadow:"0px 0px 20px 5px #1f4a7d",border:"2px solid #1f4a7d"},children:[(0,y.jsxs)("div",{className:"flex flex-col gap-4 p-3 border rounded border-dark-800/60",children:[(0,y.jsx)(b.Z,{variant:"xs",weight:700,className:"text-secondary",children:m._(m._("Transaction Settings"))}),(0,y.jsx)(w,{placeholderSlippage:t,trident:n})]}),(0,y.jsxs)("div",{className:"flex flex-col gap-3 p-3 border rounded border-dark-800/60",children:[(0,y.jsx)(b.Z,{variant:"xs",weight:700,className:"text-secondary",children:m._(m._("Interface Settings"))}),(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(b.Z,{variant:"xs",className:"text-high-emphesis",weight:700,children:m._(m._("Toggle Wizard Mode"))}),(0,y.jsx)(u.Z,{text:m._(m._("Wizard Mode is for experienced investors only! Use at your own risk."))})]}),(0,y.jsx)(p.Z,{size:"sm",id:"toggle-expert-mode-button",checked:f,onChange:f?()=>{Z(),A(!1)}:()=>{v(),A(!0)},checkedIcon:(0,y.jsx)(i.Z,{className:"text-white"}),uncheckedIcon:(0,y.jsx)(l.Z,{}),color:"gradient"})]}),!n&&(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{className:"flex items-center",children:[(0,y.jsx)(b.Z,{variant:"xs",className:"text-high-emphesis",weight:700,children:m._(m._("Disable multihops"))}),(0,y.jsx)(u.Z,{text:m._(m._("Restricts swaps to direct pairs only."))})]}),(0,y.jsx)(p.Z,{size:"sm",id:"toggle-disable-multihop-button",checked:P,onChange:()=>k(!P),checkedIcon:(0,y.jsx)(i.Z,{className:"text-dark-700"}),uncheckedIcon:(0,y.jsx)(l.Z,{}),color:"gradient"})]})]})]}),children:(0,y.jsx)("div",{className:(0,x.AK)(r,"flex items-center justify-center w-10 h-10 rounded-full cursor-pointer"),children:(0,y.jsx)(a.Z,{className:"w-[26px] h-[26px] transform rotate-90 hover:text-blue-400"})})}),(0,y.jsx)(c.Z.Controlled,{isOpen:C,onDismiss:()=>A(!1),maxWidth:"md",children:(0,y.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,y.jsx)(c.Z.Header,{header:m._(m._("Confirm")),onClose:()=>A(!1)}),(0,y.jsxs)(c.Z.BorderedContent,{className:"flex flex-col gap-3 !border-yellow/40",children:[(0,y.jsx)(b.Z,{variant:"xs",weight:700,className:"text-white",children:m._(m._("Only use this mode if you know what you are doing."))}),(0,y.jsx)(b.Z,{variant:"sm",weight:700,className:"text-red",children:m._(m._("Enabling wizard mode disables the confirmation prompt for transactions and permits high slippage\ntrades, which can often lead to unfavorable exchange rates and potential loss of funds."))})]}),(0,y.jsx)(o.ZP,{id:"confirm-expert-mode",color:"blue",variant:"filled",onClick:()=>{Z(),A(!1)},children:m._(m._("Enable Wizard Mode"))})]})})]})}},90560:function(e,t,r){"use strict";var n=r(14744),i=r(97448),a=r(71862),s=r(46430),o=r(56785),l=r(38239),c=r(25183),d=r(44554),u=r(69137),p=r(12614),m=r(49552),h=r.n(m),x=r(67294),v=r(85893);t.Z=()=>{const{i18n:e}=(0,n.mV)(),{chainId:t}=(0,p.aQ)(),{pending:r}=(0,c.Z)(),{approve:m,approvalState:f}=(0,u.ZP)(t?i.A2[t]:void 0,{}),{0:g,1:j}=(0,x.useState)(),b=r.totalOrders>0&&f===u.kG.NOT_APPROVED&&!h().get("disableLimitOrderGuard")&&"undefined"!==typeof g&&!g;return t&&!(0,d.vR)(l.L.LIMIT_ORDERS,t)?(0,v.jsx)(v.Fragment,{}):(0,v.jsx)(s.Z.Controlled,{isOpen:b,onDismiss:()=>j(!0),maxWidth:"sm",children:(0,v.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,v.jsx)(s.Z.Header,{header:e._(e._("Approve Master Contract")),onClose:()=>j(!0)}),(0,v.jsx)(s.Z.BorderedContent,{className:"bg-dark-1000/40",children:(0,v.jsx)(o.Z,{variant:"sm",children:e._(e._("It seems like you have open orders while the limit order master contract is not approved. Please make\nsure you approved the limit order master contract or the order will not execute"))})}),(0,v.jsxs)("div",{className:"flex justify-end gap-6",children:[(0,v.jsx)(a.ZP,{color:"blue",size:"sm",variant:"empty",onClick:()=>h().set("disableLimitOrderGuard",!0),children:e._(e._("Do not show again"))}),(0,v.jsx)(a.ZP,{loading:f===u.kG.PENDING,color:"blue",size:"sm",onClick:m,children:e._(e._("Approve"))})]})]})})}},25183:function(e,t,r){"use strict";var n=r(59499),i=r(31518),a=r(97448),s=r(53389),o=r(62483),l=r(12614),c=r(67294),d=r(8100);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m="".concat(a.Zu,"/orders/view"),h=(e,t,r,n,i)=>fetch(e,{method:"POST",body:JSON.stringify({address:t,chainId:r,page:i,pendingPage:n}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.data));t.Z=()=>{const{account:e,chainId:t}=(0,l.aQ)(),r=(0,s.JY)(),n=(0,o.e_)(),{0:u,1:x}=(0,c.useState)({pending:{page:1,maxPages:0,data:[],loading:!0,totalOrders:0},completed:{page:1,maxPages:0,data:[],loading:!0,totalOrders:0}}),v=(0,c.useMemo)((()=>m&&e&&t?[m,e,t,u.pending.page,u.completed.page]:null),[e,t,u.completed.page,u.pending.page]),{data:f,mutate:g}=(0,d.ZP)(v,h),j=(0,c.useCallback)((e=>{x((t=>p(p({},t),{},{pending:p(p({},t.pending),{},{page:e,loading:!0})})))}),[]),b=(0,c.useCallback)((e=>{x((t=>p(p({},t),{},{completed:p(p({},t.completed),{},{page:e,loading:!0})})))}),[]);return(0,c.useEffect)((()=>{if(!e||!t||!f||!f.pendingOrders||!f.otherOrders||!Array.isArray(f.pendingOrders.orders)||!Array.isArray(f.otherOrders.orders))return;const r=async e=>{const r=a.eN.getLimitOrder(p(p({},e),{},{stopPrice:"0",chainId:+e.chainId,tokenInDecimals:+e.tokenInDecimals,tokenOutDecimals:+e.tokenOutDecimals})),s=r.amountIn.currency,o=r.amountOut.currency,l=e.filledAmount?i.ih.fromRawAmount(s,e.filledAmount):void 0;return{id:e._id,tokenIn:n[s.address]||new i.WU(t,s.address.toLowerCase(),s.decimals,s.symbol),tokenOut:n[o.address]||new i.WU(t,o.address.toLowerCase(),o.decimals,o.symbol),limitOrder:r,filledPercent:e.status===a.iF.FILLED?"100":l?new i.gG(l.quotient,r.amountIn.quotient).toSignificant(2):"0.00",status:e.status,rate:new i.tA({baseAmount:r.amountIn,quoteAmount:r.amountOut})}};(async()=>{const e=await Promise.all(f.pendingOrders.orders.map(((e,t)=>r(p(p({},e),{},{filledAmount:f.pendingOrders.filledAmounts[t]}))))),t=await Promise.all(f.otherOrders.orders.map((e=>r(e))));x((r=>({pending:p(p({},r.pending),{},{data:e,maxPages:f.pendingOrders.pendingOrderMaxPage,loading:!1,totalOrders:f.pendingOrders.totalPendingOrders}),completed:p(p({},r.completed),{},{data:t,maxPages:f.otherOrders.maxPage,loading:!1,totalOrders:f.otherOrders.totalOrders})})))})()}),[e,t,f,r,j,b]),(0,c.useMemo)((()=>p(p({},u),{},{pending:p(p({},u.pending),{},{setPage:j}),completed:p(p({},u.completed),{},{setPage:b}),mutate:g})),[g,b,j,u])}},15503:function(e,t,r){"use strict";var n=r(31518),i=r(56785),a=r(44554),s=r(53389),o=r(67294),l=r(85893);t.Z=e=>{var t,r,c,d;let{price:u,inputCurrency:p,outputCurrency:m,showInverted:h,setShowInverted:x,className:v}=e;const f=(0,s.oF)(p),g=(0,s.oF)(m);let j;try{var b;j=h?null===u||void 0===u?void 0:u.toSignificant(4):null===u||void 0===u||null===(b=u.invert())||void 0===b?void 0:b.toSignificant(4)}catch(_){j="0"}const y=h?"".concat(null===u||void 0===u||null===(t=u.quoteCurrency)||void 0===t?void 0:t.symbol):"".concat(null===u||void 0===u||null===(r=u.baseCurrency)||void 0===r?void 0:r.symbol," "),w=h?"".concat(null===u||void 0===u||null===(c=u.baseCurrency)||void 0===c?void 0:c.symbol," "):"".concat(null===u||void 0===u||null===(d=u.quoteCurrency)||void 0===d?void 0:d.symbol),N=(0,o.useCallback)((()=>x(!h)),[x,h]),O=h?f:g;return(0,l.jsx)("button",{type:"button",onClick:N,className:(0,a.AK)("flex w-full gap-1 cursor-pointer hover:text-white select-none",v),children:(0,l.jsxs)(i.Z,{variant:"xs",weight:700,className:"flex gap-1 tracking-[0.06em] text-white",children:["1 ",w," ",(0,l.jsx)("span",{className:"text-primary",children:"="})," ",j," ",y,(null===O||void 0===O?void 0:O.greaterThan(n.xE))&&(0,l.jsxs)(i.Z,{variant:"xs",component:"span",className:"text-secondary",children:["($",null===O||void 0===O?void 0:O.toSignificant(6),")"]})]})})}},59497:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(14744),i=r(64958),a=r(94492),s=r(56785),o=r(80943),l=r(44554),c=(r(67294),r(85893));const d={gray:"bg-dark-700",blue:"bg-blue",pink:"bg-pink",red:"bg-red"};var u=e=>{let{children:t,color:r,value:n}=e;return(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("div",{className:(0,l.AK)(d[r],"ring ring-dark-900/40 flex items-center justify-center shadow-md absolute top-[-6px] right-[-6px] h-4 w-4 rounded-full p-1 pointer-events-none"),children:(0,c.jsx)(s.Z,{variant:"xxs",component:"span",className:"text-white",children:n})}),t]})},p=r(54962),m=r(25183),h=r(41664),x=r.n(h);var v=()=>{const{i18n:e}=(0,n.mV)(),{pending:t}=(0,m.Z)(),r=(0,c.jsx)(p.Z,{text:e._(e._("Open orders")),icon:(0,c.jsx)(o.Z,{width:24,height:24,className:"cursor-pointer hover:text-white"})});return(0,c.jsx)(x(),{href:"/limit-order/open",children:(0,c.jsx)("a",{children:t.totalOrders>0?(0,c.jsx)(u,{color:"blue",value:t.totalOrders,children:r}):r})})},f=r(12614),g=r(11163);const j=(e,t)=>{if(e||t)return e&&!t?{inputCurrency:e.address||"ETH"}:e&&t?{inputCurrency:e.address,outputCurrency:t.address}:void 0};var b=e=>{let{inputCurrency:t,outputCurrency:r,trident:o=!1}=e;const{chainId:l}=(0,f.aQ)(),{i18n:d}=(0,n.mV)(),{asPath:u}=(0,g.useRouter)(),p=u.startsWith("/limit-order");return(0,c.jsxs)("div",{className:"flex items-center justify-between gap-1",children:[(0,c.jsx)("div",{className:"flex gap-4",children:(0,c.jsx)(i.Z,{activeClassName:"text-high-emphesis",href:{pathname:"/swap",query:j(t,r)},children:(0,c.jsx)(s.Z,{weight:700,className:"text-secondary hover:text-white",children:d._(d._("Swap"))})})}),(0,c.jsxs)("div",{className:"flex gap-4",children:[p&&(0,c.jsx)(v,{}),(0,c.jsx)(a.Z,{className:"!w-6 !h-6",trident:o})]})]})}},87433:function(e,t,r){"use strict";var n=r(14744),i=r(31518),a=r(46430),s=r(64958),o=r(56785),l=r(87269),c=r(10552),d=r(90662),u=r(12614),p=r(49552),m=r.n(p),h=r(25675),x=r.n(h),v=r(67294),f=r(85893);const g=e=>{var t;let{children:r,feature:p,asModal:h=!0}=e;const{i18n:g}=(0,n.mV)(),{chainId:j,library:b,account:y}=(0,u.aQ)(),w=(0,f.jsx)(s.Z,{href:"/swap",children:(0,f.jsx)("a",{className:"text-blue focus:outline-none",children:g._(g._("home page"))})}),N=Object.entries(l.Z).reduce(((e,t)=>{let[r,n]=t;return n.includes(p)&&e.push(r),e}),[]),O=(0,f.jsx)("div",{className:"flex justify-center lg:mt-[200px]",children:(0,f.jsxs)("div",{className:"flex flex-col gap-5 justify-center p-4 mt-10 lg:mt-0",children:[(0,f.jsx)(o.Z,{variant:"h1",className:"max-w-2xl text-white text-center",weight:700,children:g._(g._("This feature is not yet supported on the {0} network",{0:c.z[j]}))}),(0,f.jsxs)(o.Z,{className:"text-center max-w-[248px] mx-auto",children:[(0,f.jsx)(n.cC,{id:"Either return to the {link}",values:{link:w},components:v.Fragment})," ",g._(g._("or change to an available network"))]}),(0,f.jsx)(o.Z,{variant:"sm",className:"uppercase text-center tracking-[.2rem] mt-10 mb-5",weight:700,children:g._(g._("Available Networks"))}),(0,f.jsx)("div",{className:"grid grid-cols-[repeat(2,_100px)] md:grid-cols-[repeat(4,_100px)] gap-y-10 justify-center",children:N.map(((e,t)=>(0,f.jsxs)("button",{className:"text-primary hover:text-white flex items-center flex-col gap-2 justify-center",onClick:()=>{const t=d.b[e];m().set("chainId",e),e===i.a_.ETHEREUM.toString()?null===b||void 0===b||b.send("wallet_switchEthereumChain",[{chainId:"0x1"},y]):e===i.a_.KOVAN.toString()?null===b||void 0===b||b.send("wallet_switchEthereumChain",[{chainId:"0x2A"},y]):null===b||void 0===b||b.send("wallet_addEthereumChain",[t,y])},children:[(0,f.jsx)("div",{className:"w-[40px] h-[40px]",children:(0,f.jsx)(x(),{src:c.w[e],alt:"Switch Network",className:"rounded-md filter drop-shadow-currencyLogo",width:"40px",height:"40px"})}),(0,f.jsx)(o.Z,{variant:"sm",weight:700,className:"text-white",children:c.z[e]})]},t)))})]})});return h?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z.Controlled,{isOpen:!!y&&!(null!==(t=l.Z[j])&&void 0!==t&&t.includes(p)),onDismiss:()=>null,transparent:!0,children:O}),r]}):y&&!l.Z[j].includes(p)?O:(0,f.jsx)(f.Fragment,{children:r})};t.Z=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?t=>{let{children:r}=t;return(0,f.jsx)(g,{feature:e,children:r})}:t=>{let{children:r}=t;return(0,f.jsx)(g,{feature:e,asModal:!1,children:r})}}},46472:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(84853),i=r(30526),a=r(29325);function s(e){const t=(0,n.UJ)(e),r=(0,a.Z)(t||void 0),s=(0,i.Z)(e);return{loading:r.loading||s.loading,address:t||s.address,name:r.ENSName?r.ENSName:!t&&s.address&&e||null}}},30526:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(27586),i=r(2886),a=r(67294),s=r(44554),o=r(54907),l=r(96107);function c(e){var t,r,c;const d=(0,l.Z)(e,200),u=(0,a.useMemo)((()=>{if(!d)return[void 0];try{return d?[(0,n.VM)(d)]:[void 0]}catch(e){return[void 0]}}),[d]),p=(0,o.zb)(!1),m=(0,i.Wk)(p,"resolver",u),h=null===(t=m.result)||void 0===t?void 0:t[0],x=(0,o.uU)(h&&!(0,s.Fr)(h)?h:void 0,!1),v=(0,i.Wk)(x,"addr",u),f=d!==e;return{address:f?null:null!==(r=null===(c=v.result)||void 0===c?void 0:c[0])&&void 0!==r?r:null,loading:f||m.loading||v.loading}}},9557:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(80129),i=r(67294);function a(){const e=location.search;return(0,i.useMemo)((()=>e&&e.length>1?(0,n.parse)(e,{parseArrays:!1,ignoreQueryPrefix:!0}):{}),[e])}},94633:function(e,t,r){"use strict";r.d(t,{Gj:function(){return d},SA:function(){return o},ZP:function(){return l},or:function(){return c}});var n=r(31518),i=r(84329),a=r(12614),s=r(67294);function o(e){const{chainId:t}=(0,a.aQ)(),r=t&&n.qY[t]?n.ih.fromRawAmount(n.qY[t],0).currency:void 0,{data:o}=(0,i.k$)({chainId:t}),l=(0,i.rU)({chainId:t,variables:{where:{id_in:null===e||void 0===e?void 0:e.map((e=>e.wrapped.address.toLowerCase()))}},shouldFetch:e&&(null===e||void 0===e?void 0:e.length)>0}),{data:c}=(0,i.EO)({chainId:t,variables:{where:{id_in:null===e||void 0===e?void 0:e.map((e=>e.wrapped.address.toLowerCase()))}},shouldFetch:e&&(null===e||void 0===e?void 0:e.length)>0});return(0,s.useMemo)((()=>{if(!e||0===e.length||!r||!l&&!c)return;const t={};return e.map((e=>{let i;const a=null===l||void 0===l?void 0:l.find((t=>t.id===e.wrapped.address.toLowerCase())),s=null===c||void 0===c?void 0:c.find((t=>t.id===e.wrapped.address.toLowerCase()));if(null!==e&&void 0!==e&&e.wrapped.equals(r))t[e.wrapped.address]=new n.tA(r,r,"1","1");else if(a&&s?i=a.liquidity>s.kpi.liquidity?o*a.derivedETH:s.price.derivedUSD:o&&a?i=o*a.derivedETH:s&&(i=s.price.derivedUSD),void 0!==i&&0!==i){var d,u,p;const a=10**(null!==(d=null===(u=String(i).split("."))||void 0===u||null===(p=u[1])||void 0===p?void 0:p.length)&&void 0!==d?d:0),s=Math.floor(i*a);try{t[e.wrapped.address]=new n.tA(e,r,a*10**e.decimals/10**r.decimals,s)}catch{}}})),t}),[e,r,l,c,o])}function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=o(e?[e]:void 0,t);return r?Object.values(r)[0]:void 0}function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=l(null===e||void 0===e?void 0:e.currency,t);return(0,s.useMemo)((()=>{if(!r||!e)return null;try{return r.quote(e)}catch(t){return null}}),[e,r])}function d(e){const t=l(null===e||void 0===e?void 0:e.currency);return(0,s.useMemo)((()=>{if(!t||!e)return{value:void 0,loading:!1};try{return{value:t.quote(e),loading:!1}}catch(r){return{value:void 0,loading:!1}}}),[e,t])}},7582:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(10915);function i(){return!(0,n.Z)()}},1420:function(e,t,r){"use strict";r.d(t,{Pf:function(){return m},yz:function(){return u}});var n=r(59499),i=r(72457),a=r(3382),s=r(44554),o=(r(67294),r(85893));var l=function(){return(0,o.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",maxHeight:"75vh",paddingTop:"25px",overflow:"hidden"},children:(0,o.jsx)("div",{style:{maxWidth:"100%",height:"auto"},children:(0,o.jsx)("a",{href:"https://depot.steamexchange.io",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:(0,o.jsx)("image",{href:"https://github.com/divechan/brandkit/blob/main/depot%20ad.jpg?raw=true",style:{width:"100%"}})})})})},c=r(76138);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const u=e=>{let{children:t,className:r}=e;return(0,o.jsx)("div",{className:(0,s.AK)("flex flex-col gap-3 p-2 md:p-4 pt-4",r),style:{background:"rgba(12, 29, 49, 0.1)",borderRadius:"5px",boxShadow:"0px 0px 20px 5px #1f4a7d",border:"2px solid #1f4a7d"},children:t})},p=e=>{let{children:t,id:r}=e;return(0,o.jsx)(c.Z,{children:(0,o.jsxs)(i.Z,{id:r,className:"py-4 md:py-12 lg:py-[120px] px-2 mx-auto",maxWidth:"md",children:[(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",style:window.innerWidth>=769?{backgroundImage:"url(https://github.com/divechan/brandkit/blob/main/10.jpg?raw=true)",backgroundSize:"cover",opacity:.25,zIndex:0}:null,"aria-hidden":"true"}),(0,o.jsx)(a.Z,{children:t})]}),(0,o.jsx)(l,{})]})})},m=e=>t=>(0,o.jsx)(p,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e},t))},80759:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ce}});var n=r(59499),i=r(67484),a=r(14744),s=r(31518),o=r(99140),l=r(15205),c=r(56785),d=r(38239),u=r(90560),p=r(97448),m=r(71862),h=r(25183),x=r(44554),v=r(53389),f=r(61647),g=r(12614),j=r(90849),b=r(16339),y=r(60118),w=r(32601),N=r(62483),O=r(15423),_=r(46472),Z=(r(9557),r(56388)),P=r(627),k=r(67294),C=r(25617),A=r(73165);function I(){return(0,C.v9)(A.SX)}const S=()=>{var e,t;const{chainId:r}=(0,g.aQ)(),{inputCurrencyId:n,outputCurrencyId:i}=I(),a=null!==(e=(0,N.U8)("SUSHI"===n?s.He[r||1]:n))&&void 0!==e?e:void 0,o=null!==(t=(0,N.U8)("SUSHI"===i?s.He[r||1]:i))&&void 0!==t?t:void 0;return(0,k.useMemo)((()=>({inputCurrency:a,outputCurrency:o})),[a,o])},T=()=>{const{limitPrice:e,invertRate:t}=I(),{inputCurrency:r,outputCurrency:n}=S();return(0,k.useMemo)((()=>{const i=(0,x.eo)(t?e:"1",r),a=(0,x.eo)(t?"1":e,n);return i&&a&&r&&n?new s.tA({baseAmount:i,quoteAmount:a}):void 0}),[r,t,e,n])},E=()=>{const{typedField:e}=I(),{inputCurrency:t,outputCurrency:r}=S(),n=(()=>{const{inputCurrency:e,outputCurrency:t}=S(),{typedField:r,typedValue:n}=I();return(0,k.useMemo)((()=>{var i;const a=r===y.gN.INPUT;return(0,x.eo)(n,null!==(i=a?e:t)&&void 0!==i?i:void 0)}),[e,t,r,n])})(),[i]=(0,P.RO)(),a=e===y.gN.INPUT,o=t?n||s.ih.fromRawAmount(t,s.QA.exponentiate(s.QA.BigInt(10),s.QA.BigInt(t.decimals))):void 0,l=(0,Z.w)(a?o:void 0,null!==r&&void 0!==r?r:void 0,{maxHops:i?1:void 0}),c=(0,Z.k)(null!==t&&void 0!==t?t:void 0,a?void 0:o,{maxHops:i?1:void 0});return(0,k.useMemo)((()=>{var e;return null!==(e=a?l:c)&&void 0!==e?e:void 0}),[l,c,a])};var D=S,M=r(68411),U=r(2593);var F=()=>{const{account:e,chainId:t,library:r}=(0,g.aQ)(),{inputCurrency:n}=S(),{rebase:i}=(0,f.C)(n),a=(0,b.T)(),s=(0,v.rO)(),o=(0,v.wq)(),l=(0,M.h7)(),c=t?p.A2[t]:void 0,d=(0,j.i$)(),{mutate:u}=(0,h.Z)(),{deposit:m}=(0,v.x7)(c),w=(0,k.useCallback)((async t=>{let{inputAmount:r,bentoPermit:n}=t;const{v:i,r:s,s:d}=n,u=r.quotient.toString();try{const t=await(null===o||void 0===o?void 0:o.estimateGas.depositAndApprove(e,c,!0,i,s,d,{value:u}));if(t){a((0,y.fM)(!0));const n=await(null===o||void 0===o?void 0:o.depositAndApprove(e,c,!0,i,s,d,{value:u,gasLimit:(0,x.Wt)(t)}));return await n.wait(),l(n,{summary:"Approve limit orders and Deposit ".concat(r.currency.symbol," into BentoBox")}),a((0,y.fM)(!1)),a((0,y.Oi)(void 0)),n}}catch(p){a((0,y.fM)(!1)),console.error(p)}}),[e,l,a,c,o]);return{deposit:(0,k.useCallback)((async e=>{let{inputAmount:t,bentoPermit:r,fromBentoBalance:n}=e;if(!s||!c||!t)throw new Error("Dependencies unavailable");const o=U.O$.from(t.quotient.toString());if(t.currency.isNative&&r)return w({inputAmount:t,bentoPermit:r});if(!n)try{if(!i)return void console.error("Dependencies unavailable");a((0,y.fM)(!0));const e=await m(t.currency,i,o,r);return a((0,y.fM)(!1)),a((0,y.Oi)(void 0)),e}catch(l){a((0,y.fM)(!1))}}),[m,s,w,a,c,i]),execute:(0,k.useCallback)((async n=>{let{orderExpiration:i,inputAmount:s,outputAmount:o,recipient:l}=n;if(!s||!o||!e||!r)throw new Error("Dependencies unavailable");const c=(e=>{switch(e){case A.FJ.hour:return Math.floor((new Date).getTime()/1e3)+3600;case A.FJ.day:return Math.floor((new Date).getTime()/1e3)+86400;case A.FJ.week:return Math.floor((new Date).getTime()/1e3)+604800;case A.FJ.never:default:return Number.MAX_SAFE_INTEGER}})(i),m=new p.eN(e,s.wrapped,o.wrapped,l||e,Math.floor((new Date).getTime()/1e3).toString(),c.toString());try{a((0,y.fM)(!0)),await(null===m||void 0===m?void 0:m.signOrderWithProvider(t||1,r));(await(null===m||void 0===m?void 0:m.send())).success&&(d({txn:{hash:"",summary:"Limit order created",success:!0}}),await u(),a((0,y.ZH)())),a((0,y.fM)(!1))}catch(v){var h,x;a((0,y.fM)(!1)),d({txn:{hash:"",summary:"Error: ".concat(null===v||void 0===v||null===(h=v.response)||void 0===h||null===(x=h.data)||void 0===x?void 0:x.data),success:!1}})}}),[e,d,t,a,r,u])}},L=r(49932),H=r(85893);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=e=>{let{trade:t,parsedAmounts:r}=e;const{i18n:n}=(0,a.mV)(),{chainId:i}=(0,g.aQ)(),o=(0,b.T)(),{fromBentoBalance:l,bentoPermit:d,attemptingTxn:u,recipient:h}=I(),{address:f}=(0,_.Z)(h),j=(e=>{let{trade:t}=e;const{recipient:r,orderExpiration:n,fromBentoBalance:i,limitPrice:a,typedValue:o}=I(),{account:l}=(0,g.aQ)(),{inputCurrency:c,outputCurrency:d}=S(),u=(0,_.Z)(r),p=r?u.address:l,m=T(),h=(0,O.C)(null!==l&&void 0!==l?l:void 0,c,!i),[v]=(0,P.DG)();return(0,k.useMemo)((()=>l?null!==t&&void 0!==t&&t.inputAmount.greaterThan(s.xE)&&o?c&&d?p&&(0,x.UJ)(p)?a!==y.gx.CURRENT&&null!==m&&void 0!==m&&m.equalTo(s.xE)?w.ag._(w.ag._("Select a rate")):n?h?!v&&h&&null!==t&&void 0!==t&&t.inputAmount&&h.lessThan(t.inputAmount)?w.ag._(w.ag._("Insufficient Balance")):"":w.ag._(w.ag._("Loading balance")):w.ag._(w.ag._("Select an order expiration")):w.ag._(w.ag._("Enter a valid recipient address")):w.ag._(w.ag._("Select a token")):w.ag._(w.ag._("Enter an amount")):"Connect Wallet"),[l,h,v,c,a,n,d,m,p,null===t||void 0===t?void 0:t.inputAmount,o])})({trade:t}),{deposit:N}=F(),Z=(0,v.rO)(),C=i?p.A2[i]:void 0,{0:A,1:E}=(0,k.useState)(!1),D=(0,k.useCallback)((async e=>{const t=await N(e);null!==t&&void 0!==t&&t.hash&&o((0,y.vV)(!0))}),[N,o]),M=(0,k.useCallback)((async()=>{null!==r&&void 0!==r&&r.inputAmount&&(l?o((0,y.nO)(!0)):await D({inputAmount:null===r||void 0===r?void 0:r.inputAmount,bentoPermit:d,fromBentoBalance:l}))}),[D,d,o,l,null===r||void 0===r?void 0:r.inputAmount]);return(0,H.jsxs)(H.Fragment,{children:[A&&(0,H.jsx)(c.Z,{variant:"sm",className:"p-4 text-center border rounded border-yellow/40 text-yellow",children:n._(n._("Something went wrong during signing of the approval. This is expected for hardware wallets, such as Trezor and Ledger. Click 'Approve BentoBox' again for approving using the fallback method"))}),(0,H.jsx)(L.Z,z(z({inputAmounts:[null===t||void 0===t?void 0:t.inputAmount],tokenApproveOn:null===Z||void 0===Z?void 0:Z.address,masterContractAddress:C},l?{withPermit:!1}:{withPermit:!0,permit:d,onPermit:e=>o((0,y.Oi)(e)),onPermitError:()=>E(!0)}),{},{children:e=>{let{approved:t,loading:r}=e;const i=!!j||!t||r||u||Boolean(h&&!f&&j);return(0,H.jsx)(m.ZP,{loading:r||u,color:"gradient",disabled:i,onClick:M,className:"rounded-2xl md:rounded",children:j||(l?n._(n._("Review Limit Order")):n._(n._("Confirm Deposit")))})}}))]})},V=r(52358),q=r(27801),W=r(70028),K=r(15503);var G=e=>{let{parsedAmounts:t,trade:r,limitPrice:n}=e;const{0:i,1:o}=(0,k.useState)(!1),{showReview:l,orderExpiration:d,recipient:u,attemptingTxn:p}=I(),h=(0,b.T)(),{i18n:v}=(0,a.mV)(),{execute:f}=F(),g=(0,k.useCallback)((()=>{null!==t&&void 0!==t&&t.inputAmount&&null!==t&&void 0!==t&&t.outputAmount&&f({orderExpiration:d.value,recipient:u,outputAmount:t.outputAmount,inputAmount:t.inputAmount})}),[f,d.value,t.inputAmount,t.outputAmount,u]),j=(0,k.useMemo)((()=>{if(n&&r){const{numerator:e,denominator:t}=n.subtract(r.executionPrice).divide(r.executionPrice);return new s.gG(e,t)}}),[n,r]);return(0,H.jsx)(W.S.Controlled,{isOpen:l,onDismiss:()=>h((0,y.nO)(!1)),maxWidth:"sm",children:(0,H.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,H.jsx)(W.S.Header,{header:v._(v._("Confirm order")),onClose:()=>h((0,y.nO)(!1))}),(0,H.jsxs)(W.S.BorderedContent,{className:"flex flex-col gap-2 bg-dark-1000/40",children:[(0,H.jsx)(c.Z,{weight:700,variant:"sm",className:"text-secondary",children:v._(v._("You'll pay"))}),(0,H.jsx)(q.Z,{items:[(0,H.jsx)(q.Z.CurrencyAmountItem,{amount:null===t||void 0===t?void 0:t.inputAmount},0)]}),(0,H.jsx)("div",{className:"flex justify-center mt-2 -mb-2",children:(0,H.jsx)(V.Z,{width:14,className:"text-secondary"})}),(0,H.jsx)(c.Z,{weight:700,variant:"sm",className:"justify-end text-secondary",children:v._(v._("You'll receive"))}),(0,H.jsx)(q.Z,{items:[(0,H.jsx)(q.Z.CurrencyAmountItem,{amount:null===t||void 0===t?void 0:t.outputAmount},0)]})]}),(0,H.jsxs)(W.S.BorderedContent,{className:"flex flex-col gap-1 !py-1 bg-dark-1000/40 divide-y divide-dark-900",children:[u&&(0,H.jsxs)("div",{className:"flex justify-between py-2",children:[(0,H.jsx)(c.Z,{variant:"sm",weight:700,children:v._(v._("Recipient"))}),(0,H.jsx)(c.Z,{variant:"sm",weight:700,children:(0,x.UJ)(u)&&(0,x.Xn)(u)})]}),(0,H.jsxs)("div",{className:"flex justify-between py-2",children:[(0,H.jsx)(c.Z,{variant:"sm",weight:700,children:v._(v._("Expiration"))}),(0,H.jsx)(c.Z,{variant:"sm",weight:700,children:d.label})]}),(0,H.jsxs)("div",{className:"flex flex-col gap-1 py-2",children:[(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)(c.Z,{variant:"sm",weight:700,children:v._(v._("Rate"))}),(0,H.jsx)(K.Z,{price:n,showInverted:i,setShowInverted:o,className:"justify-end text-primary"})]}),j&&(0,H.jsx)("div",{className:"flex justify-end",children:(0,H.jsxs)(c.Z,{variant:"xs",weight:700,className:null!==j&&void 0!==j&&j.greaterThan(s.xE)?"text-green":"text-red",children:[j.toSignificant(2),"% ",null!==j&&void 0!==j&&j.greaterThan(s.xE)?"above":"below"," market rate"]})})]})]}),(0,H.jsx)(c.Z,{variant:"xs",className:"text-center text-secondary",children:v._(v._("Please note that after order execution, your tokens will be received in your BentoBox"))}),(0,H.jsx)(m.ZP,{loading:p,color:"gradient",disabled:p,onClick:g,children:v._(v._("Create Limit Order"))})]})})},Q=r(39281);var J=e=>{let{trade:t,limitPrice:r}=e;const{i18n:n}=(0,a.mV)(),i=(0,b.T)(),{limitPrice:s,invertRate:o}=I(),{inputCurrency:l,outputCurrency:d}=D(),u=!l||!d;return(0,H.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,H.jsx)(c.Z,{variant:"sm",className:"px-2",children:n._(n._("Rate"))}),(0,H.jsxs)("div",{className:"flex justify-between items-baseline bg-dark-900 rounded px-4 py-1.5 border border-dark-700 hover:border-dark-600",children:[(0,H.jsx)(c.Z,{weight:700,variant:"lg",className:"relative flex items-baseline flex-grow gap-3 overflow-hidden",children:(0,H.jsx)(Q.Z.Numeric,{disabled:u,className:"leading-[32px] focus:placeholder:text-low-emphesis flex-grow w-full text-left bg-transparent text-inherit disabled:cursor-not-allowed",placeholder:t?t.executionPrice.toSignificant(6):"0.0",id:"limit-price-input",value:(s===y.gx.CURRENT?null===t||void 0===t?void 0:t.executionPrice.toSignificant(6):s)||"",onUserInput:e=>i((0,y.GJ)(e))})}),(0,H.jsx)(c.Z,{variant:"sm",onClick:()=>i((0,y.We)({invertRate:!o,limitPrice:r?o?null===r||void 0===r?void 0:r.toSignificant(6):null===r||void 0===r?void 0:r.invert().toSignificant(6):""})),children:o?null===l||void 0===l?void 0:l.symbol:null===d||void 0===d?void 0:d.symbol})]})]})},Y=r(56727),X=r(13342),$=r(54962);var ee=()=>{const{i18n:e}=(0,a.mV)(),t=(0,b.T)(),{orderExpiration:r}=I(),n=(0,k.useMemo)((()=>({[A.FJ.never]:e._(e._("Never")),[A.FJ.hour]:e._(e._("1 Hour")),[A.FJ.day]:e._(e._("24 Hours")),[A.FJ.week]:e._(e._("1 Week")),[A.FJ.month]:e._(e._("30 Days"))})),[e]),i=(0,k.useCallback)(((e,r)=>{t((0,y.tn)({label:n[r],value:r}))}),[t,n]);return(0,H.jsxs)("div",{className:"flex flex-col flex-grow gap-1",children:[(0,H.jsxs)(c.Z,{variant:"sm",className:"flex items-center px-2",children:[e._(e._("Expires in")),(0,H.jsx)($.Z,{text:e._(e._("Expiration is the time at which the order will become invalid"))})]}),(0,H.jsx)("div",{className:"flex items-center justify-between h-full px-4 py-2 border rounded bg-dark-900 border-dark-700 hover:border-dark-600",children:(0,H.jsxs)(Y.v2,{as:"div",className:"relative inline-block w-full text-left",children:[(0,H.jsx)(Y.v2.Button,{className:"w-full",children:(0,H.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[(0,H.jsx)(c.Z,{weight:700,variant:"sm",children:r.label}),(0,H.jsx)(X.Z,{className:"w-5 h-5 ml-2 -mr-1","aria-hidden":"true"})]})}),(0,H.jsx)(Y.uT,{as:k.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,H.jsx)(Y.v2.Items,{static:!0,className:"absolute z-10 w-full mt-2 overflow-auto border rounded shadow-lg bg-dark-900 border-dark-700 hover:border-dark-600",children:Object.entries(n).map((e=>{let[t,r]=e;return(0,H.jsx)(Y.v2.Item,{onClick:e=>i(e,t),children:e=>{let{active:t}=e;return(0,H.jsx)(c.Z,{variant:"sm",weight:700,className:(0,x.AK)(t?"text-white":"text-primary","px-3 py-2 cursor-pointer hover:bg-dark-900/40"),children:r})}},t)}))})})]})})]})},te=r(59497),re=r(92088),ne=r(87433),ie=r(1420),ae=r(2962);function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const le=()=>{var e,t;const{i18n:r}=(0,a.mV)(),n=(0,b.T)(),{chainId:p}=(0,g.aQ)(),[m]=(0,P.DG)(),{typedField:h,typedValue:v,fromBentoBalance:f,recipient:j}=I(),{inputCurrency:w,outputCurrency:N}=D(),O=E(),_=T(),Z=(e=>{let{rate:t,trade:r}=e;const{inputCurrency:n,outputCurrency:i}=S(),{typedField:a,typedValue:s}=I();return(0,k.useMemo)((()=>{const e=t||(null===r||void 0===r?void 0:r.executionPrice),o=a===y.gN.INPUT,l=o?n:i,c=(0,x.eo)(s,null!==l&&void 0!==l?l:void 0),d=n&&i&&e&&c?o?e.quote(c):e.invert().quote(c):void 0;return{inputAmount:o?c:d,outputAmount:o?d:c}}),[n,i,t,null===r||void 0===r?void 0:r.executionPrice,a,s])})({rate:_,trade:O}),{onSwitchTokens:C,onCurrencySelection:A,onUserInput:M}=function(){const e=(0,b.T)(),t=(0,k.useCallback)(((t,r)=>{e((0,y.j)({field:t,currencyId:r.isToken?r.address:r.isNative?"ETH":""}))}),[e]),r=(0,k.useCallback)((()=>{e((0,y.KS)())}),[e]),n=(0,k.useCallback)(((t,r)=>{e((0,y.LC)({field:t,typedValue:r}))}),[e]),i=(0,k.useCallback)((t=>{e((0,y.He)(t))}),[e]);return(0,k.useMemo)((()=>({onSwitchTokens:r,onCurrencySelection:t,onUserInput:n,onChangeRecipient:i})),[i,t,r,n])}(),U=(0,k.useMemo)((()=>(o.X[p||1]||[]).map((e=>{let[t,r]=e;return[t.address,r.address]}))),[p]),F=(0,k.useMemo)((()=>{if(_&&O){const{numerator:e,denominator:t}=_.subtract(O.executionPrice).divide(O.executionPrice).multiply(-1);return new s.gG(e,t)}}),[_,O]),L=(0,k.useMemo)((()=>0===U.length?[]:U.reduce(((e,t)=>{let[r,n]=t;return e.push(r),e.push(n),e}),[])),[U]),R=(0,k.useMemo)((()=>0===U.length?[]:w?U.reduce(((e,t)=>{let[r,n]=t;return w.wrapped.address===r&&e.push(n),w.wrapped.address===n&&e.push(r),e}),[]):U.reduce(((e,t)=>{let[r,n]=t;return e.push(r),e.push(n),e}),[])),[w,U]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(ae.PB,{title:"Limit Order"}),(0,H.jsxs)(ie.yz,{children:[(0,H.jsx)(u.Z,{}),(0,H.jsx)("div",{className:"px-2",children:p&&(0,H.jsx)(te.Z,{inputCurrency:w,outputCurrency:N,trident:(0,x.vR)(d.L.TRIDENT,p)})}),(0,H.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,H.jsx)(re.Z,{error:!1,header:re.Z.Header,walletToggle:e=>(0,H.jsx)(re.Z.Switch,oe(oe({id:"switch-classic-withdraw-from-0}"},e),{},{label:r._(r._("Pay from")),onChange:()=>n((0,y.vV)(!f))})),selected:!0,spendFromWallet:!f,currency:w,value:(h===y.gN.INPUT?v:null===Z||void 0===Z||null===(e=Z.inputAmount)||void 0===e?void 0:e.toSignificant(6))||"",onChange:e=>M(y.gN.INPUT,e||""),onSelect:e=>A(y.gN.INPUT,e),currencies:L}),(0,H.jsxs)("div",{className:"flex gap-3",children:[(0,H.jsx)("div",{className:"flex flex-1",children:(0,H.jsx)(J,{trade:O,limitPrice:_||(null===O||void 0===O?void 0:O.executionPrice)})}),(0,H.jsx)(i.Z,{width:18,className:"mt-6 cursor-pointer text-secondary hover:text-white",onClick:C}),(0,H.jsx)("div",{className:"flex flex-1",children:(0,H.jsx)(ee,{})})]}),(0,H.jsx)(re.Z,{error:!1,header:re.Z.Header,selected:!0,currency:N,value:(h===y.gN.OUTPUT?v:null===Z||void 0===Z||null===(t=Z.outputAmount)||void 0===t?void 0:t.toSignificant(6))||"",onChange:e=>M(y.gN.OUTPUT,e||""),onSelect:e=>A(y.gN.OUTPUT,e),currencies:R,priceImpact:F,priceImpactCss:null!==F&&void 0!==F&&F.greaterThan(s.xE)?"text-green":"text-red"})]}),m&&(0,H.jsx)(l.Z,{recipient:j,action:y.He}),(0,H.jsx)(B,{trade:O,parsedAmounts:Z}),(0,H.jsx)(G,{parsedAmounts:Z,trade:O,limitPrice:_||(null===O||void 0===O?void 0:O.executionPrice)})]}),(0,H.jsx)(c.Z,{variant:"xs",className:"px-10 mt-5 text-center text-low-emphesis",children:r._(r._("Limit orders use funds from BentoBox, to create a limit order depositing into BentoBox is required."))}),(0,H.jsxs)(c.Z,{variant:"xs",className:"px-10 mt-5 text-center text-low-emphesis",children:[(0,H.jsx)(c.Z,{variant:"xs",weight:700,component:"span",children:"Tip"}),":"," ",r._(r._("When expert mode is enabled, balance isn't checked when creating orders. You can use this to chain limit\norders."))]})]})};le.Guard=(0,ne.Z)(d.L.LIMIT_ORDERS),le.Layout=(0,ie.Pf)("limit-order-page");var ce=le},29343:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/limit-order/[[...tokens]]",function(){return r(80759)}])},24654:function(){}},function(e){e.O(0,[8306,8529,9613,1436,1641,129,9895,6541,7032,9658,3608,2392,9774,2888,179],(function(){return t=29343,e(e.s=t);var t}));var t=e.O();_N_E=t}]);