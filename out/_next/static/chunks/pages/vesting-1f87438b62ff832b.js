(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[989],{56585:function(e,t,s){"use strict";s.d(t,{T:function(){return i.Z},i:function(){return n.i}});var n=s(37601),i=s(74703)},52624:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return te}});var n=s(19485),i=s(2593),o=s(71335),r=s(14744),l=s(71862),a=s(72457),c=s(15097),d=s(3382),u=s(50442),m=s(38212),f=s(54962),h=s(56585),x=s(34189),v=s(9456),p=s(51566),j=s(47630),b=s(24985),g=s(45897),w=s(2662),y=s(47448),N=s(87433),_=s(90849),k=s(36847),S=s(59499),O=s(31518),P=s(16682),I=s(92659),C=s(54907),Z=s(2886),E=s(12614),L=s(68411),A=s(67294);function H(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?H(Object(s),!0).forEach((function(t){(0,S.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):H(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const F={};function U(e){const{chainId:t}=(0,E.aQ)(),s="".concat(t,":").concat(e),{0:i,1:o}=(0,A.useState)({});return(0,A.useEffect)((()=>{e&&t&&function(e,t){var s;if(!(0,n.isAddress)(e))return Promise.reject(new Error("Invalid address"));const i="".concat(t,":").concat(e);return F[i]=null!==(s=F[i])&&void 0!==s?s:fetch(P.tb).then((e=>e.json())).then((t=>{var s;const i=null!==(s=t.claims[(0,n.getAddress)(e)])&&void 0!==s?s:void 0;return i?{index:i.index,amount:i.amount,proof:i.proof}:null})).catch((e=>console.error("Failed to get claim data",e)))}(e,t).then((e=>o((t=>T(T({},t),{},{[s]:e})))))}),[e,t,s]),e&&t?i[s]:void 0}function Q(e){const{chainId:t}=(0,E.aQ)(),s=U(e),n=function(e){var t;const s=U(e),n=(0,C.mj)(),i=(0,Z.Wk)(n,"isClaimed",[null===s||void 0===s?void 0:s.index]);return Boolean(s&&!i.loading&&!1===(null===(t=i.result)||void 0===t?void 0:t[0]))}(e),i=t?O.hs[t]:void 0;if(i)return n&&s?O.ih.fromRawAmount(i,O.QA.BigInt(s.amount)):O.ih.fromRawAmount(i,O.QA.BigInt(0))}function D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function B(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?D(Object(s),!0).forEach((function(t){(0,S.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}const V={};function G(e){const{chainId:t}=(0,E.aQ)(),s="".concat(t,":").concat(e),{0:i,1:o}=(0,A.useState)({});return(0,A.useEffect)((()=>{e&&t&&function(e,t){var s;if(!(0,n.isAddress)(e))return Promise.reject(new Error("Invalid address"));const i="".concat(t,":").concat(e);return V[i]=null!==(s=V[i])&&void 0!==s?s:fetch(P.y).then((e=>e.json())).then((t=>{var s;const i=null!==(s=t.claims[(0,n.getAddress)(e)])&&void 0!==s?s:void 0;return i?{index:i.index,amount:i.amount,proof:i.proof}:null})).catch((e=>console.error("Failed to get claim data",e)))}(e,t).then((e=>o((t=>B(B({},t),{},{[s]:e})))))}),[e,t,s]),e&&t?i[s]:void 0}function W(e){const{chainId:t}=(0,E.aQ)(),s=G(e),n=function(e){var t;const s=G(e),n=(0,C.wv)(),i=(0,Z.Wk)(n,"isClaimed",[null===s||void 0===s?void 0:s.index]);return Boolean(s&&!i.loading&&!1===(null===(t=i.result)||void 0===t?void 0:t[0]))}(e),i=t?O.hs[t]:void 0;if(i)return n&&s?O.ih.fromRawAmount(i,O.QA.BigInt(s.amount)):O.ih.fromRawAmount(i,O.QA.BigInt(0))}var M=s(99154),R=s(2528),$=s(41664),z=s.n($),Y=s(2962),X=s(85893);const J=()=>{const{i18n:e}=(0,r.mV)(),{inputValue:t,outputValue:s}=(0,M.j$)(),{tokens:n,general:i}=(0,M.vG)(),{balances:l}=(0,M.If)();return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(Y.PB,{title:"Vesting"}),(0,X.jsxs)(a.Z,{maxWidth:"5xl",className:"flex flex-col gap-8 px-4 py-8 mx-auto",children:[(0,X.jsx)("div",{className:"flex items-center gap-8",children:(0,X.jsx)(q,{})}),(0,X.jsxs)("div",{className:"grid grid-cols-12 space-y-10 md:gap-10 md:space-y-0",children:[(0,X.jsx)("div",{className:"col-span-12 md:col-span-3",children:(0,X.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,X.jsx)(g.Z,{}),(0,X.jsx)(z(),{href:"/tools/meowshi",children:(0,X.jsx)("a",{className:"bg-dark-900 cursor-pointer border border-transparent pl-5 py-2 rounded whitespace-nowrap w-full font-bold h-[48px] flex items-center text-sm",children:"SUSHI \u2192 MEOW"})})]})}),(0,X.jsxs)("div",{className:"grid col-span-12 gap-4 md:col-span-9",children:[(0,X.jsxs)("div",{className:"flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[(0,X.jsx)(w.Z,{}),(0,X.jsx)(b.Z,{})]}),(0,X.jsx)(d.Z,{className:"max-w-[100%]",children:(0,X.jsxs)("div",{className:"grid gap-8 p-5 border-2 rounded bg-dark-900 border-dark-700",children:[(0,X.jsxs)("div",{className:"flex flex-col items-start md:flex-row",children:[(0,X.jsx)("div",{className:"w-full mr-2 md:w-3/5",children:(0,X.jsx)(v.Z,{label:e._(e._("From")),showMax:!0,value:t,token:null===n||void 0===n?void 0:n.inputToken,symbol:null===i||void 0===i?void 0:i.inputSymbol,balance:null===l||void 0===l?void 0:l.inputTokenBalance,field:R.g.INPUT})}),(0,X.jsx)("div",{className:"flex items-center md:w-[60px] z-1 relative md:ml-[-16px] md:mr-[-16px] md:mt-[34px] justify-center w-full",children:(0,X.jsx)("div",{className:"w-[60px] h-[60px] rounded-full md:bg-dark-800 border-2 border-dark-900 p-2 flex items-center justify-center transform rotate-90 md:rotate-0",children:(0,X.jsx)(o.Z,{width:24,height:24,className:"text-high-emphesis"})})}),(0,X.jsx)("div",{className:"w-full md:w-2/5 md:ml-2",children:(0,X.jsx)(v.Z,{label:e._(e._("To")),value:s,token:null===n||void 0===n?void 0:n.outputToken,symbol:null===i||void 0===i?void 0:i.outputSymbol,balance:null===l||void 0===l?void 0:l.outputTokenBalance,field:R.g.OUTPUT})})]}),(0,X.jsx)(p.Z,{color:"gradient",className:"font-bold",children:"Execute"}),(0,X.jsx)("div",{className:"relative mt-0 -m-5 rounded-b p-7 bg-dark-700",children:(0,X.jsx)(j.Z,{})})]})})]})]})]})]})},q=()=>{const{i18n:e}=(0,r.mV)();return(0,X.jsxs)("div",{className:"flex flex-col w-full space-y-4 md:flex-row md:space-x-8 md:space-y-0",children:[(0,X.jsx)("div",{className:"hidden space-y-10 md:block",children:(0,X.jsxs)("div",{className:"relative w-full p-4 overflow-hidden rounded bg-dark-900",children:[(0,X.jsx)("div",{className:"font-bold text-white",children:e._(e._("Community Approval"))}),(0,X.jsx)("div",{className:"pt-2 text-sm font-bold text-gray-400",style:{maxWidth:"300px",minHeight:"150px"},children:(0,X.jsxs)(X.Fragment,{children:[e._(e._("Vesting is executed within the guidelines selected by the community in"))," ",(0,X.jsx)(u.Z,{href:"https://snapshot.org/#/sushi/proposal/QmPwBGy98NARoEcUfuWPgzMdJdiaZub1gVic67DcSs6NZQ",children:"SIMP3"}),".",(0,X.jsx)("br",{}),(0,X.jsx)("br",{}),e._(e._("Please refer to the"))," ",(0,X.jsx)(u.Z,{href:"https://forum.sushiswapclassic.org/t/simp-3-vesting-and-the-future-of-sushiswap/1794",children:e._(e._("forum discussion"))})," ",e._(e._("for deliberations on additional points.")),(0,X.jsx)("br",{}),(0,X.jsx)("br",{}),e._(e._("Additional records and weekly merkle updates can be found on"))," ",(0,X.jsx)(u.Z,{href:"https://github.com/sushiswap/sushi-vesting",children:"GitHub"})]})})]})}),(0,X.jsx)(ee,{}),(0,X.jsx)(K,{})]})},K=()=>{var e;const{i18n:t}=(0,r.mV)(),s=(0,_.oL)(k.Lk.SELF_CLAIM),o=(0,_.G_)(),{account:a}=(0,E.aQ)(),{0:d,1:u}=(0,A.useState)(!1),{claimCallback:x}=function(e){const{library:t,chainId:s}=(0,E.aQ)(),n=U(e),i=Q(e),o=(0,L.h7)(),r=(0,C.mj)();return{claimCallback:async function(){if(!n||!e||!t||!s||!r)return;const l=[n.index,e,n.amount,n.proof];return r.estimateGas.claim(...l,{}).then((t=>r.claim(...l,{value:null,gasLimit:(0,I.yC)(t)}).then((t=>(o(t,{summary:"Claimed ".concat(null===i||void 0===i?void 0:i.toSignificant(4)," SUSHI"),claim:{recipient:e}}),t.hash)))))}}}(a),v=Q(a),{claimSubmitted:p}=(0,L.bh)(null!==a&&void 0!==a?a:void 0),j=!1;(0,A.useEffect)((()=>{j}),[d,j,p,s,o]);const{0:b,1:g}=(0,A.useState)();(0,A.useEffect)((()=>{(async()=>{a&&fetch("https://raw.githubusercontent.com/sushiswap/sushi-vesting/master/amounts-protocols-10959148-12171394.json").then((e=>e.json())).then((e=>{const t=e[a.toLowerCase()]?e[a.toLowerCase()]:"0",s=h.i.from(i.O$.from(t),i.O$.from(10).pow(18)).toString();g(s)})).catch((e=>{console.log(e)}))})()}),[a]);const w=!1;return(0,X.jsx)("div",{className:"flex flex-col gap-3 md:max-w-[400px]",children:(0,X.jsx)("div",{className:"relative w-full h-full overflow-hidden rounded bg-dark-900",children:(0,X.jsxs)("div",{className:"flex flex-col gap-3 p-4",children:[(0,X.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,X.jsx)("div",{className:"font-bold text-white",children:t._(t._("Claimable SUSHI from Protocols"))}),(0,X.jsx)(f.Z,{text:"If you participated in staking progammes from Alpha Homora, Cream, DefiDollar, Dracula, Harvest, Pickle, Yam, or Badger you can claim your vested SUSHI directly here"})]}),(0,X.jsxs)("div",{className:"flex flex-col items-baseline pb-4",children:[(0,X.jsx)("div",{className:"font-bold text-white text-[36px]",children:null===v||void 0===v?void 0:v.toFixed(4,null!==(e={groupSeparator:","})&&void 0!==e?e:{})}),a?(0,X.jsx)("div",{className:"text-sm text-secondary",children:b?t._(t._("Historical Total Locked: {0} SUSHI",{0:(0,y.uf)(b)})):(0,X.jsx)(c.Z,{children:t._(t._("Historical Total Locked: Fetching Total"))})}):(0,X.jsx)("div",{className:"text-sm text-secondary",children:t._(t._("Historical Total Locked: Connect Wallet"))})]}),(0,X.jsxs)(l.ZP,{color:!(0,n.isAddress)(null!==a&&void 0!==a?a:"")||!v||Number(null===v||void 0===v?void 0:v.toFixed(8))<=0?"gray":"gradient",disabled:!(0,n.isAddress)(null!==a&&void 0!==a?a:"")||!v||Number(null===v||void 0===v?void 0:v.toFixed(8))<=0||w,size:"default",onClick:function(){u(!0),x().catch((e=>{u(!1),console.log(e)}))},className:"inline-flex items-center justify-center",children:[(0,X.jsxs)(X.Fragment,{children:[" ",t._(t._("Claim SUSHI"))]}),d&&(0,X.jsx)(m.Z,{stroke:"white",style:{marginLeft:"10px"}})]})]})})})},ee=()=>{var e;const{i18n:t}=(0,r.mV)(),s=(0,_.oL)(k.Lk.SELF_CLAIM),o=(0,_.G_)(),{account:a}=(0,E.aQ)(),{0:d,1:u}=(0,A.useState)(!1),{claimCallback:x}=function(e){const{library:t,chainId:s}=(0,E.aQ)(),n=G(e),i=W(e),o=(0,L.h7)(),r=(0,C.wv)();return{claimCallback:async function(){if(!n||!e||!t||!s||!r)return;const l=[n.index,e,n.amount,n.proof];return r.estimateGas.claim(...l,{}).then((t=>r.claim(...l,{value:null,gasLimit:(0,I.yC)(t)}).then((t=>(o(t,{summary:"Claimed ".concat(null===i||void 0===i?void 0:i.toSignificant(4)," SUSHI"),claim:{recipient:e}}),t.hash)))))}}}(a),v=W(a),{claimSubmitted:p}=(0,L.bh)(null!==a&&void 0!==a?a:void 0),j=!1;(0,A.useEffect)((()=>{j}),[d,j,p,s,o]);const{0:b,1:g}=(0,A.useState)();(0,A.useEffect)((()=>{(async()=>{a&&fetch("https://raw.githubusercontent.com/sushiswap/sushi-vesting/master/amounts-10959148-12171394.json").then((e=>e.json())).then((e=>{const t=e[a.toLowerCase()]?e[a.toLowerCase()]:"0",s=h.i.from(i.O$.from(t),i.O$.from(10).pow(18)).toString();g(s)})).catch((e=>{console.log(e)}))})()}),[a]);const w=!1;let N="";return Number(null===v||void 0===v?void 0:v.toFixed(8))>0?N="https://raw.githubusercontent.com/sushiswap/sushi-content/master/images/sushi-vault-reverse.png":Number(null===v||void 0===v?void 0:v.toFixed(8))<=0&&(N="https://raw.githubusercontent.com/sushiswap/sushi-content/master/images/vesting-safe-off.png"),(0,X.jsx)("div",{className:"flex flex-col gap-3 md:max-w-[400px]",children:(0,X.jsx)("div",{className:"relative w-full h-full overflow-hidden rounded bg-dark-900",children:(0,X.jsxs)("div",{className:"flex flex-col gap-3 p-4",children:[(0,X.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,X.jsx)("div",{className:"font-bold text-white",children:t._(t._("Your Claimable SUSHI this Week"))}),(0,X.jsx)(f.Z,{text:"Your Vested SUSHI will be released each week for the next 6 months. The amount released each week is determined by your historical farming rewards. You do not need to harvest each week as unclaimed amounts from each week will continue to accrue onto the next."})]}),(0,X.jsxs)("div",{className:"flex flex-col items-baseline pb-4",children:[(0,X.jsx)("div",{className:"font-bold text-white text-[36px]",children:null===v||void 0===v?void 0:v.toFixed(4,null!==(e={groupSeparator:","})&&void 0!==e?e:{})}),a?(0,X.jsx)("div",{className:"text-sm text-secondary",children:b?t._(t._("Historical Total Locked: {0} SUSHI",{0:(0,y.uf)(b)})):(0,X.jsx)(c.Z,{children:t._(t._("Historical Total Locked: Fetching Total"))})}):(0,X.jsx)("div",{className:"text-sm text-secondary",children:t._(t._("Historical Total Locked: Connect Wallet"))})]}),(0,X.jsxs)(l.ZP,{color:!(0,n.isAddress)(null!==a&&void 0!==a?a:"")||!v||Number(null===v||void 0===v?void 0:v.toFixed(8))<=0?"gray":"gradient",disabled:!(0,n.isAddress)(null!==a&&void 0!==a?a:"")||!v||Number(null===v||void 0===v?void 0:v.toFixed(8))<=0||w,size:"default",onClick:function(){u(!0),x().catch((e=>{u(!1),console.log(e)}))},className:"inline-flex items-center justify-center",children:[(0,X.jsxs)(X.Fragment,{children:[" ",t._(t._("Claim SUSHI"))]}),d&&(0,X.jsx)(m.Z,{stroke:"white",style:{marginLeft:"10px"}})]})]})})})};J.Guard=(0,N.Z)(x.L.VESTING);var te=J},27349:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vesting",function(){return s(52624)}])}},function(e){e.O(0,[6467,9774,2888,179],(function(){return t=27349,e(e.s=t);var t}));var t=e.O();_N_E=t}]);